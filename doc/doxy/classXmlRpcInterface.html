<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OverSim: XmlRpcInterface Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>XmlRpcInterface Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="XmlRpcInterface" --><!-- doxytag: inherits="BaseApp,XmlRpc::XmlRpcServer" -->
<p>Applicaton that communicates with a realword application via a socket.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="XmlRpcInterface_8h_source.html">XmlRpcInterface.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for XmlRpcInterface:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classXmlRpcInterface.png" usemap="#XmlRpcInterface_map" alt=""/>
  <map id="XmlRpcInterface_map" name="XmlRpcInterface_map">
<area href="classBaseApp.html" alt="BaseApp" shape="rect" coords="77,112,222,136"/>
<area href="classXmlRpc_1_1XmlRpcServer.html" alt="XmlRpc::XmlRpcServer" shape="rect" coords="310,112,455,136"/>
<area href="classBaseRpc.html" alt="BaseRpc" shape="rect" coords="0,56,145,80"/>
<area href="classBaseTcpSupport.html" alt="BaseTcpSupport" shape="rect" coords="155,56,300,80"/>
<area href="classXmlRpc_1_1XmlRpcSource.html" alt="XmlRpc::XmlRpcSource" shape="rect" coords="310,56,455,80"/>
<area href="classRpcListener.html" alt="RpcListener" shape="rect" coords="0,0,145,24"/>
</map>
</div>

<p><a href="classXmlRpcInterface-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structXmlRpcInterface_1_1XmlRpcConnectionState.html">XmlRpcConnectionState</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#a9e9b8193427d4b1ec0a13b9f0cde714f">XmlRpcInterface</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#a616f42e83dd83b89641d91a4bf7dcb79">~XmlRpcInterface</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#a86c1b02bb908c1fe82d5936f760d5e6f">initializeApp</a> (int stage)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#a2b18b571f3614d6c29e255d1193f2157">handleMessage</a> (cMessage *msg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The "main loop".  <a href="#a2b18b571f3614d6c29e255d1193f2157"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#a8638b7059d216ab0716e558d11421666">handleRpcTimeout</a> (<a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *msg, const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;dest, cPolymorphic *context, int rpcId, const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#a9d0752632bc0eddb33d2b95e13f47dc0">deliverTunneledMessage</a> (const <a class="el" href="classBinaryValue.html">BinaryValue</a> &amp;payload)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#ae7ada92483ec0ab24925f2944977e813">localLookup</a> (<a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;params, <a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;result)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#a725cd3ceadeed7a4f2f334974cfa55c0">lookup</a> (<a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;params, <a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;result)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#a3e8dc35258238becf3d2299d71e422de">p2pnsRegister</a> (<a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;params, <a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;result)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#a6939fdc168419f3bc02a7407992e871c">p2pnsResolve</a> (<a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;params, <a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;result)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#a3fe030f19772c1987400c9cbf07e78dc">put</a> (<a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;params, <a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;result)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#a2667b3e4f14f2d394932a487b08fe04c">get</a> (<a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;params, <a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;result)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#a0c6a65089bc3d2fdf328e8ef07e1a49b">dumpDht</a> (<a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;params, <a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;result)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#af61626db1a14c1fd2114ca016617d30c">joinOverlay</a> (<a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;params, <a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;result)</td></tr>
<tr><td colspan="2"><h2><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#acc56e9801b3cabe12bc3404d4f1de794">ServerConnectionState</a> { <a class="el" href="classXmlRpcInterface.html#acc56e9801b3cabe12bc3404d4f1de794aba5a488ac500cd38a0206cdcb51031ea">READ_HEADER</a>, 
<a class="el" href="classXmlRpcInterface.html#acc56e9801b3cabe12bc3404d4f1de794a3384efeb1fb284eb4f9570f4b4d0f61f">READ_REQUEST</a>, 
<a class="el" href="classXmlRpcInterface.html#acc56e9801b3cabe12bc3404d4f1de794a9d5f57a03d2fa7442a354f803ffe6452">EXECUTE_REQUEST</a>, 
<a class="el" href="classXmlRpcInterface.html#acc56e9801b3cabe12bc3404d4f1de794a739fb884f909df2fec67a10878ae5330">WRITE_RESPONSE</a>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Possible IO states for the connection. </p>
 <a href="classXmlRpcInterface.html#acc56e9801b3cabe12bc3404d4f1de794">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#ad47c59f893ee30ae5e56cf87459944b2">readHeader</a> (char *buf, uint32_t length)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads the http header.  <a href="#ad47c59f893ee30ae5e56cf87459944b2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#a8016d47290ad29582e6bf178edd5f2a6">readRequest</a> (char *buf, uint32_t length)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads the request (based on the content-length header value).  <a href="#a8016d47290ad29582e6bf178edd5f2a6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#af88369ddb76ebd54117f46fc57969557">writeResponse</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Executes the request and writes the resulting response.  <a href="#af88369ddb76ebd54117f46fc57969557"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#ad16d568eb4e7b9c122fd3feaebcc6c1c">isPrivileged</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if the connected application is allowed to call privileged methods.  <a href="#ad16d568eb4e7b9c122fd3feaebcc6c1c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#aecf15cf50dcedd8b11297d9b7140e07a">handleAppTunPacket</a> (char *buf, uint32_t len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#a61f76e15a1160a765ee59558bf5ea52d">handleRealworldPacket</a> (char *buf, uint32_t len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#aef16e0a16ba2f3be91658343a4854f35">handleCommonAPIPacket</a> (cMessage *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#a22d4c238f2faa751d838c81696f4f686">handleRpcResponse</a> (<a class="el" href="classBaseResponseMessage.html">BaseResponseMessage</a> *msg, cPolymorphic *context, int rpcId, simtime_t rtt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#ab59f8cbf0bfc71c761d1c9167ff3803c">resetConnectionState</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reset the internal connection state.  <a href="#ab59f8cbf0bfc71c761d1c9167ff3803c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#af862373d24c9d482d4daf51b1522d800">closeConnection</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#a32d6a205db854ee23024c9a39d58b92f">sendInternalRpcWithTimeout</a> (<a class="el" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5e">CompType</a> destComp, <a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *call)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#a218bcf294028b8528e7ff4997a34a063">handleReadyMessage</a> (<a class="el" href="classCompReadyMessage.html">CompReadyMessage</a> *msg)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#a9052c244a6ed0fc872303e2f0c255255">mtu</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#a54ce9f1884916792c9825e7fc6401dd4">packetNotification</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRealtimeScheduler.html#a79fbe4a4228382420aadd2e7263b6e0b">RealtimeScheduler::PacketBuffer</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#aaac7acff7aa7de89e7dc9cde8ea95079">packetBuffer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRealtimeScheduler.html">RealtimeScheduler</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#a6f1a7683989c76b32ded7e8ac52c8248">scheduler</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::map&lt; int, <br class="typebreak"/>
<a class="el" href="structXmlRpcInterface_1_1XmlRpcConnectionState.html">XmlRpcConnectionState</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">SOCKET&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#abcb493b05584e846dba169cd4ee1e24a">limitAccess</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classXmlRpc_1_1XmlRpcServerMethod.html">XmlRpc::XmlRpcServerMethod</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#a1b1384f7e1f9fa85b0315eb08dd6ad6a">_localLookup</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classXmlRpc_1_1XmlRpcServerMethod.html">XmlRpc::XmlRpcServerMethod</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#a96d4c9d9db66dd0704eddb8c9aac44ee">_lookup</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classXmlRpc_1_1XmlRpcServerMethod.html">XmlRpc::XmlRpcServerMethod</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#ac4764420da8901c51140d5a98c30c53a">_register</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classXmlRpc_1_1XmlRpcServerMethod.html">XmlRpc::XmlRpcServerMethod</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#a1d3fba55b244646cf073076723158986">_resolve</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classXmlRpc_1_1XmlRpcServerMethod.html">XmlRpc::XmlRpcServerMethod</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#ac0e9f518dd46ceb0c46b73ce88a9fc15">_put</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classXmlRpc_1_1XmlRpcServerMethod.html">XmlRpc::XmlRpcServerMethod</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#a4369a776b67f5f572a4b2728d6875083">_get</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classXmlRpc_1_1XmlRpcServerMethod.html">XmlRpc::XmlRpcServerMethod</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#aee1b509ea3fa85aba611809d462426e7">_dumpDht</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classXmlRpc_1_1XmlRpcServerMethod.html">XmlRpc::XmlRpcServerMethod</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#a20b719a3e8b5a170bc1df60eb1572040">_joinOverlay</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">SOCKET&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#a4a5abd718044c3db8443d7984f201623">appTunFd</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">FD of the application TUN socket used for tunneling.  <a href="#a4a5abd718044c3db8443d7984f201623"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classP2pns.html">P2pns</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXmlRpcInterface.html#a07c104f16ae63f7ec1abbddb5c8f3a05">p2pns</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pointer to the P2PNS module.  <a href="#a07c104f16ae63f7ec1abbddb5c8f3a05"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Applicaton that communicates with a realword application via a socket. </p>

<p>Definition at line <a class="el" href="XmlRpcInterface_8h_source.html#l00044">44</a> of file <a class="el" href="XmlRpcInterface_8h_source.html">XmlRpcInterface.h</a>.</p>
<hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="acc56e9801b3cabe12bc3404d4f1de794"></a><!-- doxytag: member="XmlRpcInterface::ServerConnectionState" ref="acc56e9801b3cabe12bc3404d4f1de794" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classXmlRpcInterface.html#acc56e9801b3cabe12bc3404d4f1de794">XmlRpcInterface::ServerConnectionState</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Possible IO states for the connection. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="acc56e9801b3cabe12bc3404d4f1de794aba5a488ac500cd38a0206cdcb51031ea"></a><!-- doxytag: member="READ_HEADER" ref="acc56e9801b3cabe12bc3404d4f1de794aba5a488ac500cd38a0206cdcb51031ea" args="" -->READ_HEADER</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="acc56e9801b3cabe12bc3404d4f1de794a3384efeb1fb284eb4f9570f4b4d0f61f"></a><!-- doxytag: member="READ_REQUEST" ref="acc56e9801b3cabe12bc3404d4f1de794a3384efeb1fb284eb4f9570f4b4d0f61f" args="" -->READ_REQUEST</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="acc56e9801b3cabe12bc3404d4f1de794a9d5f57a03d2fa7442a354f803ffe6452"></a><!-- doxytag: member="EXECUTE_REQUEST" ref="acc56e9801b3cabe12bc3404d4f1de794a9d5f57a03d2fa7442a354f803ffe6452" args="" -->EXECUTE_REQUEST</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="acc56e9801b3cabe12bc3404d4f1de794a739fb884f909df2fec67a10878ae5330"></a><!-- doxytag: member="WRITE_RESPONSE" ref="acc56e9801b3cabe12bc3404d4f1de794a739fb884f909df2fec67a10878ae5330" args="" -->WRITE_RESPONSE</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="XmlRpcInterface_8h_source.html#l00063">63</a> of file <a class="el" href="XmlRpcInterface_8h_source.html">XmlRpcInterface.h</a>.</p>

<p><div class="fragment"><pre class="fragment">                               { READ_HEADER, READ_REQUEST, EXECUTE_REQUEST,
                             <a class="code" href="classXmlRpcInterface.html#acc56e9801b3cabe12bc3404d4f1de794a739fb884f909df2fec67a10878ae5330">WRITE_RESPONSE</a> };
</pre></div></p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a9e9b8193427d4b1ec0a13b9f0cde714f"></a><!-- doxytag: member="XmlRpcInterface::XmlRpcInterface" ref="a9e9b8193427d4b1ec0a13b9f0cde714f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XmlRpcInterface::XmlRpcInterface </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8cc_source.html#l00467">467</a> of file <a class="el" href="XmlRpcInterface_8cc_source.html">XmlRpcInterface.cc</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <a class="code" href="classXmlRpcInterface.html#a07c104f16ae63f7ec1abbddb5c8f3a05" title="Pointer to the P2PNS module.">p2pns</a> = NULL;

    <a class="code" href="classXmlRpcInterface.html#a1b1384f7e1f9fa85b0315eb08dd6ad6a">_localLookup</a> = NULL;
    <a class="code" href="classXmlRpcInterface.html#a96d4c9d9db66dd0704eddb8c9aac44ee">_lookup</a> = NULL;
    <a class="code" href="classXmlRpcInterface.html#ac4764420da8901c51140d5a98c30c53a">_register</a> = NULL;
    <a class="code" href="classXmlRpcInterface.html#a1d3fba55b244646cf073076723158986">_resolve</a> = NULL;
    <a class="code" href="classXmlRpcInterface.html#ac0e9f518dd46ceb0c46b73ce88a9fc15">_put</a> = NULL;
    <a class="code" href="classXmlRpcInterface.html#a4369a776b67f5f572a4b2728d6875083">_get</a> = NULL;
    <a class="code" href="classXmlRpcInterface.html#aee1b509ea3fa85aba611809d462426e7">_dumpDht</a> = NULL;
    <a class="code" href="classXmlRpcInterface.html#a20b719a3e8b5a170bc1df60eb1572040">_joinOverlay</a> = NULL;

    <a class="code" href="classXmlRpcInterface.html#a54ce9f1884916792c9825e7fc6401dd4">packetNotification</a> = NULL;
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a616f42e83dd83b89641d91a4bf7dcb79"></a><!-- doxytag: member="XmlRpcInterface::~XmlRpcInterface" ref="a616f42e83dd83b89641d91a4bf7dcb79" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XmlRpcInterface::~XmlRpcInterface </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8cc_source.html#l00483">483</a> of file <a class="el" href="XmlRpcInterface_8cc_source.html">XmlRpcInterface.cc</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="keyword">delete</span> <a class="code" href="classXmlRpcInterface.html#a1b1384f7e1f9fa85b0315eb08dd6ad6a">_localLookup</a>;
    <span class="keyword">delete</span> <a class="code" href="classXmlRpcInterface.html#a96d4c9d9db66dd0704eddb8c9aac44ee">_lookup</a>;
    <span class="keyword">delete</span> <a class="code" href="classXmlRpcInterface.html#ac4764420da8901c51140d5a98c30c53a">_register</a>;
    <span class="keyword">delete</span> <a class="code" href="classXmlRpcInterface.html#a1d3fba55b244646cf073076723158986">_resolve</a>;
    <span class="keyword">delete</span> <a class="code" href="classXmlRpcInterface.html#ac0e9f518dd46ceb0c46b73ce88a9fc15">_put</a>;
    <span class="keyword">delete</span> <a class="code" href="classXmlRpcInterface.html#a4369a776b67f5f572a4b2728d6875083">_get</a>;
    <span class="keyword">delete</span> <a class="code" href="classXmlRpcInterface.html#aee1b509ea3fa85aba611809d462426e7">_dumpDht</a>;
    <span class="keyword">delete</span> <a class="code" href="classXmlRpcInterface.html#a20b719a3e8b5a170bc1df60eb1572040">_joinOverlay</a>;

    cancelAndDelete(<a class="code" href="classXmlRpcInterface.html#a54ce9f1884916792c9825e7fc6401dd4">packetNotification</a>);
}
</pre></div></p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="af862373d24c9d482d4daf51b1522d800"></a><!-- doxytag: member="XmlRpcInterface::closeConnection" ref="af862373d24c9d482d4daf51b1522d800" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XmlRpcInterface::closeConnection </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8cc_source.html#l00513">513</a> of file <a class="el" href="XmlRpcInterface_8cc_source.html">XmlRpcInterface.cc</a>.</p>

<p>Referenced by <a class="el" href="XmlRpcInterface_8cc_source.html#l00742">handleRealworldPacket()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00768">handleRpcResponse()</a>, and <a class="el" href="XmlRpcInterface_8cc_source.html#l00619">handleRpcTimeout()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <a class="code" href="classXmlRpcInterface.html#a6f1a7683989c76b32ded7e8ac52c8248">scheduler</a>-&gt;<a class="code" href="classRealtimeScheduler.html#abcd19c1a27de8c11660f61de68e6a8f5" title="Close the application TCP socket.">closeAppSocket</a>(<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>);
    <a class="code" href="classXmlRpcInterface.html#ab59f8cbf0bfc71c761d1c9167ff3803c" title="Reset the internal connection state.">resetConnectionState</a>();
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a9d0752632bc0eddb33d2b95e13f47dc0"></a><!-- doxytag: member="XmlRpcInterface::deliverTunneledMessage" ref="a9d0752632bc0eddb33d2b95e13f47dc0" args="(const BinaryValue &amp;payload)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XmlRpcInterface::deliverTunneledMessage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classBinaryValue.html">BinaryValue</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>payload</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8cc_source.html#l00722">722</a> of file <a class="el" href="XmlRpcInterface_8cc_source.html">XmlRpcInterface.cc</a>.</p>

<p>Referenced by <a class="el" href="P2pns_8cc_source.html#l00186">P2pns::deliver()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
<span class="preprocessor">#if not defined _WIN32 &amp;&amp; not defined __APPLE__</span>
<span class="preprocessor"></span>    Enter_Method_Silent();

    <span class="keywordflow">if</span> (payload.size() == 0) {
        <span class="keywordflow">return</span>;
    }

    <span class="keywordtype">int</span> curBytesWritten = <a class="code" href="classXmlRpcInterface.html#a6f1a7683989c76b32ded7e8ac52c8248">scheduler</a>-&gt;<a class="code" href="classRealtimeScheduler.html#adb359f57379d33cfa8300cdd5beb2487" title="Send data to network.">sendBytes</a>(&amp;payload[0],
                                               payload.size(),
                                               0, 0, <span class="keyword">true</span>, <a class="code" href="classXmlRpcInterface.html#a4a5abd718044c3db8443d7984f201623" title="FD of the application TUN socket used for tunneling.">appTunFd</a>);

    <span class="keywordflow">if</span> (curBytesWritten &lt;= 0) {
        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;XmlRpcServerConnection::deliverTunneledMessage(): &quot;</span>
                            <span class="stringliteral">&quot;Error writing to application TUN device.&quot;</span>);
    }
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0c6a65089bc3d2fdf328e8ef07e1a49b"></a><!-- doxytag: member="XmlRpcInterface::dumpDht" ref="a0c6a65089bc3d2fdf328e8ef07e1a49b" args="(XmlRpc::XmlRpcValue &amp;params, XmlRpc::XmlRpcValue &amp;result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XmlRpcInterface::dumpDht </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8cc_source.html#l00404">404</a> of file <a class="el" href="XmlRpcInterface_8cc_source.html">XmlRpcInterface.cc</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (params.<a class="code" href="classXmlRpc_1_1XmlRpcValue.html#a7f3a1969a5506df8d045bb01632f9f2d" title="Return the size for string, base64, array, and struct values.">size</a>() != 1) {
        <span class="keywordflow">throw</span> <a class="code" href="classXmlRpc_1_1XmlRpcException.html" title="A class representing an error.">XmlRpcException</a>(<span class="stringliteral">&quot;dump_dht(int dummy): Invalid argument type&quot;</span>);
    }

    <span class="keywordflow">if</span> (!<a class="code" href="classXmlRpcInterface.html#ad16d568eb4e7b9c122fd3feaebcc6c1c" title="Check if the connected application is allowed to call privileged methods.">isPrivileged</a>()) {
         <span class="keywordflow">throw</span> <a class="code" href="classXmlRpc_1_1XmlRpcException.html" title="A class representing an error.">XmlRpcException</a>(<span class="stringliteral">&quot;dump_dht(int dummy): Not allowed&quot;</span>);
     }

    <span class="keywordflow">if</span> (<a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseOverlay.html#a3aba2b6e93094d3cc8107d33db4b5244">getCompModule</a>(<a class="code" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5ea098b73cd039f61df8b83f056c12b4d3b">TIER1_COMP</a>) == NULL)
        <span class="keywordflow">throw</span> <a class="code" href="classXmlRpc_1_1XmlRpcException.html" title="A class representing an error.">XmlRpcException</a>(<span class="stringliteral">&quot;dump_dht(): No DHT service&quot;</span>);

    <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._connectionState = EXECUTE_REQUEST;

    <a class="code" href="classDHTdumpCall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">DHTdumpCall</a>* call = <span class="keyword">new</span> <a class="code" href="classDHTdumpCall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">DHTdumpCall</a>();

    <a class="code" href="classXmlRpcInterface.html#a32d6a205db854ee23024c9a39d58b92f">sendInternalRpcWithTimeout</a>(<a class="code" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5ea098b73cd039f61df8b83f056c12b4d3b">TIER1_COMP</a>, call);
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2667b3e4f14f2d394932a487b08fe04c"></a><!-- doxytag: member="XmlRpcInterface::get" ref="a2667b3e4f14f2d394932a487b08fe04c" args="(XmlRpc::XmlRpcValue &amp;params, XmlRpc::XmlRpcValue &amp;result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XmlRpcInterface::get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8cc_source.html#l00380">380</a> of file <a class="el" href="XmlRpcInterface_8cc_source.html">XmlRpcInterface.cc</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ((params.<a class="code" href="classXmlRpc_1_1XmlRpcValue.html#a7f3a1969a5506df8d045bb01632f9f2d" title="Return the size for string, base64, array, and struct values.">size</a>() != 4)
            || (params[0].getType() != XmlRpcValue::TypeBase64)
            || (params[1].getType() != XmlRpcValue::TypeInt)
            || (params[2].getType() != XmlRpcValue::TypeBase64)
            || (params[3].getType() != XmlRpcValue::TypeString))
        <span class="keywordflow">throw</span> <a class="code" href="classXmlRpc_1_1XmlRpcException.html" title="A class representing an error.">XmlRpcException</a>(<span class="stringliteral">&quot;get(base64 key, int num, base64 placemark &quot;</span>
                <span class="stringliteral">&quot;, string application): Invalid argument type&quot;</span>);

    <span class="keywordflow">if</span> (<a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseOverlay.html#a3aba2b6e93094d3cc8107d33db4b5244">getCompModule</a>(<a class="code" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5ea098b73cd039f61df8b83f056c12b4d3b">TIER1_COMP</a>) == NULL)
        <span class="keywordflow">throw</span> <a class="code" href="classXmlRpc_1_1XmlRpcException.html" title="A class representing an error.">XmlRpcException</a>(<span class="stringliteral">&quot;get(base64 key, int num, base64 placemark &quot;</span>
                <span class="stringliteral">&quot;, string application): No DHT service&quot;</span>);

    <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._connectionState = EXECUTE_REQUEST;

    <a class="code" href="classDHTgetCAPICall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">DHTgetCAPICall</a>* dhtGetMsg = <span class="keyword">new</span> <a class="code" href="classDHTgetCAPICall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">DHTgetCAPICall</a>();

    <a class="code" href="classBinaryValue.html">BinaryValue</a> keyString = (<span class="keyword">const</span> <a class="code" href="classXmlRpc_1_1XmlRpcValue.html#a0946bd810374aad0bd88dd90da73eeac">XmlRpcValue::BinaryData</a>&amp;)params[0];
    dhtGetMsg-&gt;<a class="code" href="classDHTgetCAPICall.html#a6e5d67043c6bac988991c65a5f10335e">setKey</a>(<a class="code" href="classOverlayKey.html#abbd73571f97d27468c417c9b3f91f175" title="Returns a key with the SHA1 cryptographic hash of a BinaryValue.">OverlayKey::sha1</a>(keyString));

    <a class="code" href="classXmlRpcInterface.html#a32d6a205db854ee23024c9a39d58b92f">sendInternalRpcWithTimeout</a>(<a class="code" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5ea098b73cd039f61df8b83f056c12b4d3b">TIER1_COMP</a>, dhtGetMsg);
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="aecf15cf50dcedd8b11297d9b7140e07a"></a><!-- doxytag: member="XmlRpcInterface::handleAppTunPacket" ref="aecf15cf50dcedd8b11297d9b7140e07a" args="(char *buf, uint32_t len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XmlRpcInterface::handleAppTunPacket </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8cc_source.html#l00682">682</a> of file <a class="el" href="XmlRpcInterface_8cc_source.html">XmlRpcInterface.cc</a>.</p>

<p>Referenced by <a class="el" href="XmlRpcInterface_8cc_source.html#l00527">handleMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
<span class="preprocessor">#if not defined _WIN32 &amp;&amp; not defined __APPLE__</span>
<span class="preprocessor"></span>    EV &lt;&lt; <span class="stringliteral">&quot;XmlRpcInterface::handleAppTunPacket(): packet of &quot;</span>
       &lt;&lt; <span class="stringliteral">&quot;length &quot;</span> &lt;&lt; length &lt;&lt; endl;

    <span class="keywordflow">if</span> (!<a class="code" href="classXmlRpcInterface.html#a07c104f16ae63f7ec1abbddb5c8f3a05" title="Pointer to the P2PNS module.">p2pns</a>) {
        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;XmlRpcInterface::handleAppTunPacket(): &quot;</span>
                <span class="stringliteral">&quot;P2PNS module missing on tier2!&quot;</span>);
    }

    <span class="keywordflow">if</span> (<a class="code" href="classOverlayKey.html#af855a4dfc0e5dc0d2afc6b87fa1d7426" title="Returns the length in number of bits.">OverlayKey::getLength</a>() &lt; 100) {
        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;XmlRpcInterface::handleAppTunPacket(): &quot;</span>
                <span class="stringliteral">&quot;P2PNS needs at least 100 bit nodeIds!&quot;</span>);
    }

    <span class="keywordflow">if</span> (length &lt; 40) {
        EV &lt;&lt; <span class="stringliteral">&quot;XmlRpcInterface::handleAppTunPacket(): packet too &quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;short - discarding packet!&quot;</span> &lt;&lt; endl;
        <span class="keywordflow">return</span>;
    }

    ip6_hdr* ip_buf = (ip6_hdr*) buf;
    <span class="keywordflow">if</span> (((ip_buf-&gt;ip6_vfc &amp; 0xf0) &gt;&gt; 4) != 6) {
        EV &lt;&lt; <span class="stringliteral">&quot;XmlRpcInterface::handleAppTunPacket(): received packet &quot;</span>
              <span class="stringliteral">&quot;is no IPv6 - discarding packet!&quot;</span> &lt;&lt; endl;
        <span class="keywordflow">return</span>;
    }

    <a class="code" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a> destKey = <a class="code" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a>(ntohl(ip_buf-&gt;ip6_dst.s6_addr32[0]));

    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; 4; i++) {
        destKey = (destKey &lt;&lt; 32) + <a class="code" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a>(ntohl(ip_buf-&gt;ip6_dst.s6_addr32[i]));
    }
    destKey = destKey &lt;&lt; (<a class="code" href="classOverlayKey.html#af855a4dfc0e5dc0d2afc6b87fa1d7426" title="Returns the length in number of bits.">OverlayKey::getLength</a>() - 100);

    <a class="code" href="classXmlRpcInterface.html#a07c104f16ae63f7ec1abbddb5c8f3a05" title="Pointer to the P2PNS module.">p2pns</a>-&gt;<a class="code" href="classP2pns.html#a7c80c9643bc1a0c79c0ea8d24c10b30d">tunnel</a>(destKey, <a class="code" href="classBinaryValue.html">BinaryValue</a>(buf, buf + length));
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>}
</pre></div></p>

</div>
</div>
<a class="anchor" id="aef16e0a16ba2f3be91658343a4854f35"></a><!-- doxytag: member="XmlRpcInterface::handleCommonAPIPacket" ref="aef16e0a16ba2f3be91658343a4854f35" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XmlRpcInterface::handleCommonAPIPacket </td>
          <td>(</td>
          <td class="paramtype">cMessage *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8cc_source.html#l00939">939</a> of file <a class="el" href="XmlRpcInterface_8cc_source.html">XmlRpcInterface.cc</a>.</p>

<p>Referenced by <a class="el" href="XmlRpcInterface_8cc_source.html#l00527">handleMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <a class="code" href="yang_8cc.html#adb989392f8aada21b0f7ec2f7a41dc00">error</a>(<span class="stringliteral">&quot;DHTXMLRealworldApp::handleCommonAPIPacket(): Unknown Packet!&quot;</span>);
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2b18b571f3614d6c29e255d1193f2157"></a><!-- doxytag: member="XmlRpcInterface::handleMessage" ref="a2b18b571f3614d6c29e255d1193f2157" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XmlRpcInterface::handleMessage </td>
          <td>(</td>
          <td class="paramtype">cMessage *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The "main loop". </p>
<p>Every message that is received or send is handled by this method </p>

<p>Definition at line <a class="el" href="XmlRpcInterface_8cc_source.html#l00527">527</a> of file <a class="el" href="XmlRpcInterface_8cc_source.html">XmlRpcInterface.cc</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="comment">// Packet from the application...</span>
    <span class="keywordflow">if</span> (msg==<a class="code" href="classXmlRpcInterface.html#a54ce9f1884916792c9825e7fc6401dd4">packetNotification</a>) {
        EV &lt;&lt; <span class="stringliteral">&quot;[XmlRpcInterface::handleMessage() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
        &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
        &lt;&lt; <span class="stringliteral">&quot;    Message from application. Queue length = &quot;</span> &lt;&lt; <a class="code" href="classXmlRpcInterface.html#aaac7acff7aa7de89e7dc9cde8ea95079">packetBuffer</a>.size()
        &lt;&lt; endl;
        <span class="keywordflow">while</span> (<a class="code" href="classXmlRpcInterface.html#aaac7acff7aa7de89e7dc9cde8ea95079">packetBuffer</a>.size() &gt; 0) {
            <span class="comment">// get packet from buffer and parse it</span>
            <a class="code" href="classRealtimeScheduler_1_1PacketBufferEntry.html">RealtimeScheduler::PacketBufferEntry</a> packet =
                    *(<a class="code" href="classXmlRpcInterface.html#aaac7acff7aa7de89e7dc9cde8ea95079">packetBuffer</a>.begin());
            <a class="code" href="classXmlRpcInterface.html#aaac7acff7aa7de89e7dc9cde8ea95079">packetBuffer</a>.pop_front();
            <a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a> = packet.<a class="code" href="classRealtimeScheduler_1_1PacketBufferEntry.html#a23ac9fc554a822543e43892a6c31fd90">fd</a>;

            <span class="keywordflow">switch</span> (packet.<a class="code" href="classRealtimeScheduler_1_1PacketBufferEntry.html#a2271148bb28de4531ebb96a330e83646">func</a>) {
            <span class="keywordflow">case</span> <a class="code" href="classRealtimeScheduler_1_1PacketBufferEntry.html#a7a03bec74e01f2a01bdf90ed5515c2e6a5868c2bc5289e475113b9e860698f41b">RealtimeScheduler::PacketBufferEntry::PACKET_APPTUN_DATA</a>:
                <a class="code" href="classXmlRpcInterface.html#aecf15cf50dcedd8b11297d9b7140e07a">handleAppTunPacket</a>(packet.<a class="code" href="classRealtimeScheduler_1_1PacketBufferEntry.html#aee733f5274ac5a12f6f3ac5d3e520664">data</a>, packet.<a class="code" href="classRealtimeScheduler_1_1PacketBufferEntry.html#a28499636de24fdc398e94dcf0df74278">length</a>);
                <span class="keywordflow">break</span>;

            <span class="keywordflow">case</span> <a class="code" href="classRealtimeScheduler_1_1PacketBufferEntry.html#a7a03bec74e01f2a01bdf90ed5515c2e6af92d228cb99e7da79963ba1f86d3f8b0">RealtimeScheduler::PacketBufferEntry::PACKET_DATA</a>:
                <span class="keywordflow">if</span> (<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>.count(<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>) == 0) {
                    <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;XmlRpcInterface::handleMessage(): &quot;</span>
                                            <span class="stringliteral">&quot;Received packet &quot;</span>
                                            <span class="stringliteral">&quot;from unknown socket!&quot;</span>);
                }

                <a class="code" href="classXmlRpcInterface.html#a61f76e15a1160a765ee59558bf5ea52d">handleRealworldPacket</a>(packet.<a class="code" href="classRealtimeScheduler_1_1PacketBufferEntry.html#aee733f5274ac5a12f6f3ac5d3e520664">data</a>, packet.<a class="code" href="classRealtimeScheduler_1_1PacketBufferEntry.html#a28499636de24fdc398e94dcf0df74278">length</a>);
                <span class="keywordflow">break</span>;

            <span class="keywordflow">case</span> <a class="code" href="classRealtimeScheduler_1_1PacketBufferEntry.html#a7a03bec74e01f2a01bdf90ed5515c2e6a3fcc49b08b37788c063c293398d6512f">RealtimeScheduler::PacketBufferEntry::PACKET_FD_NEW</a>:
                <span class="keywordflow">if</span> (<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>.count(<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>)) {
                    <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;XmlRpcInterface::handleMessage(): &quot;</span>
                                            <span class="stringliteral">&quot;Connection state table corrupt!&quot;</span>);
                }

                <a class="code" href="classXmlRpcInterface.html#ab59f8cbf0bfc71c761d1c9167ff3803c" title="Reset the internal connection state.">resetConnectionState</a>();

                <span class="keywordflow">if</span> (packet.<a class="code" href="classRealtimeScheduler_1_1PacketBufferEntry.html#a75a2364117dd28015acaf42d50b06938">addr</a> != NULL) {
                    <span class="keywordflow">if</span> (((sockaddr_in*)packet.<a class="code" href="classRealtimeScheduler_1_1PacketBufferEntry.html#a75a2364117dd28015acaf42d50b06938">addr</a>)-&gt;sin_addr.s_addr
                            == inet_addr(<span class="stringliteral">&quot;127.0.0.1&quot;</span>)) {
                        <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>].localhost = <span class="keyword">true</span>;
                    }
                    <span class="keyword">delete</span> packet.<a class="code" href="classRealtimeScheduler_1_1PacketBufferEntry.html#a75a2364117dd28015acaf42d50b06938">addr</a>;
                    packet.<a class="code" href="classRealtimeScheduler_1_1PacketBufferEntry.html#a75a2364117dd28015acaf42d50b06938">addr</a> = NULL;
                }
                <span class="keywordflow">break</span>;

            <span class="keywordflow">case</span> <a class="code" href="classRealtimeScheduler_1_1PacketBufferEntry.html#a7a03bec74e01f2a01bdf90ed5515c2e6aa396b6b6e9aed0eb0e5ac50c38f11b6d">RealtimeScheduler::PacketBufferEntry::PACKET_FD_CLOSE</a>:
                <span class="keywordflow">if</span> (<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>.count(<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>) == 0) {
                    <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;XmlRpcInterface::handleMessage(): &quot;</span>
                                            <span class="stringliteral">&quot;Trying to close unknown &quot;</span>
                                            <span class="stringliteral">&quot;connection!&quot;</span>);
                }

                <a class="code" href="classXmlRpcInterface.html#ab59f8cbf0bfc71c761d1c9167ff3803c" title="Reset the internal connection state.">resetConnectionState</a>();
                <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>.erase(<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>);
            }

            <span class="keywordflow">if</span> (packet.<a class="code" href="classRealtimeScheduler_1_1PacketBufferEntry.html#aee733f5274ac5a12f6f3ac5d3e520664">data</a>) {
                <span class="keyword">delete</span>[] packet.<a class="code" href="classRealtimeScheduler_1_1PacketBufferEntry.html#aee733f5274ac5a12f6f3ac5d3e520664">data</a>;
            }
        }
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg-&gt;isSelfMessage()) {
        <span class="comment">// process rpc self-messages</span>
        <a class="code" href="classBaseRpcMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">BaseRpcMessage</a>* rpcMessage = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classBaseRpcMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">BaseRpcMessage</a>*<span class="keyword">&gt;</span>(msg);
        <span class="keywordflow">if</span> (rpcMessage!=NULL) {
            <a class="code" href="classBaseRpc.html#a26c06fa9558c497e6dfe1ba6c5153042" title="Handles incoming rpc messages and delegates them to the corresponding listeners or handlers...">internalHandleRpcMessage</a>(rpcMessage);
            <span class="keywordflow">return</span>;
        }

        <span class="keyword">delete</span> msg;
    } <span class="keywordflow">else</span> {
        <span class="comment">// RPCs</span>
        <a class="code" href="classBaseRpcMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">BaseRpcMessage</a>* rpcMessage = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classBaseRpcMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">BaseRpcMessage</a>*<span class="keyword">&gt;</span>(msg);
        <span class="keywordflow">if</span> (rpcMessage!=NULL) {
            <a class="code" href="classBaseRpc.html#a26c06fa9558c497e6dfe1ba6c5153042" title="Handles incoming rpc messages and delegates them to the corresponding listeners or handlers...">internalHandleRpcMessage</a>(rpcMessage);
            <span class="keywordflow">return</span>;
        }
        <span class="comment">// common API</span>
        <a class="code" href="classCommonAPIMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">CommonAPIMessage</a>* commonAPIMsg = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classCommonAPIMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">CommonAPIMessage</a>*<span class="keyword">&gt;</span>(msg);
        <span class="keywordflow">if</span> (commonAPIMsg != NULL)
            <a class="code" href="classXmlRpcInterface.html#aef16e0a16ba2f3be91658343a4854f35">handleCommonAPIPacket</a>(commonAPIMsg);

        <a class="code" href="classCompReadyMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">CompReadyMessage</a>* readyMsg = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classCompReadyMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">CompReadyMessage</a>*<span class="keyword">&gt;</span>(msg);
        <span class="keywordflow">if</span> (readyMsg != NULL)
            <a class="code" href="classXmlRpcInterface.html#a218bcf294028b8528e7ff4997a34a063">handleReadyMessage</a>(readyMsg);

        <span class="keyword">delete</span> msg;
    }
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a218bcf294028b8528e7ff4997a34a063"></a><!-- doxytag: member="XmlRpcInterface::handleReadyMessage" ref="a218bcf294028b8528e7ff4997a34a063" args="(CompReadyMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XmlRpcInterface::handleReadyMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCompReadyMessage.html">CompReadyMessage</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8cc_source.html#l00637">637</a> of file <a class="el" href="XmlRpcInterface_8cc_source.html">XmlRpcInterface.cc</a>.</p>

<p>Referenced by <a class="el" href="XmlRpcInterface_8cc_source.html#l00527">handleMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ((msg-&gt;<a class="code" href="classCompReadyMessage.html#adbc73cb3852f357191584e7a9684838f">getReady</a>() == <span class="keyword">false</span>) || (msg-&gt;<a class="code" href="classCompReadyMessage.html#a3804fb9b24445b1af5484da00634d075">getComp</a>() != OVERLAY_COMP)) {
        <span class="keywordflow">return</span>;
    }

    <span class="keywordflow">if</span> (<a class="code" href="classXmlRpcInterface.html#a4a5abd718044c3db8443d7984f201623" title="FD of the application TUN socket used for tunneling.">appTunFd</a> != INVALID_SOCKET) {
        <span class="comment">// set TUN interface address using the current NodeId</span>
        <span class="comment">// TODO: this is ugly</span>
        <span class="keyword">const</span> <a class="code" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a>&amp; key = <a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>();

        <span class="keywordflow">if</span> (<a class="code" href="classOverlayKey.html#af855a4dfc0e5dc0d2afc6b87fa1d7426" title="Returns the length in number of bits.">OverlayKey::getLength</a>() &lt; 100) {
            <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;XmlRpcInterface::handleReadyMessage(): &quot;</span>
                    <span class="stringliteral">&quot;P2PNS needs at least 100 bit nodeIds!&quot;</span>);
        }

        std::stringstream addr;
        addr &lt;&lt; <span class="stringliteral">&quot;2001:001&quot;</span>;
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 100/4; i++) {
            <span class="keywordflow">if</span> (((i + 3) % 4) == 0) {
                addr &lt;&lt; <span class="stringliteral">&quot;:&quot;</span>;
            }
            addr &lt;&lt; std::hex &lt;&lt; key.<a class="code" href="classOverlayKey.html#a25b2a67642f29fe2035a0abf74de3dd1" title="Returns a sub integer at position p with n-bits.">getBitRange</a>(<a class="code" href="classOverlayKey.html#af855a4dfc0e5dc0d2afc6b87fa1d7426" title="Returns the length in number of bits.">OverlayKey::getLength</a>() -
                                                4 * (i + 1), 4);
        }

        std::string cmd = <span class="stringliteral">&quot;/sbin/ip addr add &quot;</span> + addr.str() + <span class="stringliteral">&quot;/28 dev tun0&quot;</span>;

        EV &lt;&lt; <span class="stringliteral">&quot;XmlRpcInterface::handleOverlayReady(): &quot;</span>
              <span class="stringliteral">&quot;Setting TUN interface address &quot;</span> &lt;&lt; addr.str() &lt;&lt; endl;

        <span class="keywordflow">if</span> (system(cmd.c_str()) != 0) {
            EV &lt;&lt; <span class="stringliteral">&quot;XmlRpcInterface::handleOverlayReady(): &quot;</span>
                  <span class="stringliteral">&quot;Failed to set TUN interface address!&quot;</span> &lt;&lt; endl;
        }

        <span class="keywordflow">if</span> (system(<span class="stringliteral">&quot;/sbin/ip link set tun0 up&quot;</span>) != 0) {
            EV &lt;&lt; <span class="stringliteral">&quot;XmlRpcInterface::handleOverlayReady(): &quot;</span>
                  <span class="stringliteral">&quot;Failed to set TUN interface up!&quot;</span> &lt;&lt; endl;
        }

        <a class="code" href="classXmlRpcInterface.html#a07c104f16ae63f7ec1abbddb5c8f3a05" title="Pointer to the P2PNS module.">p2pns</a>-&gt;<a class="code" href="classP2pns.html#a723375787fcd5202859a1f88e47f0553">registerId</a>(addr.str());
    }
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a61f76e15a1160a765ee59558bf5ea52d"></a><!-- doxytag: member="XmlRpcInterface::handleRealworldPacket" ref="a61f76e15a1160a765ee59558bf5ea52d" args="(char *buf, uint32_t len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XmlRpcInterface::handleRealworldPacket </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8cc_source.html#l00742">742</a> of file <a class="el" href="XmlRpcInterface_8cc_source.html">XmlRpcInterface.cc</a>.</p>

<p>Referenced by <a class="el" href="XmlRpcInterface_8cc_source.html#l00527">handleMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._connectionState == <a class="code" href="classXmlRpcInterface.html#acc56e9801b3cabe12bc3404d4f1de794aba5a488ac500cd38a0206cdcb51031ea">READ_HEADER</a>) {
        <span class="keywordflow">if</span> (!<a class="code" href="classXmlRpcInterface.html#ad47c59f893ee30ae5e56cf87459944b2" title="Reads the http header.">readHeader</a>(buf, length)) {
            <span class="comment">// discard data, if the header is invalid</span>
            <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._header = <span class="stringliteral">&quot;&quot;</span>;
            <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._request = <span class="stringliteral">&quot;&quot;</span>;
            <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._response = <span class="stringliteral">&quot;&quot;</span>;
            <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._connectionState = READ_HEADER;
            <span class="keywordflow">return</span>;
        }
    }

    <span class="keywordflow">if</span> (<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._connectionState == <a class="code" href="classXmlRpcInterface.html#acc56e9801b3cabe12bc3404d4f1de794a3384efeb1fb284eb4f9570f4b4d0f61f">READ_REQUEST</a>)
        <span class="keywordflow">if</span> (!<a class="code" href="classXmlRpcInterface.html#a8016d47290ad29582e6bf178edd5f2a6" title="Reads the request (based on the content-length header value).">readRequest</a>(buf, length))
            <span class="keywordflow">return</span>;

    <span class="keywordflow">if</span> (<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._connectionState == <a class="code" href="classXmlRpcInterface.html#acc56e9801b3cabe12bc3404d4f1de794a739fb884f909df2fec67a10878ae5330">WRITE_RESPONSE</a>)
        <span class="keywordflow">if</span> (!<a class="code" href="classXmlRpcInterface.html#af88369ddb76ebd54117f46fc57969557" title="Executes the request and writes the resulting response.">writeResponse</a>() ) {
            <a class="code" href="classXmlRpcInterface.html#af862373d24c9d482d4daf51b1522d800">closeConnection</a>();
            <span class="keywordflow">return</span>;
        }

    <span class="keywordflow">return</span>;
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a22d4c238f2faa751d838c81696f4f686"></a><!-- doxytag: member="XmlRpcInterface::handleRpcResponse" ref="a22d4c238f2faa751d838c81696f4f686" args="(BaseResponseMessage *msg, cPolymorphic *context, int rpcId, simtime_t rtt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XmlRpcInterface::handleRpcResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseResponseMessage.html">BaseResponseMessage</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&nbsp;</td>
          <td class="paramname"> <em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rpcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&nbsp;</td>
          <td class="paramname"> <em>rtt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8cc_source.html#l00768">768</a> of file <a class="el" href="XmlRpcInterface_8cc_source.html">XmlRpcInterface.cc</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a> = rpcId;

    <span class="keywordflow">if</span> (<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>.count(<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>) == 0) {
        <span class="keywordflow">return</span>;
    }

    <a class="code" href="RpcMacros_8h.html#aa75b135e279b574267e1a7dc4ab79da4" title="Marks the beginning of a Remote-Procedure-Call Switch block.">RPC_SWITCH_START</a>(msg)
    <a class="code" href="RpcMacros_8h.html#a0394d2dc4f9f1e15d7e99c9f43da10c7">RPC_ON_RESPONSE</a>(<a class="code" href="classLookup.html">Lookup</a>) {
        <span class="keywordflow">if</span> (<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._connectionState != <a class="code" href="classXmlRpcInterface.html#acc56e9801b3cabe12bc3404d4f1de794a9d5f57a03d2fa7442a354f803ffe6452">EXECUTE_REQUEST</a>) <span class="keywordflow">break</span>;

        <a class="code" href="classXmlRpc_1_1XmlRpcValue.html" title="A class to represent RPC arguments and results.">XmlRpcValue</a> resultValue;
        resultValue.<a class="code" href="classXmlRpc_1_1XmlRpcValue.html#af411c8368c750bd8b06801a7f0693bb0" title="Specify the size for array values. Array values will grow beyond this size if needed.">setSize</a>(_LookupResponse-&gt;getSiblingsArraySize());

        <span class="keywordflow">if</span> (_LookupResponse-&gt;getIsValid() == <span class="keyword">true</span>) {
            <span class="keywordflow">for</span> (uint32_t i=0; i &lt; _LookupResponse-&gt;getSiblingsArraySize();
                    i++) {
                resultValue[i].<a class="code" href="classXmlRpc_1_1XmlRpcValue.html#af411c8368c750bd8b06801a7f0693bb0" title="Specify the size for array values. Array values will grow beyond this size if needed.">setSize</a>(3);
                resultValue[i][0] =
                    _LookupResponse-&gt;getSiblings(i).getIp().str();
                resultValue[i][1] =
                    _LookupResponse-&gt;getSiblings(i).getPort();
                resultValue[i][2] =
                    _LookupResponse-&gt;getSiblings(i).getKey().toString(16);
            }
            <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._response = <a class="code" href="classXmlRpc_1_1XmlRpcServer.html#a2d44940be108a33efc45b12975593b71" title="Construct a response from the result XML.">generateResponse</a>(resultValue.<a class="code" href="classXmlRpc_1_1XmlRpcValue.html#aedae94ced3a80ff37a528861bcb2a47e" title="Encode the Value in xml.">toXml</a>());
        } <span class="keywordflow">else</span> {
            std::cout &lt;&lt; <span class="stringliteral">&quot;XmlRpcInterface(): lookup() failed!&quot;</span> &lt;&lt; endl;
            <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._response = <a class="code" href="classXmlRpc_1_1XmlRpcServer.html#a3e0bf2ab2c4fd269a7b5e03ccca79475" title="Construct a fault response.">generateFaultResponse</a>(<span class="stringliteral">&quot;lookup() failed&quot;</span>, 22);
        }

        <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._connectionState = WRITE_RESPONSE;
        <span class="keywordflow">if</span> (!<a class="code" href="classXmlRpcInterface.html#af88369ddb76ebd54117f46fc57969557" title="Executes the request and writes the resulting response.">writeResponse</a>()) {
            <a class="code" href="classXmlRpcInterface.html#af862373d24c9d482d4daf51b1522d800">closeConnection</a>();
        }
        <span class="keywordflow">break</span>;
    }
    <a class="code" href="RpcMacros_8h.html#a0394d2dc4f9f1e15d7e99c9f43da10c7">RPC_ON_RESPONSE</a>(<a class="code" href="classP2pnsRegister.html">P2pnsRegister</a>) {
        <span class="keywordflow">if</span> (<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._connectionState != <a class="code" href="classXmlRpcInterface.html#acc56e9801b3cabe12bc3404d4f1de794a9d5f57a03d2fa7442a354f803ffe6452">EXECUTE_REQUEST</a>)
            <span class="keywordflow">break</span>;

        <a class="code" href="classXmlRpc_1_1XmlRpcValue.html" title="A class to represent RPC arguments and results.">XmlRpcValue</a> resultValue;

        <span class="keywordflow">if</span> (_P2pnsRegisterResponse-&gt;getIsSuccess() == <span class="keyword">true</span>) {
            resultValue = 0;
            <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._response = <a class="code" href="classXmlRpc_1_1XmlRpcServer.html#a2d44940be108a33efc45b12975593b71" title="Construct a response from the result XML.">generateResponse</a>(resultValue.<a class="code" href="classXmlRpc_1_1XmlRpcValue.html#aedae94ced3a80ff37a528861bcb2a47e" title="Encode the Value in xml.">toXml</a>());
        } <span class="keywordflow">else</span> {
            std::cout &lt;&lt; <span class="stringliteral">&quot;XmlRpcInterface(): register() failed!&quot;</span> &lt;&lt; endl;
            <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._response = <a class="code" href="classXmlRpc_1_1XmlRpcServer.html#a3e0bf2ab2c4fd269a7b5e03ccca79475" title="Construct a fault response.">generateFaultResponse</a>(<span class="stringliteral">&quot;register() failed&quot;</span>, 22);
        }

        <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._connectionState = WRITE_RESPONSE;
        <span class="keywordflow">if</span> (!<a class="code" href="classXmlRpcInterface.html#af88369ddb76ebd54117f46fc57969557" title="Executes the request and writes the resulting response.">writeResponse</a>() ) {
            <a class="code" href="classXmlRpcInterface.html#af862373d24c9d482d4daf51b1522d800">closeConnection</a>();
        }
        <span class="keywordflow">break</span>;
    }
    <a class="code" href="RpcMacros_8h.html#a0394d2dc4f9f1e15d7e99c9f43da10c7">RPC_ON_RESPONSE</a>(<a class="code" href="classP2pnsResolve.html">P2pnsResolve</a>) {
        <span class="keywordflow">if</span> (<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._connectionState != <a class="code" href="classXmlRpcInterface.html#acc56e9801b3cabe12bc3404d4f1de794a9d5f57a03d2fa7442a354f803ffe6452">EXECUTE_REQUEST</a>)
            <span class="keywordflow">break</span>;

        <a class="code" href="classXmlRpc_1_1XmlRpcValue.html" title="A class to represent RPC arguments and results.">XmlRpcValue</a> resultValue;
        resultValue.<a class="code" href="classXmlRpc_1_1XmlRpcValue.html#af411c8368c750bd8b06801a7f0693bb0" title="Specify the size for array values. Array values will grow beyond this size if needed.">setSize</a>(_P2pnsResolveResponse-&gt;getAddressArraySize());

        <span class="keywordflow">if</span> (_P2pnsResolveResponse-&gt;getIsSuccess() == <span class="keyword">true</span>) {
            <span class="keywordflow">for</span> (uint i=0; i &lt; _P2pnsResolveResponse-&gt;getAddressArraySize(); i++) {
                resultValue[i].<a class="code" href="classXmlRpc_1_1XmlRpcValue.html#af411c8368c750bd8b06801a7f0693bb0" title="Specify the size for array values. Array values will grow beyond this size if needed.">setSize</a>(3);
                <a class="code" href="classBinaryValue.html">BinaryValue</a>&amp; addr = _P2pnsResolveResponse-&gt;getAddress(i);
                resultValue[i][0] = <a class="code" href="classXmlRpc_1_1XmlRpcValue.html" title="A class to represent RPC arguments and results.">XmlRpcValue</a>(&amp;addr[0], addr.size());
                resultValue[i][1] = (int)_P2pnsResolveResponse-&gt;getKind(i);
                resultValue[i][2] = (int)_P2pnsResolveResponse-&gt;getId(i);
            }
            <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._response = <a class="code" href="classXmlRpc_1_1XmlRpcServer.html#a2d44940be108a33efc45b12975593b71" title="Construct a response from the result XML.">generateResponse</a>(resultValue.<a class="code" href="classXmlRpc_1_1XmlRpcValue.html#aedae94ced3a80ff37a528861bcb2a47e" title="Encode the Value in xml.">toXml</a>());
        } <span class="keywordflow">else</span> {
            std::cout &lt;&lt; <span class="stringliteral">&quot;XmlRpcInterface(): resolve() failed!&quot;</span> &lt;&lt; endl;
            <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._response = <a class="code" href="classXmlRpc_1_1XmlRpcServer.html#a3e0bf2ab2c4fd269a7b5e03ccca79475" title="Construct a fault response.">generateFaultResponse</a>(<span class="stringliteral">&quot;resolve() failed: Name not found&quot;</span>, 9);
        }

        <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._connectionState = WRITE_RESPONSE;
        <span class="keywordflow">if</span> (!<a class="code" href="classXmlRpcInterface.html#af88369ddb76ebd54117f46fc57969557" title="Executes the request and writes the resulting response.">writeResponse</a>() ) {
            <a class="code" href="classXmlRpcInterface.html#af862373d24c9d482d4daf51b1522d800">closeConnection</a>();
        }
        <span class="keywordflow">break</span>;
    }
    <a class="code" href="RpcMacros_8h.html#a0394d2dc4f9f1e15d7e99c9f43da10c7">RPC_ON_RESPONSE</a>(DHTputCAPI) {
        <span class="keywordflow">if</span> (<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._connectionState != <a class="code" href="classXmlRpcInterface.html#acc56e9801b3cabe12bc3404d4f1de794a9d5f57a03d2fa7442a354f803ffe6452">EXECUTE_REQUEST</a>)
            <span class="keywordflow">break</span>;

        <a class="code" href="classXmlRpc_1_1XmlRpcValue.html" title="A class to represent RPC arguments and results.">XmlRpcValue</a> resultValue;

        <span class="keywordflow">if</span> (_DHTputCAPIResponse-&gt;getIsSuccess() == <span class="keyword">true</span>) {
            resultValue = 0;
            <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._response = <a class="code" href="classXmlRpc_1_1XmlRpcServer.html#a2d44940be108a33efc45b12975593b71" title="Construct a response from the result XML.">generateResponse</a>(resultValue.<a class="code" href="classXmlRpc_1_1XmlRpcValue.html#aedae94ced3a80ff37a528861bcb2a47e" title="Encode the Value in xml.">toXml</a>());
        } <span class="keywordflow">else</span> {
            std::cout &lt;&lt; <span class="stringliteral">&quot;XmlRpcInterface(): put() failed!&quot;</span> &lt;&lt; endl;
            <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._response = <a class="code" href="classXmlRpc_1_1XmlRpcServer.html#a3e0bf2ab2c4fd269a7b5e03ccca79475" title="Construct a fault response.">generateFaultResponse</a>(<span class="stringliteral">&quot;put() failed&quot;</span>, 22);
        }

        <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._connectionState = WRITE_RESPONSE;
        <span class="keywordflow">if</span> (!<a class="code" href="classXmlRpcInterface.html#af88369ddb76ebd54117f46fc57969557" title="Executes the request and writes the resulting response.">writeResponse</a>() ) {
            <a class="code" href="classXmlRpcInterface.html#af862373d24c9d482d4daf51b1522d800">closeConnection</a>();
        }
        <span class="keywordflow">break</span>;
    }
    <a class="code" href="RpcMacros_8h.html#a0394d2dc4f9f1e15d7e99c9f43da10c7">RPC_ON_RESPONSE</a>(DHTgetCAPI) {
        <span class="keywordflow">if</span> (<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._connectionState != <a class="code" href="classXmlRpcInterface.html#acc56e9801b3cabe12bc3404d4f1de794a9d5f57a03d2fa7442a354f803ffe6452">EXECUTE_REQUEST</a>)
            <span class="keywordflow">break</span>;

        <a class="code" href="classXmlRpc_1_1XmlRpcValue.html" title="A class to represent RPC arguments and results.">XmlRpcValue</a> resultValue;
        resultValue.<a class="code" href="classXmlRpc_1_1XmlRpcValue.html#af411c8368c750bd8b06801a7f0693bb0" title="Specify the size for array values. Array values will grow beyond this size if needed.">setSize</a>(2);
        resultValue[0].<a class="code" href="classXmlRpc_1_1XmlRpcValue.html#af411c8368c750bd8b06801a7f0693bb0" title="Specify the size for array values. Array values will grow beyond this size if needed.">setSize</a>(_DHTgetCAPIResponse-&gt;getResultArraySize());

        <span class="keywordflow">if</span> (_DHTgetCAPIResponse-&gt;getIsSuccess() == <span class="keyword">true</span>) {
            <span class="keywordflow">for</span> (uint i=0; i &lt; _DHTgetCAPIResponse-&gt;getResultArraySize(); i++) {
                resultValue[i].<a class="code" href="classXmlRpc_1_1XmlRpcValue.html#af411c8368c750bd8b06801a7f0693bb0" title="Specify the size for array values. Array values will grow beyond this size if needed.">setSize</a>(2);
                <a class="code" href="classDhtDumpEntry.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">DhtDumpEntry</a>&amp; entry = _DHTgetCAPIResponse-&gt;getResult(i);
                resultValue[0][i] = <a class="code" href="classXmlRpc_1_1XmlRpcValue.html" title="A class to represent RPC arguments and results.">XmlRpcValue</a>(&amp;(*(entry.<a class="code" href="classDhtDumpEntry.html#a690fe434ac3281d8e31670fb944e1771">getValue</a>().begin())),
                                                entry.<a class="code" href="classDhtDumpEntry.html#a690fe434ac3281d8e31670fb944e1771">getValue</a>().size());
            }
            resultValue[1] = std::string();

<span class="comment">//            resultValue[0][0] = XmlRpcValue(</span>
<span class="comment">//                      &amp;(*(_DHTgetCAPIResponse-&gt;getValue().begin())),</span>
<span class="comment">//                      _DHTgetCAPIResponse-&gt;getValue().size());</span>
            <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._response = <a class="code" href="classXmlRpc_1_1XmlRpcServer.html#a2d44940be108a33efc45b12975593b71" title="Construct a response from the result XML.">generateResponse</a>(resultValue.<a class="code" href="classXmlRpc_1_1XmlRpcValue.html#aedae94ced3a80ff37a528861bcb2a47e" title="Encode the Value in xml.">toXml</a>());
        } <span class="keywordflow">else</span> {
            std::cout &lt;&lt; <span class="stringliteral">&quot;XmlRpcInterface(): get() failed!&quot;</span> &lt;&lt; endl;
            <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._response = <a class="code" href="classXmlRpc_1_1XmlRpcServer.html#a3e0bf2ab2c4fd269a7b5e03ccca79475" title="Construct a fault response.">generateFaultResponse</a>(<span class="stringliteral">&quot;get() failed&quot;</span>, 22);
        }

        <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._connectionState = WRITE_RESPONSE;
        <span class="keywordflow">if</span> (!<a class="code" href="classXmlRpcInterface.html#af88369ddb76ebd54117f46fc57969557" title="Executes the request and writes the resulting response.">writeResponse</a>() ) {
            <a class="code" href="classXmlRpcInterface.html#af862373d24c9d482d4daf51b1522d800">closeConnection</a>();
        }
        <span class="keywordflow">break</span>;
    }
    <a class="code" href="RpcMacros_8h.html#a0394d2dc4f9f1e15d7e99c9f43da10c7">RPC_ON_RESPONSE</a>(DHTdump) {
        <span class="keywordflow">if</span> (<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._connectionState != <a class="code" href="classXmlRpcInterface.html#acc56e9801b3cabe12bc3404d4f1de794a9d5f57a03d2fa7442a354f803ffe6452">EXECUTE_REQUEST</a>)
            <span class="keywordflow">break</span>;

        <a class="code" href="classXmlRpc_1_1XmlRpcValue.html" title="A class to represent RPC arguments and results.">XmlRpcValue</a> resultValue;
        resultValue.<a class="code" href="classXmlRpc_1_1XmlRpcValue.html#af411c8368c750bd8b06801a7f0693bb0" title="Specify the size for array values. Array values will grow beyond this size if needed.">setSize</a>(_DHTdumpResponse-&gt;getRecordArraySize());

        <span class="keywordflow">for</span> (uint32_t i=0; i &lt; _DHTdumpResponse-&gt;getRecordArraySize();
             i++) {
            resultValue[i].<a class="code" href="classXmlRpc_1_1XmlRpcValue.html#af411c8368c750bd8b06801a7f0693bb0" title="Specify the size for array values. Array values will grow beyond this size if needed.">setSize</a>(3);
            resultValue[i][0] =
                _DHTdumpResponse-&gt;getRecord(i).getKey().toString(16);
            resultValue[i][1] = <a class="code" href="classXmlRpc_1_1XmlRpcValue.html" title="A class to represent RPC arguments and results.">XmlRpcValue</a>(
                 &amp;(*(_DHTdumpResponse-&gt;getRecord(i).getValue().begin())),
                 _DHTdumpResponse-&gt;getRecord(i).getValue().size());
            resultValue[i][2] =
                _DHTdumpResponse-&gt;getRecord(i).getTtl();
        }

        <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._response = <a class="code" href="classXmlRpc_1_1XmlRpcServer.html#a2d44940be108a33efc45b12975593b71" title="Construct a response from the result XML.">generateResponse</a>(resultValue.<a class="code" href="classXmlRpc_1_1XmlRpcValue.html#aedae94ced3a80ff37a528861bcb2a47e" title="Encode the Value in xml.">toXml</a>());

        <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._connectionState = WRITE_RESPONSE;
         <span class="keywordflow">if</span> (!<a class="code" href="classXmlRpcInterface.html#af88369ddb76ebd54117f46fc57969557" title="Executes the request and writes the resulting response.">writeResponse</a>()) {
             <a class="code" href="classXmlRpcInterface.html#af862373d24c9d482d4daf51b1522d800">closeConnection</a>();
         }
         <span class="keywordflow">break</span>;

    }
    <a class="code" href="RpcMacros_8h.html#a29a8a3f21e67ecb25f58608a54df5191" title="Marks the end of a Remote-Procedure-Call Switch block.">RPC_SWITCH_END</a>( )
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8638b7059d216ab0716e558d11421666"></a><!-- doxytag: member="XmlRpcInterface::handleRpcTimeout" ref="a8638b7059d216ab0716e558d11421666" args="(BaseCallMessage *msg, const TransportAddress &amp;dest, cPolymorphic *context, int rpcId, const OverlayKey &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XmlRpcInterface::handleRpcTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&nbsp;</td>
          <td class="paramname"> <em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rpcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8cc_source.html#l00619">619</a> of file <a class="el" href="XmlRpcInterface_8cc_source.html">XmlRpcInterface.cc</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a> = rpcId;

    <span class="keywordflow">if</span> (<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>.count(<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>) == 0)
        <span class="keywordflow">return</span>;

    std::cout &lt;&lt; <span class="stringliteral">&quot;XmlRpcInterface(): XML-RPC failed!&quot;</span> &lt;&lt; endl;
    <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._response = <a class="code" href="classXmlRpc_1_1XmlRpcServer.html#a3e0bf2ab2c4fd269a7b5e03ccca79475" title="Construct a fault response.">generateFaultResponse</a>(<span class="stringliteral">&quot;XML-RPC timeout&quot;</span>, 22);
    <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._connectionState = WRITE_RESPONSE;
    <span class="keywordflow">if</span> (!<a class="code" href="classXmlRpcInterface.html#af88369ddb76ebd54117f46fc57969557" title="Executes the request and writes the resulting response.">writeResponse</a>() ) {
        <a class="code" href="classXmlRpcInterface.html#af862373d24c9d482d4daf51b1522d800">closeConnection</a>();
    }
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a86c1b02bb908c1fe82d5936f760d5e6f"></a><!-- doxytag: member="XmlRpcInterface::initializeApp" ref="a86c1b02bb908c1fe82d5936f760d5e6f" args="(int stage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XmlRpcInterface::initializeApp </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stage</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8cc_source.html#l00433">433</a> of file <a class="el" href="XmlRpcInterface_8cc_source.html">XmlRpcInterface.cc</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="comment">// all initialization is done in the first stage</span>
    <span class="keywordflow">if</span> (stage != <a class="code" href="InitStages_8h.html#a42fde1aa1e14a1c45d29061d6e87e532a735021fae11712b786e515700dfdb5d1" title="deprecated">MAX_STAGE_APP</a>)
        <span class="keywordflow">return</span>;

    <a class="code" href="classXmlRpcInterface.html#a54ce9f1884916792c9825e7fc6401dd4">packetNotification</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;packetNotification&quot;</span>);
    <a class="code" href="classXmlRpcInterface.html#a9052c244a6ed0fc872303e2f0c255255">mtu</a> = par(<span class="stringliteral">&quot;mtu&quot;</span>);
    <a class="code" href="classXmlRpcInterface.html#abcb493b05584e846dba169cd4ee1e24a">limitAccess</a> = par(<span class="stringliteral">&quot;limitAccess&quot;</span>);

    <a class="code" href="classXmlRpcInterface.html#a6f1a7683989c76b32ded7e8ac52c8248">scheduler</a> = check_and_cast&lt;<a class="code" href="classRealtimeScheduler.html" title="This class implements a event scheduler for OMNeT++ It makes the simulation run in realtime (i...">RealtimeScheduler</a> *&gt;(simulation.getScheduler());
    <a class="code" href="classXmlRpcInterface.html#a6f1a7683989c76b32ded7e8ac52c8248">scheduler</a>-&gt;<a class="code" href="classRealtimeScheduler.html#a8a23b63956df2045a4b86c9e5cbc2dd0" title="To be called from the module which wishes to receive data from the tun device.">setInterfaceModule</a>(<span class="keyword">this</span>, <a class="code" href="classXmlRpcInterface.html#a54ce9f1884916792c9825e7fc6401dd4">packetNotification</a>, &amp;<a class="code" href="classXmlRpcInterface.html#aaac7acff7aa7de89e7dc9cde8ea95079">packetBuffer</a>, <a class="code" href="classXmlRpcInterface.html#a9052c244a6ed0fc872303e2f0c255255">mtu</a>,
                                  <span class="keyword">true</span>);

    <a class="code" href="classXmlRpcInterface.html#a4a5abd718044c3db8443d7984f201623" title="FD of the application TUN socket used for tunneling.">appTunFd</a> = <a class="code" href="classXmlRpcInterface.html#a6f1a7683989c76b32ded7e8ac52c8248">scheduler</a>-&gt;<a class="code" href="classRealtimeScheduler.html#a36df2061f71395a6236e3ad4d2d67d5c" title="Returns the FD for the application TUN socket.">getAppTunFd</a>();

    <a class="code" href="classXmlRpcInterface.html#a07c104f16ae63f7ec1abbddb5c8f3a05" title="Pointer to the P2PNS module.">p2pns</a> = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classP2pns.html" title="Implementation of &amp;quot;P2PNS: A distributed name service for P2PSIP&amp;quot;.">P2pns</a>*<span class="keyword">&gt;</span>(<a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseOverlay.html#a3aba2b6e93094d3cc8107d33db4b5244">getCompModule</a>(<a class="code" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5eaf097637305d4fe4ee3b62d2f76f6dc16">TIER2_COMP</a>));

    <a class="code" href="namespaceXmlRpc.html#adbb0a79191037f0d3173d2dfa9cc820c" title="Sets log message verbosity. This is short for XmlRpcLogHandler::setVerbosity(level).">XmlRpc::setVerbosity</a>(1);

    <a class="code" href="classXmlRpcInterface.html#a1b1384f7e1f9fa85b0315eb08dd6ad6a">_localLookup</a> = <span class="keyword">new</span> <a class="code" href="classLocalLookup.html">LocalLookup</a>(<span class="keyword">this</span>);
    <a class="code" href="classXmlRpcInterface.html#a96d4c9d9db66dd0704eddb8c9aac44ee">_lookup</a> = <span class="keyword">new</span> <a class="code" href="classLookup.html">Lookup</a>(<span class="keyword">this</span>);
    <a class="code" href="classXmlRpcInterface.html#ac4764420da8901c51140d5a98c30c53a">_register</a> = <span class="keyword">new</span> <a class="code" href="classP2pnsRegister.html">P2pnsRegister</a>(<span class="keyword">this</span>);
    <a class="code" href="classXmlRpcInterface.html#a1d3fba55b244646cf073076723158986">_resolve</a> = <span class="keyword">new</span> <a class="code" href="classP2pnsResolve.html">P2pnsResolve</a>(<span class="keyword">this</span>);
    <a class="code" href="classXmlRpcInterface.html#ac0e9f518dd46ceb0c46b73ce88a9fc15">_put</a> = <span class="keyword">new</span> <a class="code" href="classPut.html">Put</a>(<span class="keyword">this</span>);
    <a class="code" href="classXmlRpcInterface.html#a4369a776b67f5f572a4b2728d6875083">_get</a> = <span class="keyword">new</span> <a class="code" href="classGet.html">Get</a>(<span class="keyword">this</span>);
    <a class="code" href="classXmlRpcInterface.html#aee1b509ea3fa85aba611809d462426e7">_dumpDht</a> = <span class="keyword">new</span> <a class="code" href="classDumpDht.html">DumpDht</a>(<span class="keyword">this</span>);
    <a class="code" href="classXmlRpcInterface.html#a20b719a3e8b5a170bc1df60eb1572040">_joinOverlay</a> = <span class="keyword">new</span> <a class="code" href="classJoinOverlay.html">JoinOverlay</a>(<span class="keyword">this</span>);

    <a class="code" href="classXmlRpc_1_1XmlRpcServer.html#a5d2d4bedbd35b262b2a49494176a1167" title="Specify whether introspection is enabled or not. Default is not enabled.">enableIntrospection</a>(<span class="keyword">true</span>);

    <a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a> = INVALID_SOCKET;
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad16d568eb4e7b9c122fd3feaebcc6c1c"></a><!-- doxytag: member="XmlRpcInterface::isPrivileged" ref="ad16d568eb4e7b9c122fd3feaebcc6c1c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool XmlRpcInterface::isPrivileged </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if the connected application is allowed to call privileged methods. </p>
<p>Currently this is true for all applications connecting to localhost. If **.limitAccess = false there are no access restrictions.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true, if the application is allowed to call privileged methods </dd></dl>

<p>Definition at line <a class="el" href="XmlRpcInterface_8cc_source.html#l00424">424</a> of file <a class="el" href="XmlRpcInterface_8cc_source.html">XmlRpcInterface.cc</a>.</p>

<p>Referenced by <a class="el" href="XmlRpcInterface_8cc_source.html#l00404">dumpDht()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00330">joinOverlay()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00203">p2pnsRegister()</a>, and <a class="el" href="XmlRpcInterface_8cc_source.html#l00347">put()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="classXmlRpcInterface.html#abcb493b05584e846dba169cd4ee1e24a">limitAccess</a>) {
        <span class="keywordflow">return</span> <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>].localhost;
    } <span class="keywordflow">else</span> {
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="af61626db1a14c1fd2114ca016617d30c"></a><!-- doxytag: member="XmlRpcInterface::joinOverlay" ref="af61626db1a14c1fd2114ca016617d30c" args="(XmlRpc::XmlRpcValue &amp;params, XmlRpc::XmlRpcValue &amp;result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XmlRpcInterface::joinOverlay </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8cc_source.html#l00330">330</a> of file <a class="el" href="XmlRpcInterface_8cc_source.html">XmlRpcInterface.cc</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ((params.<a class="code" href="classXmlRpc_1_1XmlRpcValue.html#a7f3a1969a5506df8d045bb01632f9f2d" title="Return the size for string, base64, array, and struct values.">size</a>() != 1)
            || (params[0].getType() != XmlRpcValue::TypeBase64))
        <span class="keywordflow">throw</span> <a class="code" href="classXmlRpc_1_1XmlRpcException.html" title="A class representing an error.">XmlRpcException</a>(<span class="stringliteral">&quot;join(base64 nodeID): Invalid argument type&quot;</span>);

    <span class="keywordflow">if</span> (!<a class="code" href="classXmlRpcInterface.html#ad16d568eb4e7b9c122fd3feaebcc6c1c" title="Check if the connected application is allowed to call privileged methods.">isPrivileged</a>()) {
        <span class="keywordflow">throw</span> <a class="code" href="classXmlRpc_1_1XmlRpcException.html" title="A class representing an error.">XmlRpcException</a>(<span class="stringliteral">&quot;join(base64 nodeID): Not allowed&quot;</span>);
    }

    <a class="code" href="classBinaryValue.html">BinaryValue</a> nodeID = (<span class="keyword">const</span> <a class="code" href="classXmlRpc_1_1XmlRpcValue.html#a0946bd810374aad0bd88dd90da73eeac">XmlRpcValue::BinaryData</a>&amp;)params[0];

    <a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseOverlay.html#acb8855faa86247ae37ab894891d9f4dd" title="Join the overlay with a given nodeID.">join</a>(<a class="code" href="classOverlayKey.html#abbd73571f97d27468c417c9b3f91f175" title="Returns a key with the SHA1 cryptographic hash of a BinaryValue.">OverlayKey::sha1</a>(nodeID));

    result[0] = 0;
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae7ada92483ec0ab24925f2944977e813"></a><!-- doxytag: member="XmlRpcInterface::localLookup" ref="ae7ada92483ec0ab24925f2944977e813" args="(XmlRpc::XmlRpcValue &amp;params, XmlRpc::XmlRpcValue &amp;result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XmlRpcInterface::localLookup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8cc_source.html#l00256">256</a> of file <a class="el" href="XmlRpcInterface_8cc_source.html">XmlRpcInterface.cc</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ((params.<a class="code" href="classXmlRpc_1_1XmlRpcValue.html#a7f3a1969a5506df8d045bb01632f9f2d" title="Return the size for string, base64, array, and struct values.">size</a>() != 3)
            || (params[0].getType() != XmlRpcValue::TypeBase64)
            || (params[1].getType() != XmlRpcValue::TypeInt)
            || (params[2].getType() != XmlRpcValue::TypeBoolean))
        <span class="keywordflow">throw</span> <a class="code" href="classXmlRpc_1_1XmlRpcException.html" title="A class representing an error.">XmlRpcException</a>(<span class="stringliteral">&quot;local_lookup(base64 key, int num, &quot;</span>
                <span class="stringliteral">&quot;boolean safe): Invalid argument type&quot;</span>);

    <a class="code" href="classBinaryValue.html">BinaryValue</a> keyString = (<span class="keyword">const</span> <a class="code" href="classXmlRpc_1_1XmlRpcValue.html#a0946bd810374aad0bd88dd90da73eeac">XmlRpcValue::BinaryData</a>&amp;)params[0];

    <a class="code" href="classBaseKeySortedVector.html">NodeVector</a>* nextHops = NULL;

    <span class="keywordflow">if</span> (keyString.size() &gt; 0) {
        nextHops = <a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseOverlay.html#a95851770a6ab3a176e1d7b5a7afba3f0" title="finds nodes closest to the given OverlayKey">local_lookup</a>(<a class="code" href="classOverlayKey.html#abbd73571f97d27468c417c9b3f91f175" title="Returns a key with the SHA1 cryptographic hash of a BinaryValue.">OverlayKey::sha1</a>(keyString),
                                                     params[1], params[2]);
    } <span class="keywordflow">else</span> {
        nextHops = <a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseOverlay.html#a95851770a6ab3a176e1d7b5a7afba3f0" title="finds nodes closest to the given OverlayKey">local_lookup</a>(<a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>(),
                                                     params[1], params[2]);
    }

    <span class="keywordflow">for</span> (uint32_t i=0; i &lt; nextHops-&gt;size(); i++) {
        result[i][0] = (*nextHops)[i].getIp().str();
        result[i][1] = (*nextHops)[i].getPort();
        result[i][2] = (*nextHops)[i].getKey().toString(16);
    }

    <span class="keyword">delete</span> nextHops;
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a725cd3ceadeed7a4f2f334974cfa55c0"></a><!-- doxytag: member="XmlRpcInterface::lookup" ref="a725cd3ceadeed7a4f2f334974cfa55c0" args="(XmlRpc::XmlRpcValue &amp;params, XmlRpc::XmlRpcValue &amp;result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XmlRpcInterface::lookup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8cc_source.html#l00286">286</a> of file <a class="el" href="XmlRpcInterface_8cc_source.html">XmlRpcInterface.cc</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (((params.<a class="code" href="classXmlRpc_1_1XmlRpcValue.html#a7f3a1969a5506df8d045bb01632f9f2d" title="Return the size for string, base64, array, and struct values.">size</a>() != 2)
            || (params[0].getType() != XmlRpcValue::TypeBase64)
            || (params[1].getType() != XmlRpcValue::TypeInt))
        &amp;&amp; ((params.<a class="code" href="classXmlRpc_1_1XmlRpcValue.html#a7f3a1969a5506df8d045bb01632f9f2d" title="Return the size for string, base64, array, and struct values.">size</a>() != 3)
            || (params[0].getType() != XmlRpcValue::TypeBase64)
            || (params[1].getType() != XmlRpcValue::TypeInt)
            || (params[2].getType() != XmlRpcValue::TypeInt)))
        <span class="keywordflow">throw</span> <a class="code" href="classXmlRpc_1_1XmlRpcException.html" title="A class representing an error.">XmlRpcException</a>(<span class="stringliteral">&quot;lookup(base64 key, int numSiblings(, &quot;</span>
                              <span class="stringliteral">&quot;int RoutingType)): Invalid argument type&quot;</span>);

    <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)params[1] &gt; <a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseOverlay.html#acd3058ad15b470e024500dd4872e2f09" title="Query the maximum number of siblings (nodes close to a key) that are maintained by this overlay proto...">getMaxNumSiblings</a>())
        <span class="keywordflow">throw</span> <a class="code" href="classXmlRpc_1_1XmlRpcException.html" title="A class representing an error.">XmlRpcException</a>(<span class="stringliteral">&quot;lookup(base64 key, int numSiblings(, &quot;</span>
                              <span class="stringliteral">&quot;int RoutingType)): numSibling to big&quot;</span>);

    <span class="keywordflow">if</span> (params.<a class="code" href="classXmlRpc_1_1XmlRpcValue.html#a7f3a1969a5506df8d045bb01632f9f2d" title="Return the size for string, base64, array, and struct values.">size</a>() == 3) {
        <span class="keywordflow">if</span> (((<span class="keywordtype">int</span>)params[2] != <a class="code" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551a931137cd67090e50ef2ea3ccfb9e8d90">DEFAULT_ROUTING</a>) &amp;&amp;
            ((int)params[2] != <a class="code" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551ae4bd936cbb47803986c83242cbb51867">ITERATIVE_ROUTING</a>) &amp;&amp;
            ((int)params[2] != <a class="code" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551ad60cf756d6bb24af372d7fe7c279f44d">EXHAUSTIVE_ITERATIVE_ROUTING</a>) &amp;&amp;
            ((int)params[2] != <a class="code" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551a18b63fe85aa5e81cd3fca5e3c7c9df82">SEMI_RECURSIVE_ROUTING</a>) &amp;&amp;
            ((int)params[2] != <a class="code" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551aeec4ce5cac6dae9d3d59b1347a9df957">FULL_RECURSIVE_ROUTING</a>) &amp;&amp;
            ((int)params[2] != <a class="code" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551ad8c4eefed3d826e5da402fe582cad2c1">RECURSIVE_SOURCE_ROUTING</a>)) {

            <span class="keywordflow">throw</span> <a class="code" href="classXmlRpc_1_1XmlRpcException.html" title="A class representing an error.">XmlRpcException</a>(<span class="stringliteral">&quot;lookup(base64 key, int numSiblings(, &quot;</span>
                                  <span class="stringliteral">&quot;int RoutingType)): invalid routingType&quot;</span>);
        }
    }

    <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._connectionState = EXECUTE_REQUEST;

    <a class="code" href="classLookupCall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">LookupCall</a>* lookupCall = <span class="keyword">new</span> <a class="code" href="classLookupCall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">LookupCall</a>();

    <a class="code" href="classBinaryValue.html">BinaryValue</a> keyString = (<span class="keyword">const</span> <a class="code" href="classXmlRpc_1_1XmlRpcValue.html#a0946bd810374aad0bd88dd90da73eeac">XmlRpcValue::BinaryData</a>&amp;)params[0];
    lookupCall-&gt;<a class="code" href="classLookupCall.html#a5b97eef473f8c5a210a743e49a7a9afd">setKey</a>(<a class="code" href="classOverlayKey.html#abbd73571f97d27468c417c9b3f91f175" title="Returns a key with the SHA1 cryptographic hash of a BinaryValue.">OverlayKey::sha1</a>(keyString));
    lookupCall-&gt;<a class="code" href="classLookupCall.html#a6b031f67801b78c6171b7fa02e0fe94a">setNumSiblings</a>(params[1]);

    <span class="keywordflow">if</span> (params.<a class="code" href="classXmlRpc_1_1XmlRpcValue.html#a7f3a1969a5506df8d045bb01632f9f2d" title="Return the size for string, base64, array, and struct values.">size</a>() == 3) {
        lookupCall-&gt;<a class="code" href="classLookupCall.html#a58971464b05066dd6ea68c123da045da">setRoutingType</a>(params[2]);
    }

    <a class="code" href="classXmlRpcInterface.html#a32d6a205db854ee23024c9a39d58b92f">sendInternalRpcWithTimeout</a>(<a class="code" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5ead1b904580b02f8adaa1ab2de239c4c79">OVERLAY_COMP</a>, lookupCall);
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3e8dc35258238becf3d2299d71e422de"></a><!-- doxytag: member="XmlRpcInterface::p2pnsRegister" ref="a3e8dc35258238becf3d2299d71e422de" args="(XmlRpc::XmlRpcValue &amp;params, XmlRpc::XmlRpcValue &amp;result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XmlRpcInterface::p2pnsRegister </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8cc_source.html#l00203">203</a> of file <a class="el" href="XmlRpcInterface_8cc_source.html">XmlRpcInterface.cc</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ((params.<a class="code" href="classXmlRpc_1_1XmlRpcValue.html#a7f3a1969a5506df8d045bb01632f9f2d" title="Return the size for string, base64, array, and struct values.">size</a>() != 5) ||
            (params[0].getType() != XmlRpcValue::TypeBase64) ||
            (params[1].getType() != XmlRpcValue::TypeInt) ||
            (params[2].getType() != XmlRpcValue::TypeInt) ||
            (params[3].getType() != XmlRpcValue::TypeBase64) ||
            (params[4].getType() != XmlRpcValue::TypeInt))
        <span class="keywordflow">throw</span> <a class="code" href="classXmlRpc_1_1XmlRpcException.html" title="A class representing an error.">XmlRpcException</a>(<span class="stringliteral">&quot;register(base64 name, int kind, int id, base64 address, int ttl): &quot;</span>
                              <span class="stringliteral">&quot;Invalid argument type&quot;</span>);

    <span class="keywordflow">if</span> (<a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseOverlay.html#a3aba2b6e93094d3cc8107d33db4b5244">getCompModule</a>(<a class="code" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5eaf097637305d4fe4ee3b62d2f76f6dc16">TIER2_COMP</a>) == NULL)
        <span class="keywordflow">throw</span> <a class="code" href="classXmlRpc_1_1XmlRpcException.html" title="A class representing an error.">XmlRpcException</a>(<span class="stringliteral">&quot;register(base64 name, int kind, int id, base64 address, int ttl): &quot;</span>
                              <span class="stringliteral">&quot;No P2PNS service&quot;</span>);

    <span class="keywordflow">if</span> (!<a class="code" href="classXmlRpcInterface.html#ad16d568eb4e7b9c122fd3feaebcc6c1c" title="Check if the connected application is allowed to call privileged methods.">isPrivileged</a>()) {
        <span class="keywordflow">throw</span> <a class="code" href="classXmlRpc_1_1XmlRpcException.html" title="A class representing an error.">XmlRpcException</a>(<span class="stringliteral">&quot;register(base64 name, int kind, base64 address, &quot;</span>
                              <span class="stringliteral">&quot;int ttl): Not allowed&quot;</span>);
    }

    <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._connectionState = EXECUTE_REQUEST;

    <a class="code" href="classP2pnsRegisterCall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">P2pnsRegisterCall</a>* registerCall = <span class="keyword">new</span> <a class="code" href="classP2pnsRegisterCall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">P2pnsRegisterCall</a>();
    registerCall-&gt;<a class="code" href="classP2pnsRegisterCall.html#aa9c33a6012e297783bf4c5e80730e4fb">setP2pName</a>(((<span class="keyword">const</span> <a class="code" href="classXmlRpc_1_1XmlRpcValue.html#a0946bd810374aad0bd88dd90da73eeac">XmlRpcValue::BinaryData</a>&amp;)params[0]));
    registerCall-&gt;<a class="code" href="classP2pnsRegisterCall.html#a5b7dd6e4fce40056fcc79b04591d3388">setKind</a>((<span class="keywordtype">int</span>)params[1]);
    registerCall-&gt;<a class="code" href="classP2pnsRegisterCall.html#aefe1e8a578423a9558b56d374102c9b4">setId</a>((<span class="keywordtype">int</span>)params[2]);
    registerCall-&gt;<a class="code" href="classP2pnsRegisterCall.html#ac7c38538a8cc735574bed4e0d499c59c">setAddress</a>(((<span class="keyword">const</span> <a class="code" href="classXmlRpc_1_1XmlRpcValue.html#a0946bd810374aad0bd88dd90da73eeac">XmlRpcValue::BinaryData</a>&amp;)params[3]));
    registerCall-&gt;<a class="code" href="classP2pnsRegisterCall.html#af93629adb0619e6b95b0fc97f083346b">setTtl</a>(params[4]);

    <a class="code" href="classXmlRpcInterface.html#a32d6a205db854ee23024c9a39d58b92f">sendInternalRpcWithTimeout</a>(<a class="code" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5eaf097637305d4fe4ee3b62d2f76f6dc16">TIER2_COMP</a>, registerCall);
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6939fdc168419f3bc02a7407992e871c"></a><!-- doxytag: member="XmlRpcInterface::p2pnsResolve" ref="a6939fdc168419f3bc02a7407992e871c" args="(XmlRpc::XmlRpcValue &amp;params, XmlRpc::XmlRpcValue &amp;result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XmlRpcInterface::p2pnsResolve </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8cc_source.html#l00235">235</a> of file <a class="el" href="XmlRpcInterface_8cc_source.html">XmlRpcInterface.cc</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ((params.<a class="code" href="classXmlRpc_1_1XmlRpcValue.html#a7f3a1969a5506df8d045bb01632f9f2d" title="Return the size for string, base64, array, and struct values.">size</a>() != 2) ||
            (params[0].getType() != XmlRpcValue::TypeBase64) ||
            (params[1].getType() != XmlRpcValue::TypeInt))
        <span class="keywordflow">throw</span> <a class="code" href="classXmlRpc_1_1XmlRpcException.html" title="A class representing an error.">XmlRpcException</a>(<span class="stringliteral">&quot;resolve(base64 name, int kind): Invalid argument type&quot;</span>);

    <span class="keywordflow">if</span> (<a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseOverlay.html#a3aba2b6e93094d3cc8107d33db4b5244">getCompModule</a>(<a class="code" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5eaf097637305d4fe4ee3b62d2f76f6dc16">TIER2_COMP</a>) == NULL)
        <span class="keywordflow">throw</span> <a class="code" href="classXmlRpc_1_1XmlRpcException.html" title="A class representing an error.">XmlRpcException</a>(<span class="stringliteral">&quot;resolve(base64 name, int kind): No P2PNS service&quot;</span>);

    <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._connectionState = EXECUTE_REQUEST;

    <a class="code" href="classP2pnsResolveCall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">P2pnsResolveCall</a>* resolveCall = <span class="keyword">new</span> <a class="code" href="classP2pnsResolveCall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">P2pnsResolveCall</a>();

    resolveCall-&gt;<a class="code" href="classP2pnsResolveCall.html#a6bd7f8ca8446a5b543b14ba65ca9a3f8">setP2pName</a>(((<span class="keyword">const</span> <a class="code" href="classXmlRpc_1_1XmlRpcValue.html#a0946bd810374aad0bd88dd90da73eeac">XmlRpcValue::BinaryData</a>&amp;)params[0]));
    resolveCall-&gt;<a class="code" href="classP2pnsResolveCall.html#a301e178837211d29d80b7d71a1f1fc1e">setKind</a>((<span class="keywordtype">int</span>)params[1]);
    resolveCall-&gt;<a class="code" href="classP2pnsResolveCall.html#a0c077f615a89fba77e7dc9c0a6d5b851">setId</a>(0);

    <a class="code" href="classXmlRpcInterface.html#a32d6a205db854ee23024c9a39d58b92f">sendInternalRpcWithTimeout</a>(<a class="code" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5eaf097637305d4fe4ee3b62d2f76f6dc16">TIER2_COMP</a>, resolveCall);
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3fe030f19772c1987400c9cbf07e78dc"></a><!-- doxytag: member="XmlRpcInterface::put" ref="a3fe030f19772c1987400c9cbf07e78dc" args="(XmlRpc::XmlRpcValue &amp;params, XmlRpc::XmlRpcValue &amp;result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XmlRpcInterface::put </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classXmlRpc_1_1XmlRpcValue.html">XmlRpc::XmlRpcValue</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8cc_source.html#l00347">347</a> of file <a class="el" href="XmlRpcInterface_8cc_source.html">XmlRpcInterface.cc</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ((params.<a class="code" href="classXmlRpc_1_1XmlRpcValue.html#a7f3a1969a5506df8d045bb01632f9f2d" title="Return the size for string, base64, array, and struct values.">size</a>() != 4)
            || (params[0].getType() != XmlRpcValue::TypeBase64)
            || (params[1].getType() != XmlRpcValue::TypeBase64)
            || (params[2].getType() != XmlRpcValue::TypeInt)
            || (params[3].getType() != XmlRpcValue::TypeString))
        <span class="keywordflow">throw</span> <a class="code" href="classXmlRpc_1_1XmlRpcException.html" title="A class representing an error.">XmlRpcException</a>(<span class="stringliteral">&quot;put(base64 key, base64 value, int ttl &quot;</span>
                <span class="stringliteral">&quot;, string application): Invalid argument type&quot;</span>);

    <span class="keywordflow">if</span> (!<a class="code" href="classXmlRpcInterface.html#ad16d568eb4e7b9c122fd3feaebcc6c1c" title="Check if the connected application is allowed to call privileged methods.">isPrivileged</a>()) {
        <span class="keywordflow">throw</span> <a class="code" href="classXmlRpc_1_1XmlRpcException.html" title="A class representing an error.">XmlRpcException</a>(<span class="stringliteral">&quot;put(base64 key, base64 value, int ttl &quot;</span>
                <span class="stringliteral">&quot;, string application): Not allowed&quot;</span>);
    }

    <span class="keywordflow">if</span> (<a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseOverlay.html#a3aba2b6e93094d3cc8107d33db4b5244">getCompModule</a>(<a class="code" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5ea098b73cd039f61df8b83f056c12b4d3b">TIER1_COMP</a>) == NULL)
        <span class="keywordflow">throw</span> <a class="code" href="classXmlRpc_1_1XmlRpcException.html" title="A class representing an error.">XmlRpcException</a>(<span class="stringliteral">&quot;put(base64 key, base64 value, int ttl &quot;</span>
                <span class="stringliteral">&quot;, string application): No DHT service&quot;</span>);

    <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._connectionState = EXECUTE_REQUEST;

    <a class="code" href="classDHTputCAPICall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">DHTputCAPICall</a>* dhtPutMsg = <span class="keyword">new</span> <a class="code" href="classDHTputCAPICall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">DHTputCAPICall</a>();

    <a class="code" href="classBinaryValue.html">BinaryValue</a> keyString = (<span class="keyword">const</span> <a class="code" href="classXmlRpc_1_1XmlRpcValue.html#a0946bd810374aad0bd88dd90da73eeac">XmlRpcValue::BinaryData</a>&amp;)params[0];

    dhtPutMsg-&gt;<a class="code" href="classDHTputCAPICall.html#ae5a561f82ea83c9d944c834579242f5b">setKey</a>(<a class="code" href="classOverlayKey.html#abbd73571f97d27468c417c9b3f91f175" title="Returns a key with the SHA1 cryptographic hash of a BinaryValue.">OverlayKey::sha1</a>(keyString));
    dhtPutMsg-&gt;<a class="code" href="classDHTputCAPICall.html#a4602f85ec53d399909c1af2a3fd13248">setValue</a>(((<span class="keyword">const</span> <a class="code" href="classXmlRpc_1_1XmlRpcValue.html#a0946bd810374aad0bd88dd90da73eeac">XmlRpcValue::BinaryData</a>&amp;)params[1]));
    dhtPutMsg-&gt;<a class="code" href="classDHTputCAPICall.html#a52037238839f61d8b5eef4a356ed38a1">setTtl</a>(params[2]);
    dhtPutMsg-&gt;<a class="code" href="classDHTputCAPICall.html#ad58b07ec27b9e7389a6a124f6ce50c8e">setIsModifiable</a>(<span class="keyword">true</span>);

    <a class="code" href="classXmlRpcInterface.html#a32d6a205db854ee23024c9a39d58b92f">sendInternalRpcWithTimeout</a>(<a class="code" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5ea098b73cd039f61df8b83f056c12b4d3b">TIER1_COMP</a>, dhtPutMsg);
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad47c59f893ee30ae5e56cf87459944b2"></a><!-- doxytag: member="XmlRpcInterface::readHeader" ref="ad47c59f893ee30ae5e56cf87459944b2" args="(char *buf, uint32_t length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool XmlRpcInterface::readHeader </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>length</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads the http header. </p>

<p>Definition at line <a class="el" href="XmlRpcInterface_8cc_source.html#l00944">944</a> of file <a class="el" href="XmlRpcInterface_8cc_source.html">XmlRpcInterface.cc</a>.</p>

<p>Referenced by <a class="el" href="XmlRpcInterface_8cc_source.html#l00742">handleRealworldPacket()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="comment">// Read available data</span>
    <span class="keywordtype">bool</span> eof = <span class="keyword">false</span>;

    <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._header.append(std::string(buf, length));

    <span class="keywordflow">if</span> (length &lt;= 0) {
        <span class="comment">// Its only an error if we already have read some data</span>
        <span class="keywordflow">if</span> (<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._header.length() &gt; 0)
            <a class="code" href="yang_8cc.html#adb989392f8aada21b0f7ec2f7a41dc00">XmlRpcUtil::error</a>(<span class="stringliteral">&quot;XmlRpcServerConnection::readHeader: error &quot;</span>
                <span class="stringliteral">&quot;while reading header.&quot;</span>);
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }

    XmlRpcUtil::log(4, <span class="stringliteral">&quot;XmlRpcServerConnection::readHeader: read %d bytes.&quot;</span>,
                    <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._header.length());
    <span class="keywordtype">char</span> *hp = (<span class="keywordtype">char</span>*)<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._header.c_str(); <span class="comment">// Start of header</span>
    <span class="keywordtype">char</span> *ep = hp + <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._header.length(); <span class="comment">// End of string</span>
    <span class="keywordtype">char</span> *bp = 0; <span class="comment">// Start of body</span>
    <span class="keywordtype">char</span> *lp = 0; <span class="comment">// Start of content-length value</span>
    <span class="keywordtype">char</span> *kp = 0; <span class="comment">// Start of connection value</span>

    <span class="keywordflow">for</span> (<span class="keywordtype">char</span> *cp = hp; (bp == 0) &amp;&amp; (cp &lt; ep); ++cp) {
        <span class="keywordflow">if</span> ((ep - cp &gt; 16) &amp;&amp; (strncasecmp(cp, <span class="stringliteral">&quot;Content-length: &quot;</span>, 16) == 0))
            lp = cp + 16;
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((ep - cp &gt; 12) &amp;&amp; (strncasecmp(cp, <span class="stringliteral">&quot;Connection: &quot;</span>, 12) == 0))
            kp = cp + 12;
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((ep - cp &gt; 4) &amp;&amp; (strncmp(cp, <span class="stringliteral">&quot;\r\n\r\n&quot;</span>, 4) == 0))
            bp = cp + 4;
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((ep - cp &gt; 2) &amp;&amp; (strncmp(cp, <span class="stringliteral">&quot;\n\n&quot;</span>, 2) == 0))
            bp = cp + 2;
    }

    <span class="comment">// If we haven&#39;t gotten the entire header yet, return (keep reading)</span>
    <span class="keywordflow">if</span> (bp == 0) {
        <span class="comment">// EOF in the middle of a request is an error, otherwise its ok</span>
        <span class="keywordflow">if</span> (eof) {
            XmlRpcUtil::log(4, <span class="stringliteral">&quot;XmlRpcServerConnection::readHeader: EOF&quot;</span>);
            <span class="keywordflow">if</span> (<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._header.length() &gt; 0)
                <a class="code" href="yang_8cc.html#adb989392f8aada21b0f7ec2f7a41dc00">XmlRpcUtil::error</a>(<span class="stringliteral">&quot;XmlRpcServerConnection::readHeader: EOF while reading header&quot;</span>);
            <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// Either way we close the connection</span>
        }

        <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// Keep reading</span>
    }

    <span class="comment">// Decode content length</span>
    <span class="keywordflow">if</span> (lp == 0) {
        <a class="code" href="yang_8cc.html#adb989392f8aada21b0f7ec2f7a41dc00">XmlRpcUtil::error</a>(<span class="stringliteral">&quot;XmlRpcServerConnection::readHeader: No Content-length specified&quot;</span>);
        <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// We could try to figure it out by parsing as we read, but for now...</span>
    }

    <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._contentLength = atoi(lp);
    <span class="keywordflow">if</span> (<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._contentLength &lt;= 0) {
        <a class="code" href="yang_8cc.html#adb989392f8aada21b0f7ec2f7a41dc00">XmlRpcUtil::error</a>(
                          <span class="stringliteral">&quot;XmlRpcServerConnection::readHeader: Invalid Content-length specified (%d).&quot;</span>,
                          <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._contentLength);
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }

    XmlRpcUtil::log(
                     3,
                    <span class="stringliteral">&quot;XmlRpcServerConnection::readHeader: specified content length is %d.&quot;</span>,
                    <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._contentLength);

    <span class="comment">// Otherwise copy non-header data to request buffer and set state to read request.</span>
    <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._request = bp;

    <span class="comment">// Parse out any interesting bits from the header (HTTP version, connection)</span>
    <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._keepAlive = <span class="keyword">true</span>;
    <span class="keywordflow">if</span> (<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._header.find(<span class="stringliteral">&quot;HTTP/1.0&quot;</span>) != std::string::npos) {
        <span class="keywordflow">if</span> (kp == 0 || strncasecmp(kp, <span class="stringliteral">&quot;keep-alive&quot;</span>, 10) != 0)
            <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._keepAlive = <span class="keyword">false</span>; <span class="comment">// Default for HTTP 1.0 is to close the connection</span>
    } <span class="keywordflow">else</span> {
        <span class="keywordflow">if</span> (kp != 0 &amp;&amp; strncasecmp(kp, <span class="stringliteral">&quot;close&quot;</span>, 5) == 0)
            <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._keepAlive = <span class="keyword">false</span>;
    }
    XmlRpcUtil::log(3, <span class="stringliteral">&quot;KeepAlive: %d&quot;</span>, <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._keepAlive);

    <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._header = <span class="stringliteral">&quot;&quot;</span>;
    <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._connectionState = READ_REQUEST;
    <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// Continue monitoring this source</span>
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8016d47290ad29582e6bf178edd5f2a6"></a><!-- doxytag: member="XmlRpcInterface::readRequest" ref="a8016d47290ad29582e6bf178edd5f2a6" args="(char *buf, uint32_t length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool XmlRpcInterface::readRequest </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>length</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads the request (based on the content-length header value). </p>

<p>Definition at line <a class="el" href="XmlRpcInterface_8cc_source.html#l01029">1029</a> of file <a class="el" href="XmlRpcInterface_8cc_source.html">XmlRpcInterface.cc</a>.</p>

<p>Referenced by <a class="el" href="XmlRpcInterface_8cc_source.html#l00742">handleRealworldPacket()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="comment">// If we dont have the entire request yet, read available data</span>
    <span class="keywordflow">if</span> (<span class="keywordtype">int</span>(<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._request.length()) &lt; <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._contentLength) {
        <span class="keywordtype">bool</span> eof = <span class="keyword">false</span>;

        <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._request.append(std::string(buf, length));

        <span class="keywordflow">if</span> (length &lt;= 0) {
            <a class="code" href="yang_8cc.html#adb989392f8aada21b0f7ec2f7a41dc00">XmlRpcUtil::error</a>(<span class="stringliteral">&quot;XmlRpcServerConnection::readRequest: read error.&quot;</span>);
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }

        <span class="comment">// If we haven&#39;t gotten the entire request yet, return (keep reading)</span>
        <span class="keywordflow">if</span> (<span class="keywordtype">int</span>(<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._request.length()) &lt; <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._contentLength) {
            <span class="keywordflow">if</span> (eof) {
                <a class="code" href="yang_8cc.html#adb989392f8aada21b0f7ec2f7a41dc00">XmlRpcUtil::error</a>(<span class="stringliteral">&quot;XmlRpcServerConnection::readRequest: EOF while reading request&quot;</span>);
                <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// Either way we close the connection</span>
            }
            <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }
    }

    <span class="comment">// Otherwise, parse and dispatch the request</span>
    XmlRpcUtil::log(3, <span class="stringliteral">&quot;XmlRpcServerConnection::readRequest read %d bytes.&quot;</span>,
                    <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._request.length());
    <span class="comment">//XmlRpcUtil::log(5, &quot;XmlRpcServerConnection::readRequest:\n%s\n&quot;, state[curAppFd]._request.c_str());</span>

    <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._connectionState = WRITE_RESPONSE;

    <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// Continue monitoring this source</span>
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab59f8cbf0bfc71c761d1c9167ff3803c"></a><!-- doxytag: member="XmlRpcInterface::resetConnectionState" ref="ab59f8cbf0bfc71c761d1c9167ff3803c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XmlRpcInterface::resetConnectionState </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reset the internal connection state. </p>
<p>This is called after a RPC has finished and the socket was closed. </p>

<p>Definition at line <a class="el" href="XmlRpcInterface_8cc_source.html#l00497">497</a> of file <a class="el" href="XmlRpcInterface_8cc_source.html">XmlRpcInterface.cc</a>.</p>

<p>Referenced by <a class="el" href="XmlRpcInterface_8cc_source.html#l00513">closeConnection()</a>, and <a class="el" href="XmlRpcInterface_8cc_source.html#l00527">handleMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>.count(<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>) &amp;&amp; <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>].pendingRpc) {
        <a class="code" href="classBaseRpc.html#aea89bf4704b3859432879853c27fa3e3" title="Cancels a Remote-Procedure-Call.">cancelRpcMessage</a>(<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>].pendingRpc);
    }

    <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>].appFd = INVALID_SOCKET;
    <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>].localhost = <span class="keyword">false</span>;
    <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._header = <span class="stringliteral">&quot;&quot;</span>;
    <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._request = <span class="stringliteral">&quot;&quot;</span>;
    <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._response = <span class="stringliteral">&quot;&quot;</span>;
    <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._connectionState = READ_HEADER;
    <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._keepAlive = <span class="keyword">true</span>;
    <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>].pendingRpc = 0;
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a32d6a205db854ee23024c9a39d58b92f"></a><!-- doxytag: member="XmlRpcInterface::sendInternalRpcWithTimeout" ref="a32d6a205db854ee23024c9a39d58b92f" args="(CompType destComp, BaseCallMessage *call)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XmlRpcInterface::sendInternalRpcWithTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5e">CompType</a>&nbsp;</td>
          <td class="paramname"> <em>destComp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *&nbsp;</td>
          <td class="paramname"> <em>call</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8cc_source.html#l00519">519</a> of file <a class="el" href="XmlRpcInterface_8cc_source.html">XmlRpcInterface.cc</a>.</p>

<p>Referenced by <a class="el" href="XmlRpcInterface_8cc_source.html#l00404">dumpDht()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00380">get()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00286">lookup()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00203">p2pnsRegister()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00235">p2pnsResolve()</a>, and <a class="el" href="XmlRpcInterface_8cc_source.html#l00347">put()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>].pendingRpc = <a class="code" href="classBaseRpc.html#a0dea7eed103c0e97176576d6642f7bfa" title="Sends an internal Remote-Procedure-Call between two tiers ">sendInternalRpcCall</a>(destComp, call, NULL,
                                                     <a class="code" href="XmlRpcInterface_8h.html#abacf0e8f4b926d08dce3e7974816650c">XMLRPC_TIMEOUT</a>, 0,
                                                     <a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>);
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="af88369ddb76ebd54117f46fc57969557"></a><!-- doxytag: member="XmlRpcInterface::writeResponse" ref="af88369ddb76ebd54117f46fc57969557" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool XmlRpcInterface::writeResponse </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Executes the request and writes the resulting response. </p>

<p>Definition at line <a class="el" href="XmlRpcInterface_8cc_source.html#l01062">1062</a> of file <a class="el" href="XmlRpcInterface_8cc_source.html">XmlRpcInterface.cc</a>.</p>

<p>Referenced by <a class="el" href="XmlRpcInterface_8cc_source.html#l00742">handleRealworldPacket()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00768">handleRpcResponse()</a>, and <a class="el" href="XmlRpcInterface_8cc_source.html#l00619">handleRpcTimeout()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._response.length() == 0) {
        <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._response = <a class="code" href="classXmlRpc_1_1XmlRpcServer.html#acc3b49e20a5e1c7e360572df0752dad0" title="Parses the request xml, runs the method, generates the response (header+xml).">executeRequest</a>(<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._request);
        <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._bytesWritten = 0;

        <span class="keywordflow">if</span> (<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._connectionState == <a class="code" href="classXmlRpcInterface.html#acc56e9801b3cabe12bc3404d4f1de794a9d5f57a03d2fa7442a354f803ffe6452">EXECUTE_REQUEST</a>)
            <span class="keywordflow">return</span> <span class="keyword">true</span>;

        <span class="keywordflow">if</span> (<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._response.length() == 0) {
            <a class="code" href="yang_8cc.html#adb989392f8aada21b0f7ec2f7a41dc00">XmlRpcUtil::error</a>(<span class="stringliteral">&quot;XmlRpcServerConnection::writeResponse: empty response.&quot;</span>);
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
    }

    <span class="comment">// Try to write the response</span>
    <span class="keywordtype">int</span> curBytesWritten = <a class="code" href="classXmlRpcInterface.html#a6f1a7683989c76b32ded7e8ac52c8248">scheduler</a>-&gt;<a class="code" href="classRealtimeScheduler.html#adb359f57379d33cfa8300cdd5beb2487" title="Send data to network.">sendBytes</a>(<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._response.c_str(),
                                               <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._response.length(),
                                               0, 0, <span class="keyword">true</span>, <a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>);

    <span class="keywordflow">if</span> (curBytesWritten &lt;= 0) {
        <a class="code" href="yang_8cc.html#adb989392f8aada21b0f7ec2f7a41dc00">XmlRpcUtil::error</a>(<span class="stringliteral">&quot;XmlRpcServerConnection::writeResponse: write error.&quot;</span>);
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    } <span class="keywordflow">else</span> {
        <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._bytesWritten += curBytesWritten;
    }

    XmlRpcUtil::log(3,
                <span class="stringliteral">&quot;XmlRpcServerConnection::writeResponse: wrote %d of %d bytes.&quot;</span>,
                <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._bytesWritten, <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._response.length());

    <span class="comment">// Prepare to read the next request</span>
    <span class="keywordflow">if</span> (<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._bytesWritten == <span class="keywordtype">int</span>(<a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._response.length())) {
        <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._header = <span class="stringliteral">&quot;&quot;</span>;
        <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._request = <span class="stringliteral">&quot;&quot;</span>;
        <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._response = <span class="stringliteral">&quot;&quot;</span>;
        <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._connectionState = READ_HEADER;
    }

    <span class="keywordflow">return</span> <a class="code" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">state</a>[<a class="code" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">curAppFd</a>]._keepAlive; <span class="comment">// Continue monitoring this source if true</span>
}
</pre></div></p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="aee1b509ea3fa85aba611809d462426e7"></a><!-- doxytag: member="XmlRpcInterface::_dumpDht" ref="aee1b509ea3fa85aba611809d462426e7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classXmlRpc_1_1XmlRpcServerMethod.html">XmlRpc::XmlRpcServerMethod</a>* <a class="el" href="classXmlRpcInterface.html#aee1b509ea3fa85aba611809d462426e7">XmlRpcInterface::_dumpDht</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8h_source.html#l00108">108</a> of file <a class="el" href="XmlRpcInterface_8h_source.html">XmlRpcInterface.h</a>.</p>

<p>Referenced by <a class="el" href="XmlRpcInterface_8cc_source.html#l00433">initializeApp()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00467">XmlRpcInterface()</a>, and <a class="el" href="XmlRpcInterface_8cc_source.html#l00483">~XmlRpcInterface()</a>.</p>

</div>
</div>
<a class="anchor" id="a4369a776b67f5f572a4b2728d6875083"></a><!-- doxytag: member="XmlRpcInterface::_get" ref="a4369a776b67f5f572a4b2728d6875083" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classXmlRpc_1_1XmlRpcServerMethod.html">XmlRpc::XmlRpcServerMethod</a>* <a class="el" href="classXmlRpcInterface.html#a4369a776b67f5f572a4b2728d6875083">XmlRpcInterface::_get</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8h_source.html#l00107">107</a> of file <a class="el" href="XmlRpcInterface_8h_source.html">XmlRpcInterface.h</a>.</p>

<p>Referenced by <a class="el" href="XmlRpcInterface_8cc_source.html#l00433">initializeApp()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00467">XmlRpcInterface()</a>, and <a class="el" href="XmlRpcInterface_8cc_source.html#l00483">~XmlRpcInterface()</a>.</p>

</div>
</div>
<a class="anchor" id="a20b719a3e8b5a170bc1df60eb1572040"></a><!-- doxytag: member="XmlRpcInterface::_joinOverlay" ref="a20b719a3e8b5a170bc1df60eb1572040" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classXmlRpc_1_1XmlRpcServerMethod.html">XmlRpc::XmlRpcServerMethod</a>* <a class="el" href="classXmlRpcInterface.html#a20b719a3e8b5a170bc1df60eb1572040">XmlRpcInterface::_joinOverlay</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8h_source.html#l00109">109</a> of file <a class="el" href="XmlRpcInterface_8h_source.html">XmlRpcInterface.h</a>.</p>

<p>Referenced by <a class="el" href="XmlRpcInterface_8cc_source.html#l00433">initializeApp()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00467">XmlRpcInterface()</a>, and <a class="el" href="XmlRpcInterface_8cc_source.html#l00483">~XmlRpcInterface()</a>.</p>

</div>
</div>
<a class="anchor" id="a1b1384f7e1f9fa85b0315eb08dd6ad6a"></a><!-- doxytag: member="XmlRpcInterface::_localLookup" ref="a1b1384f7e1f9fa85b0315eb08dd6ad6a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classXmlRpc_1_1XmlRpcServerMethod.html">XmlRpc::XmlRpcServerMethod</a>* <a class="el" href="classXmlRpcInterface.html#a1b1384f7e1f9fa85b0315eb08dd6ad6a">XmlRpcInterface::_localLookup</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8h_source.html#l00102">102</a> of file <a class="el" href="XmlRpcInterface_8h_source.html">XmlRpcInterface.h</a>.</p>

<p>Referenced by <a class="el" href="XmlRpcInterface_8cc_source.html#l00433">initializeApp()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00467">XmlRpcInterface()</a>, and <a class="el" href="XmlRpcInterface_8cc_source.html#l00483">~XmlRpcInterface()</a>.</p>

</div>
</div>
<a class="anchor" id="a96d4c9d9db66dd0704eddb8c9aac44ee"></a><!-- doxytag: member="XmlRpcInterface::_lookup" ref="a96d4c9d9db66dd0704eddb8c9aac44ee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classXmlRpc_1_1XmlRpcServerMethod.html">XmlRpc::XmlRpcServerMethod</a>* <a class="el" href="classXmlRpcInterface.html#a96d4c9d9db66dd0704eddb8c9aac44ee">XmlRpcInterface::_lookup</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8h_source.html#l00103">103</a> of file <a class="el" href="XmlRpcInterface_8h_source.html">XmlRpcInterface.h</a>.</p>

<p>Referenced by <a class="el" href="XmlRpcInterface_8cc_source.html#l00433">initializeApp()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00467">XmlRpcInterface()</a>, and <a class="el" href="XmlRpcInterface_8cc_source.html#l00483">~XmlRpcInterface()</a>.</p>

</div>
</div>
<a class="anchor" id="ac0e9f518dd46ceb0c46b73ce88a9fc15"></a><!-- doxytag: member="XmlRpcInterface::_put" ref="ac0e9f518dd46ceb0c46b73ce88a9fc15" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classXmlRpc_1_1XmlRpcServerMethod.html">XmlRpc::XmlRpcServerMethod</a>* <a class="el" href="classXmlRpcInterface.html#ac0e9f518dd46ceb0c46b73ce88a9fc15">XmlRpcInterface::_put</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8h_source.html#l00106">106</a> of file <a class="el" href="XmlRpcInterface_8h_source.html">XmlRpcInterface.h</a>.</p>

<p>Referenced by <a class="el" href="XmlRpcInterface_8cc_source.html#l00433">initializeApp()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00467">XmlRpcInterface()</a>, and <a class="el" href="XmlRpcInterface_8cc_source.html#l00483">~XmlRpcInterface()</a>.</p>

</div>
</div>
<a class="anchor" id="ac4764420da8901c51140d5a98c30c53a"></a><!-- doxytag: member="XmlRpcInterface::_register" ref="ac4764420da8901c51140d5a98c30c53a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classXmlRpc_1_1XmlRpcServerMethod.html">XmlRpc::XmlRpcServerMethod</a>* <a class="el" href="classXmlRpcInterface.html#ac4764420da8901c51140d5a98c30c53a">XmlRpcInterface::_register</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8h_source.html#l00104">104</a> of file <a class="el" href="XmlRpcInterface_8h_source.html">XmlRpcInterface.h</a>.</p>

<p>Referenced by <a class="el" href="XmlRpcInterface_8cc_source.html#l00433">initializeApp()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00467">XmlRpcInterface()</a>, and <a class="el" href="XmlRpcInterface_8cc_source.html#l00483">~XmlRpcInterface()</a>.</p>

</div>
</div>
<a class="anchor" id="a1d3fba55b244646cf073076723158986"></a><!-- doxytag: member="XmlRpcInterface::_resolve" ref="a1d3fba55b244646cf073076723158986" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classXmlRpc_1_1XmlRpcServerMethod.html">XmlRpc::XmlRpcServerMethod</a>* <a class="el" href="classXmlRpcInterface.html#a1d3fba55b244646cf073076723158986">XmlRpcInterface::_resolve</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8h_source.html#l00105">105</a> of file <a class="el" href="XmlRpcInterface_8h_source.html">XmlRpcInterface.h</a>.</p>

<p>Referenced by <a class="el" href="XmlRpcInterface_8cc_source.html#l00433">initializeApp()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00467">XmlRpcInterface()</a>, and <a class="el" href="XmlRpcInterface_8cc_source.html#l00483">~XmlRpcInterface()</a>.</p>

</div>
</div>
<a class="anchor" id="a4a5abd718044c3db8443d7984f201623"></a><!-- doxytag: member="XmlRpcInterface::appTunFd" ref="a4a5abd718044c3db8443d7984f201623" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SOCKET <a class="el" href="classXmlRpcInterface.html#a4a5abd718044c3db8443d7984f201623">XmlRpcInterface::appTunFd</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>FD of the application TUN socket used for tunneling. </p>

<p>Definition at line <a class="el" href="XmlRpcInterface_8h_source.html#l00137">137</a> of file <a class="el" href="XmlRpcInterface_8h_source.html">XmlRpcInterface.h</a>.</p>

<p>Referenced by <a class="el" href="XmlRpcInterface_8cc_source.html#l00722">deliverTunneledMessage()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00637">handleReadyMessage()</a>, and <a class="el" href="XmlRpcInterface_8cc_source.html#l00433">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="ac0133609b89c92a7342992a355cf5099"></a><!-- doxytag: member="XmlRpcInterface::curAppFd" ref="ac0133609b89c92a7342992a355cf5099" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SOCKET <a class="el" href="classXmlRpcInterface.html#ac0133609b89c92a7342992a355cf5099">XmlRpcInterface::curAppFd</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8h_source.html#l00099">99</a> of file <a class="el" href="XmlRpcInterface_8h_source.html">XmlRpcInterface.h</a>.</p>

<p>Referenced by <a class="el" href="XmlRpcInterface_8cc_source.html#l00513">closeConnection()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00404">dumpDht()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00380">get()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00527">handleMessage()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00742">handleRealworldPacket()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00768">handleRpcResponse()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00619">handleRpcTimeout()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00433">initializeApp()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00424">isPrivileged()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00286">lookup()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00203">p2pnsRegister()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00235">p2pnsResolve()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00347">put()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00944">readHeader()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l01029">readRequest()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00497">resetConnectionState()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00519">sendInternalRpcWithTimeout()</a>, and <a class="el" href="XmlRpcInterface_8cc_source.html#l01062">writeResponse()</a>.</p>

</div>
</div>
<a class="anchor" id="abcb493b05584e846dba169cd4ee1e24a"></a><!-- doxytag: member="XmlRpcInterface::limitAccess" ref="abcb493b05584e846dba169cd4ee1e24a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classXmlRpcInterface.html#abcb493b05584e846dba169cd4ee1e24a">XmlRpcInterface::limitAccess</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8h_source.html#l00100">100</a> of file <a class="el" href="XmlRpcInterface_8h_source.html">XmlRpcInterface.h</a>.</p>

<p>Referenced by <a class="el" href="XmlRpcInterface_8cc_source.html#l00433">initializeApp()</a>, and <a class="el" href="XmlRpcInterface_8cc_source.html#l00424">isPrivileged()</a>.</p>

</div>
</div>
<a class="anchor" id="a9052c244a6ed0fc872303e2f0c255255"></a><!-- doxytag: member="XmlRpcInterface::mtu" ref="a9052c244a6ed0fc872303e2f0c255255" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="classXmlRpcInterface.html#a9052c244a6ed0fc872303e2f0c255255">XmlRpcInterface::mtu</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8h_source.html#l00047">47</a> of file <a class="el" href="XmlRpcInterface_8h_source.html">XmlRpcInterface.h</a>.</p>

<p>Referenced by <a class="el" href="XmlRpcInterface_8cc_source.html#l00433">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="a07c104f16ae63f7ec1abbddb5c8f3a05"></a><!-- doxytag: member="XmlRpcInterface::p2pns" ref="a07c104f16ae63f7ec1abbddb5c8f3a05" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classP2pns.html">P2pns</a>* <a class="el" href="classXmlRpcInterface.html#a07c104f16ae63f7ec1abbddb5c8f3a05">XmlRpcInterface::p2pns</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pointer to the P2PNS module. </p>

<p>Definition at line <a class="el" href="XmlRpcInterface_8h_source.html#l00138">138</a> of file <a class="el" href="XmlRpcInterface_8h_source.html">XmlRpcInterface.h</a>.</p>

<p>Referenced by <a class="el" href="XmlRpcInterface_8cc_source.html#l00682">handleAppTunPacket()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00637">handleReadyMessage()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00433">initializeApp()</a>, and <a class="el" href="XmlRpcInterface_8cc_source.html#l00467">XmlRpcInterface()</a>.</p>

</div>
</div>
<a class="anchor" id="aaac7acff7aa7de89e7dc9cde8ea95079"></a><!-- doxytag: member="XmlRpcInterface::packetBuffer" ref="aaac7acff7aa7de89e7dc9cde8ea95079" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRealtimeScheduler.html#a79fbe4a4228382420aadd2e7263b6e0b">RealtimeScheduler::PacketBuffer</a> <a class="el" href="classXmlRpcInterface.html#aaac7acff7aa7de89e7dc9cde8ea95079">XmlRpcInterface::packetBuffer</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8h_source.html#l00050">50</a> of file <a class="el" href="XmlRpcInterface_8h_source.html">XmlRpcInterface.h</a>.</p>

<p>Referenced by <a class="el" href="XmlRpcInterface_8cc_source.html#l00527">handleMessage()</a>, and <a class="el" href="XmlRpcInterface_8cc_source.html#l00433">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="a54ce9f1884916792c9825e7fc6401dd4"></a><!-- doxytag: member="XmlRpcInterface::packetNotification" ref="a54ce9f1884916792c9825e7fc6401dd4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="classXmlRpcInterface.html#a54ce9f1884916792c9825e7fc6401dd4">XmlRpcInterface::packetNotification</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8h_source.html#l00049">49</a> of file <a class="el" href="XmlRpcInterface_8h_source.html">XmlRpcInterface.h</a>.</p>

<p>Referenced by <a class="el" href="XmlRpcInterface_8cc_source.html#l00527">handleMessage()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00433">initializeApp()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00467">XmlRpcInterface()</a>, and <a class="el" href="XmlRpcInterface_8cc_source.html#l00483">~XmlRpcInterface()</a>.</p>

</div>
</div>
<a class="anchor" id="a6f1a7683989c76b32ded7e8ac52c8248"></a><!-- doxytag: member="XmlRpcInterface::scheduler" ref="a6f1a7683989c76b32ded7e8ac52c8248" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRealtimeScheduler.html">RealtimeScheduler</a>* <a class="el" href="classXmlRpcInterface.html#a6f1a7683989c76b32ded7e8ac52c8248">XmlRpcInterface::scheduler</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8h_source.html#l00051">51</a> of file <a class="el" href="XmlRpcInterface_8h_source.html">XmlRpcInterface.h</a>.</p>

<p>Referenced by <a class="el" href="XmlRpcInterface_8cc_source.html#l00513">closeConnection()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00722">deliverTunneledMessage()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00433">initializeApp()</a>, and <a class="el" href="XmlRpcInterface_8cc_source.html#l01062">writeResponse()</a>.</p>

</div>
</div>
<a class="anchor" id="a638d43b3005fb190757282b2049e8d13"></a><!-- doxytag: member="XmlRpcInterface::state" ref="a638d43b3005fb190757282b2049e8d13" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;int, <a class="el" href="structXmlRpcInterface_1_1XmlRpcConnectionState.html">XmlRpcConnectionState</a>&gt; <a class="el" href="classXmlRpcInterface.html#a638d43b3005fb190757282b2049e8d13">XmlRpcInterface::state</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="XmlRpcInterface_8h_source.html#l00098">98</a> of file <a class="el" href="XmlRpcInterface_8h_source.html">XmlRpcInterface.h</a>.</p>

<p>Referenced by <a class="el" href="XmlRpcInterface_8cc_source.html#l00404">dumpDht()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00380">get()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00527">handleMessage()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00742">handleRealworldPacket()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00768">handleRpcResponse()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00619">handleRpcTimeout()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00424">isPrivileged()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00286">lookup()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00203">p2pnsRegister()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00235">p2pnsResolve()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00347">put()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00944">readHeader()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l01029">readRequest()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00497">resetConnectionState()</a>, <a class="el" href="XmlRpcInterface_8cc_source.html#l00519">sendInternalRpcWithTimeout()</a>, and <a class="el" href="XmlRpcInterface_8cc_source.html#l01062">writeResponse()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="XmlRpcInterface_8h_source.html">XmlRpcInterface.h</a></li>
<li><a class="el" href="XmlRpcInterface_8cc_source.html">XmlRpcInterface.cc</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Nov 3 2010 14:40:55 for OverSim by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
