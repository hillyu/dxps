<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OverSim: Quon Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<h1>Quon Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="Quon" --><!-- doxytag: inherits="BaseOverlay" -->
<p>QuON: An overlay network based on quadtrees.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Quon_8h_source.html">Quon.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Quon:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classQuon.png" usemap="#Quon_map" alt=""/>
  <map id="Quon_map" name="Quon_map">
<area href="classBaseOverlay.html" alt="BaseOverlay" shape="rect" coords="115,112,220,136"/>
<area href="classBaseRpc.html" alt="BaseRpc" shape="rect" coords="0,56,105,80"/>
<area href="classBaseTcpSupport.html" alt="BaseTcpSupport" shape="rect" coords="115,56,220,80"/>
<area href="classTopologyVis.html" alt="TopologyVis" shape="rect" coords="230,56,335,80"/>
<area href="classRpcListener.html" alt="RpcListener" shape="rect" coords="0,0,105,24"/>
</map>
</div>

<p><a href="classQuon-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#ac9209e027a6b6722ce4480ecaa9974b4">~Quon</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#ae17dfb6ef0492454b6b1b4e455e0f403">initializeOverlay</a> (int stage)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes derived-class-attributes.  <a href="#ae17dfb6ef0492454b6b1b4e455e0f403"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a2e3fd357706467ba1238bdd8382f5be8">finishOverlay</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">collects statistical data in derived class  <a href="#a2e3fd357706467ba1238bdd8382f5be8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a298fcf2d2e493783099f6d0b07cf04d1">handleUDPMessage</a> (<a class="el" href="classBaseOverlayMessage.html">BaseOverlayMessage</a> *msg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Processes messages from underlay.  <a href="#a298fcf2d2e493783099f6d0b07cf04d1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a77a76cd536634a9d90b208cb3f662bd4">handleTimerEvent</a> (cMessage *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#ae1e1b8da4dc8347f67905eff7b01b458">handleAppMessage</a> (cMessage *msg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Processes "timer" self-messages.  <a href="#ae1e1b8da4dc8347f67905eff7b01b458"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a54937c5eea5f1a673ddce36e3f34c9ba">handleNodeGracefulLeaveNotification</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method gets call **.gracefulLeaveDelay seconds before it is killed if this node is among the gracefulLeaveProbability nodes.  <a href="#a54937c5eea5f1a673ddce36e3f34c9ba"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1">QState</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a68e3080e90a657d328c4234f3d75fac7">getState</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a6140fcfc5f22d7a1b0a214e8d2035eeb">getAOI</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classVector2D.html">Vector2D</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a2ee6ae30cf512cc9ebb2d76b603ffe61">getPosition</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#af3c814c9a87a9557e8190fdbd92c7aa9">getAreaDimension</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classOverlayKey.html">OverlayKey</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a68a2c09dba9d923a88c972acc8710956">getKey</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a08f13af619a1b819315742449471e677">getSoftNeighborCount</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="QuonHelper_8h.html#a2b5708283cf10ec2111ad58f7e75af82">QuonSiteMap</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#adfd1a6c88f3487ae4b57aadd4f0ac9e1">sendToApp</a> (cMessage *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a804dcb69b3560421c1c9ae17a5ada43e">sendMessage</a> (<a class="el" href="classQuonMessage.html">QuonMessage</a> *quonMsg, <a class="el" href="classNodeHandle.html">NodeHandle</a> destination)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a21e2a16a7d0c8eb408c6f936fecf9df4">setBootstrapedIcon</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#aeaf445313feedba17bc0a724e86e7a22">changeState</a> (<a class="el" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1">QState</a> <a class="el" href="classQuon.html#a50b8cb447b1d179dd9977161ca5724fe">qstate</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#ac29ea34a956954a1fa1386eaf8cb02be">processJoinTimer</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a5d098a9b74d485d8e68f7a8d5325ddd1">processSecTimer</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a430d10cb5e1b77a630ed4657e34f1695">processDeleteTimer</a> (cMessage *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a86dbfd8cb030da488a06f4322a0d9f54">processAliveTimer</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#af1ff297b237f314e3dd96f8999e0ccb0">processBackupTimer</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#ae55f17acbfe8963c1016aa4b8b52e43f">handleJoin</a> (<a class="el" href="classGameAPIPositionMessage.html">GameAPIPositionMessage</a> *gameMsg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#ac605f9c70749dc1ff7a4c45450ccfc60">handleMove</a> (<a class="el" href="classGameAPIPositionMessage.html">GameAPIPositionMessage</a> *gameMsg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#ac923ab87b84f63ac532cb148a90d3c30">handleEvent</a> (<a class="el" href="classGameAPIMessage.html">GameAPIMessage</a> *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#ad08218dae9b27080131790ebaf6f4b54">handleJoinRequest</a> (<a class="el" href="classQuonMessage.html">QuonMessage</a> *quonMsg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a3e899c593816aa1d9b0b37bc710c87f2">handleJoinAcknowledge</a> (<a class="el" href="classQuonListMessage.html">QuonListMessage</a> *quonListMsg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#adee71dee47991a9f5fffafc9b75b037a">handleNodeMove</a> (<a class="el" href="classQuonMoveMessage.html">QuonMoveMessage</a> *quonMoveMsg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a74d83ab66d75e28a11a0356510a6eccb">handleNewNeighbors</a> (<a class="el" href="classQuonListMessage.html">QuonListMessage</a> *quonListMsg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#ae4a338b42bb5ff3afdb34c2c8548c1a7">handleNodeLeave</a> (<a class="el" href="classQuonListMessage.html">QuonListMessage</a> *quonListMsg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#aacf333436374e811e7b2d74b5e9f7e9f">handleInvalidNode</a> (<a class="el" href="classQuonListMessage.html">QuonListMessage</a> *quonListMsg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a4d364e805fecf9a14eb60b1280bc7a17">synchronizeAppNeighbors</a> (<a class="el" href="QuonDefs_8h.html#adc5a48b199e542d36b27075cdb579b26">QPurgeType</a> purgeSoftSites=QKEEPSOFT)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a1e7c49275495ea83e41988fe3748788c">deleteAppNeighbor</a> (<a class="el" href="classNodeHandle.html">NodeHandle</a> node)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a75404768e34b6b3bab8fd3ff5e211322">addSite</a> (<a class="el" href="classVector2D.html">Vector2D</a> p, <a class="el" href="classNodeHandle.html">NodeHandle</a> node, double AOI, bool isSoft=false, <a class="el" href="QuonDefs_8h.html#ae1c9bee235e07483b1ca6526d3625148">QUpdateType</a> update=QFOREIGN)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#aff5a4bfcea27a7ebfa42f38c3497a744">updateThisSite</a> (<a class="el" href="classVector2D.html">Vector2D</a> p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a12ba4a2250699c84c776014c9b856b9d">classifySites</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#acd349191dbc70d9e4e6801e16a6d3724">deleteSite</a> (<a class="el" href="classNodeHandle.html">NodeHandle</a> node)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a3e94920f59c3f66959cfca7118f5706a">purgeSites</a> (<a class="el" href="QuonDefs_8h.html#adc5a48b199e542d36b27075cdb579b26">QPurgeType</a> purgeSoftSites=QKEEPSOFT)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a2c4fc441250953f22bba4e4398901154">adaptAoI</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">simtime_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a8f89d751256d37ac702a2820130755ad">joinTimeout</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">simtime_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a29afd14267371b2fdccb31e8d5bcebee">deleteTimeout</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">simtime_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a6657a1bdcf332a5a383a5e380cbc16c0">aliveTimeout</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#aa08a19de1f063d2e75effc3cde6eeee1">AOIWidth</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a5321c54300684011b310874cb504cc3b">minAOI</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a4031fe13e201230e6822a0b6d312b9c0">maxAOI</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#aed45985bf8ae12aa4a05e3c74f0a03ed">connectionLimit</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#ac0c61c44ee942bcb8f71ffa069a681fc">areaDimension</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">simtime_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a45b886170e957fd9326a4c34abe4839b">backupIntervall</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a82f95ed825de6241bcf407bcb6732686">useDynamicAOI</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#ad1c9991e5c1094281e552c88ea4f0612">useSquareMetric</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a369f0916dfd5f306a4a31a9bac648be6">linearAdaption</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#ae44950a7619cd0e9bcb65071f9871302">adaptionSensitivity</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#acfff4768dab96f6a068f05385c806da9">gossipSensitivity</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a50bdccb83a076a567533790cef1a7c84">join_timer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a90247744dc8738653a4830170ac600e4">sec_timer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a77a68e7de92d342999c42495e23691c1">alive_timer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a41c411546eafb1dd79c0640a3937090e">backup_timer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#acd2d26c06a998552d4d57d7d54a9203c">joinRequestBytesSend</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a877edb5c60f4374580611db5e87f9b03">joinAcknowledgeBytesSend</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#ac662039da04c611b551ca0b5b0989242">nodeMoveBytesSend</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a60b6442582b349621a5b916b5f63bfdb">newNeighborsBytesSend</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#ac2d00865bf9e11a6f768434266fc6634">nodeLeaveBytesSend</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a479502f99f21bf405210eb0c7c00a9b6">maxBytesPerSecondSend</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#ab43ea338aa35a082c379716a3fcd02c1">averageBytesPerSecondSend</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#ac371d756bd985b8a8dd4227f48c2e9fa">bytesPerSecond</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#ad842d00209159d0d47c0abe7aec573c2">softConnections</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a5450bc23ca2b380316b38903536cad1c">softNeighborCount</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#ac8e1a28cfc559f56cfa51ee757a5b44d">bindingNeighborCount</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a98466c67a6d900869219e4c8acf1dd7c">directNeighborCount</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#acdba7ca61befddc0377f74b502f24a1c">secTimerCount</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#acbe0e10f8dc812606f89e799b21f0c5b">rejoinCount</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a2412db36457ab9bae180b8dd1c3cec47">avgAOI</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classQuonSite.html">QuonSite</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="QuonDefs_8h.html#a380c00788c20b96cde0eb65c87bbdf27">QDeleteMap</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a8101efc814ad37db2f2c15c8863634ea">deletedSites</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classNodeHandle.html">NodeHandle</a>(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a560b63c7e1d4ad9c34bc4ac9f70311e9">bindingBackup</a> )[4]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#ac8eb2eb8fff5eb75bdd6448882d046b7">numBackups</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1">QState</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a50b8cb447b1d179dd9977161ca5724fe">qstate</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuon.html#a58914d072978b36b252a96a7df1fadae">aloneInOverlay</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>QuON: An overlay network based on quadtrees. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Helge Backhaus, Stephan Krause </dd></dl>

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00041">41</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac9209e027a6b6722ce4480ecaa9974b4"></a><!-- doxytag: member="Quon::~Quon" ref="ac9209e027a6b6722ce4480ecaa9974b4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Quon::~Quon </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l01142">1142</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="comment">// destroy self timer messages</span>
    cancelAndDelete(<a class="code" href="classQuon.html#a50bdccb83a076a567533790cef1a7c84">join_timer</a>);
    cancelAndDelete(<a class="code" href="classQuon.html#a90247744dc8738653a4830170ac600e4">sec_timer</a>);
    cancelAndDelete(<a class="code" href="classQuon.html#a77a68e7de92d342999c42495e23691c1">alive_timer</a>);
    cancelAndDelete(<a class="code" href="classQuon.html#a41c411546eafb1dd79c0640a3937090e">backup_timer</a>);
    <span class="keyword">delete</span> <a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>;
    QuonSiteMap::iterator itSites = <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.begin();
    <span class="keywordflow">while</span>(itSites != <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.end()) {
        <span class="keyword">delete</span> itSites-&gt;second;
        ++itSites;
    }
}
</pre></div></p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a2c4fc441250953f22bba4e4398901154"></a><!-- doxytag: member="Quon::adaptAoI" ref="a2c4fc441250953f22bba4e4398901154" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::adaptAoI </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l00483">483</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00671">handleMove()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="comment">// adjust AOIWidth</span>
    <span class="keywordtype">double</span> oldAOI = <a class="code" href="classQuon.html#aa08a19de1f063d2e75effc3cde6eeee1">AOIWidth</a>;
    <span class="keywordflow">if</span>( <a class="code" href="classQuon.html#a369f0916dfd5f306a4a31a9bac648be6">linearAdaption</a> ) {
        <a class="code" href="classQuon.html#aa08a19de1f063d2e75effc3cde6eeee1">AOIWidth</a> -= (<a class="code" href="classQuon.html#a4031fe13e201230e6822a0b6d312b9c0">maxAOI</a> - <a class="code" href="classQuon.html#a5321c54300684011b310874cb504cc3b">minAOI</a>) * ((<span class="keywordtype">double</span>) <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.size() - (double) <a class="code" href="classQuon.html#aed45985bf8ae12aa4a05e3c74f0a03ed">connectionLimit</a>) * <a class="code" href="classQuon.html#ae44950a7619cd0e9bcb65071f9871302">adaptionSensitivity</a> / (double) <a class="code" href="classQuon.html#aed45985bf8ae12aa4a05e3c74f0a03ed">connectionLimit</a>;
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.size() &gt; 0 ){
        <a class="code" href="classQuon.html#aa08a19de1f063d2e75effc3cde6eeee1">AOIWidth</a> *= (1-<a class="code" href="classQuon.html#ae44950a7619cd0e9bcb65071f9871302">adaptionSensitivity</a>) + (<span class="keywordtype">double</span>) <a class="code" href="classQuon.html#aed45985bf8ae12aa4a05e3c74f0a03ed">connectionLimit</a> * <a class="code" href="classQuon.html#ae44950a7619cd0e9bcb65071f9871302">adaptionSensitivity</a> / (double) <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.size();
    }
    <span class="keywordflow">if</span>( <a class="code" href="classQuon.html#acfff4768dab96f6a068f05385c806da9">gossipSensitivity</a> &gt; 0  &amp;&amp; <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.size() &gt; 0 ) {
        <span class="keywordtype">double</span> avgNeighborAOI = 0;
        <span class="keywordflow">for</span>( QuonSiteMap::iterator itSites = <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.begin(); itSites != <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.end(); ++itSites ){
            avgNeighborAOI += itSites-&gt;second-&gt;AOIwidth;
        }
        avgNeighborAOI /= <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.size();
        <a class="code" href="classQuon.html#aa08a19de1f063d2e75effc3cde6eeee1">AOIWidth</a> = <a class="code" href="classQuon.html#aa08a19de1f063d2e75effc3cde6eeee1">AOIWidth</a>*(1-<a class="code" href="classQuon.html#acfff4768dab96f6a068f05385c806da9">gossipSensitivity</a>) + avgNeighborAOI*<a class="code" href="classQuon.html#acfff4768dab96f6a068f05385c806da9">gossipSensitivity</a>;
    }
    <span class="keywordflow">if</span>(<a class="code" href="classQuon.html#aa08a19de1f063d2e75effc3cde6eeee1">AOIWidth</a> &gt; <a class="code" href="classQuon.html#a4031fe13e201230e6822a0b6d312b9c0">maxAOI</a>) {
        <a class="code" href="classQuon.html#aa08a19de1f063d2e75effc3cde6eeee1">AOIWidth</a> = <a class="code" href="classQuon.html#a4031fe13e201230e6822a0b6d312b9c0">maxAOI</a>;
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="classQuon.html#aa08a19de1f063d2e75effc3cde6eeee1">AOIWidth</a> &lt; <a class="code" href="classQuon.html#a5321c54300684011b310874cb504cc3b">minAOI</a>) {
        <a class="code" href="classQuon.html#aa08a19de1f063d2e75effc3cde6eeee1">AOIWidth</a> = <a class="code" href="classQuon.html#a5321c54300684011b310874cb504cc3b">minAOI</a>;
    }
    
    <span class="keywordflow">if</span>( oldAOI != <a class="code" href="classQuon.html#aa08a19de1f063d2e75effc3cde6eeee1">AOIWidth</a> ){
        <a class="code" href="classGameAPIResizeAOIMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">GameAPIResizeAOIMessage</a>* gameMsg = <span class="keyword">new</span> <a class="code" href="classGameAPIResizeAOIMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">GameAPIResizeAOIMessage</a>(<span class="stringliteral">&quot;RESIZE_AOI&quot;</span>);
        gameMsg-&gt;<a class="code" href="classGameAPIMessage.html#a3c12a88e720037a70248b0db6a46fc99">setCommand</a>(<a class="code" href="CommonMessages__m_8h.html#ac76e82bc37e4b2b364247c7cff8f7b6ba04223e5523bbf330b2553e5ba3e320d1">RESIZE_AOI</a>);
        gameMsg-&gt;<a class="code" href="classGameAPIResizeAOIMessage.html#a8fc4ba8f739fae9c8f24eae1482271c3">setAOIsize</a>(<a class="code" href="classQuon.html#aa08a19de1f063d2e75effc3cde6eeee1">AOIWidth</a>);
        <a class="code" href="classQuon.html#adfd1a6c88f3487ae4b57aadd4f0ac9e1">sendToApp</a>(gameMsg);
    }
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a75404768e34b6b3bab8fd3ff5e211322"></a><!-- doxytag: member="Quon::addSite" ref="a75404768e34b6b3bab8fd3ff5e211322" args="(Vector2D p, NodeHandle node, double AOI, bool isSoft=false, QUpdateType update=QFOREIGN)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Quon::addSite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVector2D.html">Vector2D</a>&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classNodeHandle.html">NodeHandle</a>&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>AOI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>isSoft</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="QuonDefs_8h.html#ae1c9bee235e07483b1ca6526d3625148">QUpdateType</a>&nbsp;</td>
          <td class="paramname"> <em>update</em> = <code>QFOREIGN</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l00300">300</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00793">handleJoinAcknowledge()</a>, <a class="el" href="Quon_8cc_source.html#l00891">handleNewNeighbors()</a>, <a class="el" href="Quon_8cc_source.html#l00906">handleNodeLeave()</a>, and <a class="el" href="Quon_8cc_source.html#l00823">handleNodeMove()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <a class="code" href="classQuon.html#a58914d072978b36b252a96a7df1fadae">aloneInOverlay</a> = <span class="keyword">false</span>;
    QuonSiteMap::iterator itSites = <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.find(node.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>());
    QDeleteMap::iterator delIt = <a class="code" href="classQuon.html#a8101efc814ad37db2f2c15c8863634ea">deletedSites</a>.find(node.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>());
    <span class="comment">// add node if he is not in the delete list OR has changed position since </span>
    <span class="comment">// put in the delete list. don&#39;t add node if he has signled his leave himself</span>
    <span class="comment">// (i.e. his position in the delete list is 0,0)</span>
    <span class="keywordflow">if</span>(node.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>() != <a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#aa317c162070862f2278a9d532d6d2215">address</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>() &amp;&amp; 
            (delIt == <a class="code" href="classQuon.html#a8101efc814ad37db2f2c15c8863634ea">deletedSites</a>.end() || (delIt-&gt;second != <a class="code" href="classVector2D.html">Vector2D</a>(0,0) &amp;&amp; delIt-&gt;second != p) )){
        <span class="keywordflow">if</span>(itSites == <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.end()) {
            <span class="keywordflow">if</span>(<a class="code" href="classBaseOverlay.html#a49ff0fb8c25792a1339d54a60c36f2cd" title="debug output ?">debugOutput</a>) {
                EV &lt;&lt; <span class="stringliteral">&quot;[Quon::addSite() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
                   &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
                   &lt;&lt; <span class="stringliteral">&quot;    Site &quot;</span> &lt;&lt; node.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>() &lt;&lt; <span class="stringliteral">&quot; at &quot;</span> &lt;&lt; p &lt;&lt; <span class="stringliteral">&quot; has been added to the list.&quot;</span>
                   &lt;&lt; endl;
            }
            <a class="code" href="classQuonSite.html">QuonSite</a>* temp = <span class="keyword">new</span> <a class="code" href="classQuonSite.html">QuonSite</a>();
            temp-&gt;<a class="code" href="classQuonSite.html#ab53cc9364d2f89e2c792f77383866c6c">position</a> = p;
            temp-&gt;<a class="code" href="classQuonSite.html#aa317c162070862f2278a9d532d6d2215">address</a> = node;
            <span class="keywordflow">if</span>(update == <a class="code" href="QuonDefs_8h.html#ae1c9bee235e07483b1ca6526d3625148a9eda35317bbb785d73e49dc5d9eaf7bc">QDIRECT</a>) {
                temp-&gt;<a class="code" href="classQuonSite.html#a5ec803b5181547c3e859fc2200e10f1b">dirty</a> = <span class="keyword">true</span>;
            }
            temp-&gt;<a class="code" href="classQuonSite.html#a8b29306a2543f303a7551d621cec34b0">alive</a> = <span class="keyword">true</span>;
            temp-&gt;<a class="code" href="classQuonSite.html#afa6fe24c5adadabe18529bb5736d321b">type</a> = QUNDEFINED;
            temp-&gt;<a class="code" href="classQuonSite.html#a30d03e7411aaec2499d2319934899772">softNeighbor</a> = isSoft;
            temp-&gt;<a class="code" href="classQuonSite.html#a0ae6ea9f18f72f1f493828186fecdee3">AOIwidth</a> = AOI;

            <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.insert(std::make_pair(temp-&gt;<a class="code" href="classQuonSite.html#aa317c162070862f2278a9d532d6d2215">address</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>(), temp));
        }
        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(update == <a class="code" href="QuonDefs_8h.html#ae1c9bee235e07483b1ca6526d3625148a9eda35317bbb785d73e49dc5d9eaf7bc">QDIRECT</a> || !itSites-&gt;second-&gt;alive) {
            <span class="keywordflow">if</span>(<a class="code" href="classBaseOverlay.html#a49ff0fb8c25792a1339d54a60c36f2cd" title="debug output ?">debugOutput</a>) {
                EV &lt;&lt; <span class="stringliteral">&quot;[Quon::addSite() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
                   &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
                   &lt;&lt; <span class="stringliteral">&quot;    Site &quot;</span> &lt;&lt; node.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>() &lt;&lt; <span class="stringliteral">&quot; at &quot;</span> &lt;&lt; p &lt;&lt; <span class="stringliteral">&quot; has been updated in the list.&quot;</span>
                   &lt;&lt; endl;
            }
            itSites-&gt;second-&gt;position = p;
            itSites-&gt;second-&gt;dirty = <span class="keyword">true</span>;
            itSites-&gt;second-&gt;alive = <span class="keyword">true</span>;
            itSites-&gt;second-&gt;softNeighbor = isSoft;
            itSites-&gt;second-&gt;type = QUNDEFINED;
            itSites-&gt;second-&gt;AOIwidth = AOI;
        }
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
    <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="aeaf445313feedba17bc0a724e86e7a22"></a><!-- doxytag: member="Quon::changeState" ref="aeaf445313feedba17bc0a724e86e7a22" args="(QState qstate)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::changeState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1">QState</a>&nbsp;</td>
          <td class="paramname"> <em>qstate</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l00115">115</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00360">classifySites()</a>, <a class="el" href="Quon_8cc_source.html#l01072">finishOverlay()</a>, <a class="el" href="Quon_8cc_source.html#l00651">handleJoin()</a>, <a class="el" href="Quon_8cc_source.html#l00793">handleJoinAcknowledge()</a>, <a class="el" href="Quon_8cc_source.html#l00515">handleNodeGracefulLeaveNotification()</a>, and <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    this-&gt;<a class="code" href="classQuon.html#a50b8cb447b1d179dd9977161ca5724fe">qstate</a> = <a class="code" href="classQuon.html#a50b8cb447b1d179dd9977161ca5724fe">qstate</a>;
    <span class="keywordflow">switch</span>(<a class="code" href="classQuon.html#a50b8cb447b1d179dd9977161ca5724fe">qstate</a>) {
        <span class="keywordflow">case</span> <a class="code" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1af0bde5b6e5ef90c75111f6b79fa4fe42">QUNINITIALIZED</a>:
            <a class="code" href="classBaseOverlay.html#a933e505ea77cae4ab0c8edcb77ade2c7" title="pointer to GlobalNodeList in this node">globalNodeList</a>-&gt;<a class="code" href="classGlobalNodeList.html#a95a2d64d3d19185ae4e2f24ec13ee5d4" title="Debootstraps peers in the peer set.">removePeer</a>(<a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#aa317c162070862f2278a9d532d6d2215">address</a>);
            cancelEvent(<a class="code" href="classQuon.html#a50bdccb83a076a567533790cef1a7c84">join_timer</a>);
            cancelEvent(<a class="code" href="classQuon.html#a90247744dc8738653a4830170ac600e4">sec_timer</a>);
            cancelEvent(<a class="code" href="classQuon.html#a77a68e7de92d342999c42495e23691c1">alive_timer</a>);
            cancelEvent(<a class="code" href="classQuon.html#a41c411546eafb1dd79c0640a3937090e">backup_timer</a>);
            <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <a class="code" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1a6159e3ad96e5cc7ce4cc87a9ac499213">QJOINING</a>:
            scheduleAt(simTime(), <a class="code" href="classQuon.html#a50bdccb83a076a567533790cef1a7c84">join_timer</a>);
            scheduleAt(simTime() + 1.0, <a class="code" href="classQuon.html#a90247744dc8738653a4830170ac600e4">sec_timer</a>);
            <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <a class="code" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1a22a0702a9f5ac0bad9f415323647cd18">QREADY</a>:
            cancelEvent(<a class="code" href="classQuon.html#a50bdccb83a076a567533790cef1a7c84">join_timer</a>);
            <a class="code" href="classBaseOverlay.html#a933e505ea77cae4ab0c8edcb77ade2c7" title="pointer to GlobalNodeList in this node">globalNodeList</a>-&gt;<a class="code" href="classGlobalNodeList.html#add76d38932795a481196e5504c5ee98e" title="Bootstraps peers in the peer set.">registerPeer</a>(<a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#aa317c162070862f2278a9d532d6d2215">address</a>);
            <span class="comment">// tell the application we are ready unless we are rejoining the overlay</span>
            <span class="comment">//if(rejoinCount == 0) {</span>
            <a class="code" href="classCompReadyMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">CompReadyMessage</a>* readyMsg = <span class="keyword">new</span> <a class="code" href="classCompReadyMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">CompReadyMessage</a>(<span class="stringliteral">&quot;OVERLAY_READY&quot;</span>);
            readyMsg-&gt;<a class="code" href="classCompReadyMessage.html#ac5158504d6b97a32974f14c9b1a7a662">setReady</a>(<span class="keyword">true</span>);
            readyMsg-&gt;<a class="code" href="classCompReadyMessage.html#ad9a52c5f788e0c11a75bbb5df3855ac0">setComp</a>(<a class="code" href="classBaseOverlay.html#a92e0d3f96a5716245465e05da60ef487">getThisCompType</a>());
            <span class="comment">// TODO/FIXME: use overlay-&gt;sendMessageToAllComp(msg, getThisCompType())?</span>
            <a class="code" href="classQuon.html#adfd1a6c88f3487ae4b57aadd4f0ac9e1">sendToApp</a>(readyMsg);
            <span class="comment">//}</span>
            <span class="comment">// set initial AOI size</span>
            <a class="code" href="classQuon.html#aa08a19de1f063d2e75effc3cde6eeee1">AOIWidth</a> = <a class="code" href="classQuon.html#a4031fe13e201230e6822a0b6d312b9c0">maxAOI</a>;
            <a class="code" href="classGameAPIResizeAOIMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">GameAPIResizeAOIMessage</a>* gameMsg = <span class="keyword">new</span> <a class="code" href="classGameAPIResizeAOIMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">GameAPIResizeAOIMessage</a>(<span class="stringliteral">&quot;RESIZE_AOI&quot;</span>);
            gameMsg-&gt;<a class="code" href="classGameAPIMessage.html#a3c12a88e720037a70248b0db6a46fc99">setCommand</a>(<a class="code" href="CommonMessages__m_8h.html#ac76e82bc37e4b2b364247c7cff8f7b6ba04223e5523bbf330b2553e5ba3e320d1">RESIZE_AOI</a>);
            gameMsg-&gt;<a class="code" href="classGameAPIResizeAOIMessage.html#a8fc4ba8f739fae9c8f24eae1482271c3">setAOIsize</a>(<a class="code" href="classQuon.html#aa08a19de1f063d2e75effc3cde6eeee1">AOIWidth</a>);
            <a class="code" href="classQuon.html#adfd1a6c88f3487ae4b57aadd4f0ac9e1">sendToApp</a>(gameMsg);
            <span class="keywordflow">if</span>(<a class="code" href="classQuon.html#a6657a1bdcf332a5a383a5e380cbc16c0">aliveTimeout</a> &gt; 0.0) {
                scheduleAt(simTime() + <a class="code" href="classQuon.html#a6657a1bdcf332a5a383a5e380cbc16c0">aliveTimeout</a>, <a class="code" href="classQuon.html#a77a68e7de92d342999c42495e23691c1">alive_timer</a>);
            }
            <span class="keywordflow">if</span>(<a class="code" href="classQuon.html#a45b886170e957fd9326a4c34abe4839b">backupIntervall</a> &gt; 0.0) {
                scheduleAt(simTime() + <a class="code" href="classQuon.html#a45b886170e957fd9326a4c34abe4839b">backupIntervall</a>, <a class="code" href="classQuon.html#a41c411546eafb1dd79c0640a3937090e">backup_timer</a>);
            }
            <span class="keywordflow">break</span>;
    }
    <a class="code" href="classQuon.html#a21e2a16a7d0c8eb408c6f936fecf9df4">setBootstrapedIcon</a>();
    <span class="comment">// debug output</span>
    <span class="keywordflow">if</span>(<a class="code" href="classBaseOverlay.html#a49ff0fb8c25792a1339d54a60c36f2cd" title="debug output ?">debugOutput</a>) {
        EV &lt;&lt; <span class="stringliteral">&quot;[Quon::changeState() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
           &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;    Node &quot;</span> &lt;&lt; <a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#aa317c162070862f2278a9d532d6d2215">address</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>() &lt;&lt; <span class="stringliteral">&quot; entered &quot;</span>;
        <span class="keywordflow">switch</span>(<a class="code" href="classQuon.html#a50b8cb447b1d179dd9977161ca5724fe">qstate</a>) {
            <span class="keywordflow">case</span> <a class="code" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1af0bde5b6e5ef90c75111f6b79fa4fe42">QUNINITIALIZED</a>:
                EV &lt;&lt; <span class="stringliteral">&quot;UNINITIALIZED&quot;</span>;
                <span class="keywordflow">break</span>;
            <span class="keywordflow">case</span> <a class="code" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1a6159e3ad96e5cc7ce4cc87a9ac499213">QJOINING</a>:
                EV &lt;&lt; <span class="stringliteral">&quot;JOINING&quot;</span>;
                <span class="keywordflow">break</span>;
            <span class="keywordflow">case</span> <a class="code" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1a22a0702a9f5ac0bad9f415323647cd18">QREADY</a>:
                EV &lt;&lt; <span class="stringliteral">&quot;READY&quot;</span>;
                <span class="keywordflow">break</span>;
        }
        EV &lt;&lt; <span class="stringliteral">&quot; state.&quot;</span> &lt;&lt; endl;
    }
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a12ba4a2250699c84c776014c9b856b9d"></a><!-- doxytag: member="Quon::classifySites" ref="a12ba4a2250699c84c776014c9b856b9d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::classifySites </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l00360">360</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00793">handleJoinAcknowledge()</a>, <a class="el" href="Quon_8cc_source.html#l00671">handleMove()</a>, <a class="el" href="Quon_8cc_source.html#l00891">handleNewNeighbors()</a>, <a class="el" href="Quon_8cc_source.html#l00906">handleNodeLeave()</a>, <a class="el" href="Quon_8cc_source.html#l00823">handleNodeMove()</a>, and <a class="el" href="Quon_8cc_source.html#l00598">processAliveTimer()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span>(<a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.size() &gt; 0) {
        <a class="code" href="classQuonAOI.html" title="QuonP Definitions.">QuonAOI</a> AOI(<a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#ab53cc9364d2f89e2c792f77383866c6c">position</a>, <a class="code" href="classQuon.html#aa08a19de1f063d2e75effc3cde6eeee1">AOIWidth</a>, <a class="code" href="classQuon.html#ad1c9991e5c1094281e552c88ea4f0612">useSquareMetric</a>);
        <a class="code" href="classQuonSite.html">QuonSite</a>* (*bindingCandidates)[4] = <span class="keyword">new</span> <a class="code" href="classQuonSite.html">QuonSite</a>*[<a class="code" href="classQuon.html#ac8eb2eb8fff5eb75bdd6448882d046b7">numBackups</a>+1][4];
        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt;= <a class="code" href="classQuon.html#ac8eb2eb8fff5eb75bdd6448882d046b7">numBackups</a>; ++i ){
            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> ii = 0; ii &lt; 4; ++ii ){
                bindingCandidates[i][ii] = 0;
            }
        }
        double (*bindingDistance)[4] = <span class="keyword">new</span> <span class="keywordtype">double</span>[<a class="code" href="classQuon.html#ac8eb2eb8fff5eb75bdd6448882d046b7">numBackups</a>+1][4];
        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt;= <a class="code" href="classQuon.html#ac8eb2eb8fff5eb75bdd6448882d046b7">numBackups</a>; ++i ){
            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> ii = 0; ii &lt; 4; ++ii ){
                bindingDistance[i][ii] = std::numeric_limits&lt;double&gt;::infinity();
            }
        }

        <span class="keywordflow">for</span>(QuonSiteMap::iterator itSites = <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.begin(); itSites != <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.end(); ++itSites) {
            <a class="code" href="classQuonAOI.html" title="QuonP Definitions.">QuonAOI</a> NeighborAOI(itSites-&gt;second-&gt;position, itSites-&gt;second-&gt;AOIwidth, <a class="code" href="classQuon.html#ad1c9991e5c1094281e552c88ea4f0612">useSquareMetric</a>);
            <span class="keywordflow">if</span>(AOI.collide(itSites-&gt;second-&gt;position) || NeighborAOI.collide(<a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#ab53cc9364d2f89e2c792f77383866c6c">position</a>)) {
                <span class="keywordflow">if</span>(itSites-&gt;second-&gt;type != <a class="code" href="QuonDefs_8h.html#a65910f3553787356a3dc0bcea3b0c663a9a4ea8f06501f7d26d66e134e0e1b015">QNEIGHBOR</a>) {
                    itSites-&gt;second-&gt;type = QNEIGHBOR;
                    itSites-&gt;second-&gt;dirty = <span class="keyword">true</span>;
                }
            }
            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(itSites-&gt;second-&gt;type != <a class="code" href="QuonDefs_8h.html#a65910f3553787356a3dc0bcea3b0c663a02657096ca1b200aae91c6f4c8f1fb5f">QUNDEFINED</a>) {
                itSites-&gt;second-&gt;type = QUNDEFINED;
                itSites-&gt;second-&gt;dirty = <span class="keyword">true</span>;
            }
            <span class="keywordtype">int</span> quad = <a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#ab53cc9364d2f89e2c792f77383866c6c">position</a>.<a class="code" href="classVector2D.html#a63be09d94b3845fbc280a296ee40e299" title="Determine the Quarant a point is contained in.">getQuadrant</a>( itSites-&gt;second-&gt;position );
            <span class="keywordtype">double</span> dist;
            <span class="keywordflow">if</span>( <a class="code" href="classQuon.html#ad1c9991e5c1094281e552c88ea4f0612">useSquareMetric</a> ) {
                dist = <a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#ab53cc9364d2f89e2c792f77383866c6c">position</a>.<a class="code" href="classVector2D.html#a32737dea996933d64be2968ae8f5574a">xyMaxDistance</a>(itSites-&gt;second-&gt;position);
            } <span class="keywordflow">else</span> {
                dist = <a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#ab53cc9364d2f89e2c792f77383866c6c">position</a>.<a class="code" href="classVector2D.html#ae01a1f04ce4ee6f09f3fbc72893412cb">distanceSqr</a>(itSites-&gt;second-&gt;position);
            }

            <span class="comment">// if dist is smaller than the most far binding candidate</span>
            <span class="keywordflow">if</span>( dist &lt; bindingDistance[<a class="code" href="classQuon.html#ac8eb2eb8fff5eb75bdd6448882d046b7">numBackups</a>][quad] ){
            <span class="comment">// Go through list of binding candidates until distance to current candidate</span>
            <span class="comment">// is greater than distance to new candidate (i.e. look where in the binding</span>
            <span class="comment">// candidate list the node belongs)</span>
                <span class="keywordtype">int</span> backupPos = <a class="code" href="classQuon.html#ac8eb2eb8fff5eb75bdd6448882d046b7">numBackups</a>-1;
                <span class="keywordflow">while</span>( backupPos &gt;= 0 &amp;&amp; dist &lt; bindingDistance[backupPos][quad] ){
                    <span class="comment">// move old candidate one position back in the queue to make</span>
                    <span class="comment">// room for new candidate</span>
                    bindingCandidates[backupPos+1][quad] = bindingCandidates[backupPos][quad];
                    bindingDistance[backupPos+1][quad] = bindingDistance[backupPos][quad];
                    --backupPos;
                }
                <span class="comment">// place new candidate at appropriate position in candidate list</span>
                bindingCandidates[backupPos+1][quad] = itSites-&gt;second;
                bindingDistance[backupPos+1][quad] = dist;
            }

        }
        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; 4; ++i ){
            <span class="keywordflow">if</span>( bindingCandidates[0][i] ){
                bindingCandidates[0][i]-&gt;<a class="code" href="classQuonSite.html#afa6fe24c5adadabe18529bb5736d321b">type</a> = QBINDING;
                bindingCandidates[0][i]-&gt;<a class="code" href="classQuonSite.html#a5ec803b5181547c3e859fc2200e10f1b">dirty</a> = <span class="keyword">true</span>;
                <span class="keywordflow">for</span>( <span class="keywordtype">int</span> ii = 1; ii &lt;= <a class="code" href="classQuon.html#ac8eb2eb8fff5eb75bdd6448882d046b7">numBackups</a>; ++ii ){
                    <span class="keywordflow">if</span>( bindingCandidates[ii][i] ){
                        <a class="code" href="classQuon.html#a560b63c7e1d4ad9c34bc4ac9f70311e9">bindingBackup</a>[ii-1][i] = bindingCandidates[ii][i]-&gt;<a class="code" href="classQuonSite.html#aa317c162070862f2278a9d532d6d2215">address</a>;
                    }
                }
            }
        }

        <span class="keyword">delete</span>[] bindingCandidates;
        <span class="keyword">delete</span>[] bindingDistance;
    }
    <span class="keywordflow">else</span> {
        <span class="keywordflow">if</span>( !<a class="code" href="classQuon.html#a58914d072978b36b252a96a7df1fadae">aloneInOverlay</a>) {
            ++<a class="code" href="classQuon.html#acbe0e10f8dc812606f89e799b21f0c5b">rejoinCount</a>;

            <a class="code" href="classQuon.html#aeaf445313feedba17bc0a724e86e7a22">changeState</a>(<a class="code" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1af0bde5b6e5ef90c75111f6b79fa4fe42">QUNINITIALIZED</a>);
            <a class="code" href="classQuon.html#aeaf445313feedba17bc0a724e86e7a22">changeState</a>(<a class="code" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1a6159e3ad96e5cc7ce4cc87a9ac499213">QJOINING</a>);
        }
    }
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1e7c49275495ea83e41988fe3748788c"></a><!-- doxytag: member="Quon::deleteAppNeighbor" ref="a1e7c49275495ea83e41988fe3748788c" args="(NodeHandle node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::deleteAppNeighbor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classNodeHandle.html">NodeHandle</a>&nbsp;</td>
          <td class="paramname"> <em>node</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l00993">993</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00906">handleNodeLeave()</a>, and <a class="el" href="Quon_8cc_source.html#l00598">processAliveTimer()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <a class="code" href="classGameAPIListMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">GameAPIListMessage</a>* gameMsg = <span class="keyword">new</span> <a class="code" href="classGameAPIListMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">GameAPIListMessage</a>(<span class="stringliteral">&quot;NEIGHBOR_UPDATE&quot;</span>);
    gameMsg-&gt;<a class="code" href="classGameAPIMessage.html#a3c12a88e720037a70248b0db6a46fc99">setCommand</a>(<a class="code" href="CommonMessages__m_8h.html#ac76e82bc37e4b2b364247c7cff8f7b6ba360dbdf5c7f61a4d26263e2a010057d7">NEIGHBOR_UPDATE</a>);
    gameMsg-&gt;<a class="code" href="classGameAPIListMessage.html#a6cc71a3065a72e5636753f4e0904ad38">setRemoveNeighborArraySize</a>(1);
    gameMsg-&gt;<a class="code" href="classGameAPIListMessage.html#a6bac1604abbdf9c0ec959343b7b64834">setAddNeighborArraySize</a>(0);
    gameMsg-&gt;<a class="code" href="classGameAPIListMessage.html#a81292ede7c0903f5982efcc7625024f1">setNeighborPositionArraySize</a>(0);
    gameMsg-&gt;<a class="code" href="classGameAPIListMessage.html#a1a1ada09672c98b3a21eff0a6021d42c">setRemoveNeighbor</a>(0, node);
    <a class="code" href="classQuon.html#adfd1a6c88f3487ae4b57aadd4f0ac9e1">sendToApp</a>(gameMsg);
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="acd349191dbc70d9e4e6801e16a6d3724"></a><!-- doxytag: member="Quon::deleteSite" ref="acd349191dbc70d9e4e6801e16a6d3724" args="(NodeHandle node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Quon::deleteSite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classNodeHandle.html">NodeHandle</a>&nbsp;</td>
          <td class="paramname"> <em>node</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l00441">441</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00906">handleNodeLeave()</a>, and <a class="el" href="Quon_8cc_source.html#l00598">processAliveTimer()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    QuonSiteMap::iterator itSites = <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.find(node.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>());
    <span class="keywordflow">if</span>(itSites != <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.end()) {
        <span class="keywordflow">if</span>(<a class="code" href="classBaseOverlay.html#a49ff0fb8c25792a1339d54a60c36f2cd" title="debug output ?">debugOutput</a>) {
            EV &lt;&lt; <span class="stringliteral">&quot;[Quon::deleteSite() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
               &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
               &lt;&lt; <span class="stringliteral">&quot;    Site &quot;</span> &lt;&lt; node.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>() &lt;&lt; <span class="stringliteral">&quot; at &quot;</span> &lt;&lt; itSites-&gt;second-&gt;position &lt;&lt; <span class="stringliteral">&quot; has been removed from the list.&quot;</span>
               &lt;&lt; endl;
        }
        <span class="keyword">delete</span> itSites-&gt;second;
        <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.erase(itSites);
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
    <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2e3fd357706467ba1238bdd8382f5be8"></a><!-- doxytag: member="Quon::finishOverlay" ref="a2e3fd357706467ba1238bdd8382f5be8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::finishOverlay </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>collects statistical data in derived class </p>

<p>Reimplemented from <a class="el" href="classBaseOverlay.html#a8db85b9c706d04007154761d5a0cec16">BaseOverlay</a>.</p>

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l01072">1072</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="keywordtype">double</span> overallBytesSend = <a class="code" href="classQuon.html#acd2d26c06a998552d4d57d7d54a9203c">joinRequestBytesSend</a>
                            + <a class="code" href="classQuon.html#a877edb5c60f4374580611db5e87f9b03">joinAcknowledgeBytesSend</a>
                            + <a class="code" href="classQuon.html#ac662039da04c611b551ca0b5b0989242">nodeMoveBytesSend</a>
                            + <a class="code" href="classQuon.html#a60b6442582b349621a5b916b5f63bfdb">newNeighborsBytesSend</a>
                            + <a class="code" href="classQuon.html#ac2d00865bf9e11a6f768434266fc6634">nodeLeaveBytesSend</a>;
    <span class="keywordflow">if</span>(overallBytesSend != 0.0) {
        <span class="comment">// collect statistics in percent</span>
        <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Quon: fraction of JOIN_REQUEST bytes sent &quot;</span>, <a class="code" href="classQuon.html#acd2d26c06a998552d4d57d7d54a9203c">joinRequestBytesSend</a> / overallBytesSend);
        <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Quon: fraction of JOIN_ACKNOWLEDGE bytes sent&quot;</span>, <a class="code" href="classQuon.html#a877edb5c60f4374580611db5e87f9b03">joinAcknowledgeBytesSend</a> / overallBytesSend);
        <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Quon: fraction of NODE_MOVE bytes sent&quot;</span>, <a class="code" href="classQuon.html#ac662039da04c611b551ca0b5b0989242">nodeMoveBytesSend</a> / overallBytesSend);
        <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Quon: fraction of NEW_NEIGHBORS bytes sent&quot;</span>, <a class="code" href="classQuon.html#a60b6442582b349621a5b916b5f63bfdb">newNeighborsBytesSend</a> / overallBytesSend);
        <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Quon: fraction of NODE_LEAVE bytes sent&quot;</span>, nodeLeaveBytesSend / overallBytesSend);
    }
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Quon: max bytes/second sent&quot;</span>, <a class="code" href="classQuon.html#a479502f99f21bf405210eb0c7c00a9b6">maxBytesPerSecondSend</a>);

<span class="comment">//    We use our own time count to avoid rounding errors</span>
<span class="comment">//    simtime_t time = globalStatistics-&gt;calcMeasuredLifetime(creationTime);</span>
<span class="comment">//    if(time != 0.0) {</span>
    <span class="keywordflow">if</span>(<a class="code" href="classQuon.html#acdba7ca61befddc0377f74b502f24a1c">secTimerCount</a> != 0) {
        <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Quon: average bytes/second sent&quot;</span>, <a class="code" href="classQuon.html#ab43ea338aa35a082c379716a3fcd02c1">averageBytesPerSecondSend</a> / (<span class="keywordtype">double</span>) <a class="code" href="classQuon.html#acdba7ca61befddc0377f74b502f24a1c">secTimerCount</a>);
        <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Quon: average direct-neighbor count&quot;</span>, <a class="code" href="classQuon.html#a98466c67a6d900869219e4c8acf1dd7c">directNeighborCount</a> / (<span class="keywordtype">double</span>) secTimerCount);
        <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Quon: average binding-neighbor count&quot;</span>, <a class="code" href="classQuon.html#ac8e1a28cfc559f56cfa51ee757a5b44d">bindingNeighborCount</a> / (<span class="keywordtype">double</span>) secTimerCount);
        <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Quon: average soft-neighbor count&quot;</span>, <a class="code" href="classQuon.html#a5450bc23ca2b380316b38903536cad1c">softNeighborCount</a> / (<span class="keywordtype">double</span>) secTimerCount);
        <span class="comment">//globalStatistics-&gt;addStdDev(&quot;Quon: average rejoin count&quot;, rejoinCount);</span>
        <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Quon: average AOI width&quot;</span>, <a class="code" href="classQuon.html#a2412db36457ab9bae180b8dd1c3cec47">avgAOI</a> / (<span class="keywordtype">double</span>) secTimerCount);
    }

    <a class="code" href="classQuon.html#aeaf445313feedba17bc0a724e86e7a22">changeState</a>(<a class="code" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1af0bde5b6e5ef90c75111f6b79fa4fe42">QUNINITIALIZED</a>);
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6140fcfc5f22d7a1b0a214e8d2035eeb"></a><!-- doxytag: member="Quon::getAOI" ref="a6140fcfc5f22d7a1b0a214e8d2035eeb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Quon::getAOI </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l01110">1110</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    Enter_Method_Silent();
    <span class="keywordflow">return</span> <a class="code" href="classQuon.html#aa08a19de1f063d2e75effc3cde6eeee1">AOIWidth</a> - (double)par(<span class="stringliteral">&quot;AOIBuffer&quot;</span>);
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="af3c814c9a87a9557e8190fdbd92c7aa9"></a><!-- doxytag: member="Quon::getAreaDimension" ref="af3c814c9a87a9557e8190fdbd92c7aa9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Quon::getAreaDimension </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l01122">1122</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    Enter_Method_Silent();
    <span class="keywordflow">return</span> <a class="code" href="classQuon.html#ac0c61c44ee942bcb8f71ffa069a681fc">areaDimension</a>;
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a68a2c09dba9d923a88c972acc8710956"></a><!-- doxytag: member="Quon::getKey" ref="a68a2c09dba9d923a88c972acc8710956" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOverlayKey.html">OverlayKey</a> Quon::getKey </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l01128">1128</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p>Referenced by <a class="el" href="ConnectivityProbeQuon_8cc_source.html#l00265">ConnectivityProbeQuon::extractTopology()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    Enter_Method_Silent();
    <span class="keywordflow">return</span> <a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#aa317c162070862f2278a9d532d6d2215">address</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>();
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2ee6ae30cf512cc9ebb2d76b603ffe61"></a><!-- doxytag: member="Quon::getPosition" ref="a2ee6ae30cf512cc9ebb2d76b603ffe61" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classVector2D.html">Vector2D</a> Quon::getPosition </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l01116">1116</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    Enter_Method_Silent();
    <span class="keywordflow">return</span> <a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#ab53cc9364d2f89e2c792f77383866c6c">position</a>;
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a08f13af619a1b819315742449471e677"></a><!-- doxytag: member="Quon::getSoftNeighborCount" ref="a08f13af619a1b819315742449471e677" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long Quon::getSoftNeighborCount </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l01134">1134</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    Enter_Method_Silent();
    <span class="keywordtype">long</span> temp = <a class="code" href="classQuon.html#ad842d00209159d0d47c0abe7aec573c2">softConnections</a>;
    <a class="code" href="classQuon.html#ad842d00209159d0d47c0abe7aec573c2">softConnections</a> = 0;
    <span class="keywordflow">return</span> temp;
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a68e3080e90a657d328c4234f3d75fac7"></a><!-- doxytag: member="Quon::getState" ref="a68e3080e90a657d328c4234f3d75fac7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1">QState</a> Quon::getState </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classBaseOverlay.html#adff10d8324516c75347fe67f11897435">BaseOverlay</a>.</p>

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l01104">1104</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p>Referenced by <a class="el" href="ConnectivityProbeQuon_8cc_source.html#l00265">ConnectivityProbeQuon::extractTopology()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    Enter_Method_Silent();
    <span class="keywordflow">return</span> <a class="code" href="classQuon.html#a50b8cb447b1d179dd9977161ca5724fe">qstate</a>;
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae1e1b8da4dc8347f67905eff7b01b458"></a><!-- doxytag: member="Quon::handleAppMessage" ref="ae1e1b8da4dc8347f67905eff7b01b458" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::handleAppMessage </td>
          <td>(</td>
          <td class="paramtype">cMessage *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Processes "timer" self-messages. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td>A self-message Processes non-commonAPI messages </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td>non-commonAPIMessage </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classBaseOverlay.html#aef92d042c22b47c123e59a831acb7033">BaseOverlay</a>.</p>

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l00214">214</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <a class="code" href="classGameAPIMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">GameAPIMessage</a>* gameAPIMsg = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classGameAPIMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">GameAPIMessage</a>*<span class="keyword">&gt;</span>(msg);
    <span class="keywordflow">if</span>(gameAPIMsg != NULL) {
        <span class="comment">// debug output</span>
        <span class="keywordflow">if</span>(<a class="code" href="classBaseOverlay.html#a49ff0fb8c25792a1339d54a60c36f2cd" title="debug output ?">debugOutput</a>) {
            EV &lt;&lt; <span class="stringliteral">&quot;[Quon::handleAppMessage() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
               &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
               &lt;&lt; <span class="stringliteral">&quot;    Node &quot;</span> &lt;&lt; <a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#aa317c162070862f2278a9d532d6d2215">address</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>() &lt;&lt; <span class="stringliteral">&quot; received &quot;</span> &lt;&lt; gameAPIMsg-&gt;getName() &lt;&lt; <span class="stringliteral">&quot; from application.&quot;</span>
               &lt;&lt; endl;
        }
        <span class="keywordflow">switch</span>(gameAPIMsg-&gt;<a class="code" href="classGameAPIMessage.html#a310b7731f5d78aa25d103594d88d0edd">getCommand</a>()) {
            <span class="keywordflow">case</span> <a class="code" href="CommonMessages__m_8h.html#ac76e82bc37e4b2b364247c7cff8f7b6ba7a7dbf862295be01b326c1d51e73d875">MOVEMENT_INDICATION</a>: {
                <a class="code" href="classGameAPIPositionMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">GameAPIPositionMessage</a>* gameAPIPositionMsg = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classGameAPIPositionMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">GameAPIPositionMessage</a>*<span class="keyword">&gt;</span>(msg);
                <span class="keywordflow">if</span>(<a class="code" href="classQuon.html#a50b8cb447b1d179dd9977161ca5724fe">qstate</a> == <a class="code" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1a6159e3ad96e5cc7ce4cc87a9ac499213">QJOINING</a>) {
                    <a class="code" href="classQuon.html#ae55f17acbfe8963c1016aa4b8b52e43f">handleJoin</a>(gameAPIPositionMsg);
                }
                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="classQuon.html#a50b8cb447b1d179dd9977161ca5724fe">qstate</a> == <a class="code" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1a22a0702a9f5ac0bad9f415323647cd18">QREADY</a>) {
                    <a class="code" href="classQuon.html#ac605f9c70749dc1ff7a4c45450ccfc60">handleMove</a>(gameAPIPositionMsg);
                }
            } <span class="keywordflow">break</span>;
            <span class="keywordflow">case</span> <a class="code" href="CommonMessages__m_8h.html#ac76e82bc37e4b2b364247c7cff8f7b6ba2d637d8d63fd5cc1921d781389e7482c">GAMEEVENT_CHAT</a>:
            <span class="keywordflow">case</span> <a class="code" href="CommonMessages__m_8h.html#ac76e82bc37e4b2b364247c7cff8f7b6ba94d7bea1985e12fde4c9b7ba389a59c7">GAMEEVENT_SNOW</a>:
            <span class="keywordflow">case</span> <a class="code" href="CommonMessages__m_8h.html#ac76e82bc37e4b2b364247c7cff8f7b6ba42bc017550219c838438200a3155c506">GAMEEVENT_FROZEN</a>: {
                <a class="code" href="classQuon.html#ac923ab87b84f63ac532cb148a90d3c30">handleEvent</a>(gameAPIMsg);
            } <span class="keywordflow">break</span>;
        }
    }
    <span class="keyword">delete</span> msg;
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac923ab87b84f63ac532cb148a90d3c30"></a><!-- doxytag: member="Quon::handleEvent" ref="ac923ab87b84f63ac532cb148a90d3c30" args="(GameAPIMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::handleEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classGameAPIMessage.html">GameAPIMessage</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l00736">736</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00214">handleAppMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="comment">// send event to neighbors</span>
    <span class="keywordflow">for</span>(QuonSiteMap::iterator itSites = <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.begin(); itSites != <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.end(); ++itSites) {
        <a class="code" href="classQuonEventMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonEventMessage</a> *quonMsg = <span class="keyword">new</span> <a class="code" href="classQuonEventMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonEventMessage</a>(<span class="stringliteral">&quot;EVENT&quot;</span>);
        quonMsg-&gt;<a class="code" href="classQuonMessage.html#a4f026a3ccf06de3e2aeb7489ad0d2a8a">setCommand</a>(<a class="code" href="Quon__m_8h.html#af6ba389f08ae3248fdcdcbcf600ea41fa41da4915ade740f2d44932bedc63b858">QUON_EVENT</a>);
        quonMsg-&gt;encapsulate((cPacket*)msg-&gt;<a class="code" href="classGameAPIMessage.html#a4efd0fa1b03d99fd4f063020d9250077">dup</a>());
        <span class="comment">// FIXME: Message length!</span>
        <a class="code" href="classQuon.html#a804dcb69b3560421c1c9ae17a5ada43e">sendMessage</a>(quonMsg, itSites-&gt;second-&gt;address);
    }
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="aacf333436374e811e7b2d74b5e9f7e9f"></a><!-- doxytag: member="Quon::handleInvalidNode" ref="aacf333436374e811e7b2d74b5e9f7e9f" args="(QuonListMessage *quonListMsg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::handleInvalidNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQuonListMessage.html">QuonListMessage</a> *&nbsp;</td>
          <td class="paramname"> <em>quonListMsg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l00930">930</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00891">handleNewNeighbors()</a>, <a class="el" href="Quon_8cc_source.html#l00906">handleNodeLeave()</a>, and <a class="el" href="Quon_8cc_source.html#l00823">handleNodeMove()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span>;
    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#aede022556c3ccd0fe1b36691ac25a3c8">getNeighborHandleArraySize</a>(); i++) {
        <span class="keywordflow">if</span>(<a class="code" href="classQuon.html#a8101efc814ad37db2f2c15c8863634ea">deletedSites</a>.find(quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#abc67afb0f579372dc26e5c1b482f188f">getNeighborHandle</a>(i).<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>()) != <a class="code" href="classQuon.html#a8101efc814ad37db2f2c15c8863634ea">deletedSites</a>.end()) {
            <a class="code" href="classQuonListMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonListMessage</a>* quonLeaveMsg = <span class="keyword">new</span> <a class="code" href="classQuonListMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonListMessage</a>(<span class="stringliteral">&quot;NODE_LEAVE&quot;</span>);
            quonLeaveMsg-&gt;<a class="code" href="classQuonMessage.html#a4f026a3ccf06de3e2aeb7489ad0d2a8a">setCommand</a>(<a class="code" href="Quon__m_8h.html#af6ba389f08ae3248fdcdcbcf600ea41fac2f6b0a84b96ac134911c0d532a4a91c">NODE_LEAVE</a>);
            quonLeaveMsg-&gt;<a class="code" href="classQuonMessage.html#a557098f081490610d5a5d33086a0a8dc">setSender</a>(quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#abc67afb0f579372dc26e5c1b482f188f">getNeighborHandle</a>(i));
            quonLeaveMsg-&gt;<a class="code" href="classQuonMessage.html#a2ebec6085680c1d0060b05773354f101">setPosition</a>(quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#aaaf7776b06eeff20e3fc768ca5d77e53">getNeighborPosition</a>(i));
            quonLeaveMsg-&gt;<a class="code" href="classQuonMessage.html#aa9d1f5666cd9489ba0f70f4e049b481d">setAOIsize</a>(<a class="code" href="classQuon.html#aa08a19de1f063d2e75effc3cde6eeee1">AOIWidth</a>);
            quonLeaveMsg-&gt;<a class="code" href="classQuonListMessage.html#ac15bd0c23408399a6416c0fb97a98424">setNeighborHandleArraySize</a>(<a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.size());
            quonLeaveMsg-&gt;<a class="code" href="classQuonListMessage.html#ae7545f2d6ee308d89c783d1d799495fd">setNeighborPositionArraySize</a>(<a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.size());
            <span class="keywordtype">int</span> i = 0;
            <span class="keywordflow">for</span>(QuonSiteMap::iterator itSites = <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.begin(); itSites != <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.end(); ++itSites) {
                <span class="keywordflow">if</span>(itSites-&gt;second-&gt;type == <a class="code" href="QuonDefs_8h.html#a65910f3553787356a3dc0bcea3b0c663ade742dc8734ee1f2b8944e338a7992fa">QBINDING</a>) {
                    quonLeaveMsg-&gt;<a class="code" href="classQuonListMessage.html#aca91d6fb871ee44ba0682624deec13db">setNeighborHandle</a>(i, itSites-&gt;second-&gt;address);
                    quonLeaveMsg-&gt;<a class="code" href="classQuonListMessage.html#a31f80f64c0c30ef8f3564542e40c1a5a">setNeighborPosition</a>(i, itSites-&gt;second-&gt;position);
                    ++i;
                }
            }
            quonLeaveMsg-&gt;<a class="code" href="classQuonListMessage.html#ac15bd0c23408399a6416c0fb97a98424">setNeighborHandleArraySize</a>(i);
            quonLeaveMsg-&gt;<a class="code" href="classQuonListMessage.html#ae7545f2d6ee308d89c783d1d799495fd">setNeighborPositionArraySize</a>(i);
            quonLeaveMsg-&gt;setBitLength(<a class="code" href="Quon__m_8h.html#acf84b923bf8e068d7e35df6078f252ba">QUONLIST_L</a>(quonLeaveMsg));
            <a class="code" href="classQuon.html#a804dcb69b3560421c1c9ae17a5ada43e">sendMessage</a>(quonLeaveMsg, quonListMsg-&gt;<a class="code" href="classQuonMessage.html#ab4d2d2ad254bb5816219b93df827aece">getSender</a>());
        }
    }
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae55f17acbfe8963c1016aa4b8b52e43f"></a><!-- doxytag: member="Quon::handleJoin" ref="ae55f17acbfe8963c1016aa4b8b52e43f" args="(GameAPIPositionMessage *gameMsg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::handleJoin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classGameAPIPositionMessage.html">GameAPIPositionMessage</a> *&nbsp;</td>
          <td class="paramname"> <em>gameMsg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l00651">651</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00214">handleAppMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <a class="code" href="classTransportAddress.html" title="This class implements a common transport address.">TransportAddress</a> joinNode = <a class="code" href="classBaseOverlay.html#abe4dea93564123116c97d5c4721f0504" title="pointer to the BootstrapList module">bootstrapList</a>-&gt;<a class="code" href="classBootstrapList.html#af6e1422372d548ba574e136c1a10ccaa" title="Get a bootstrap node from the bootstrap list.">getBootstrapNode</a>();
    <a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#ab53cc9364d2f89e2c792f77383866c6c">position</a> = gameMsg-&gt;<a class="code" href="classGameAPIPositionMessage.html#a62cb5e229193a2e0118e240de2494d53">getPosition</a>();
    <span class="comment">// check if this is the only node in the overlay</span>
    <span class="keywordflow">if</span>(joinNode.<a class="code" href="classTransportAddress.html#a026e777c423ff2a0280edd2fa5472e74" title="indicates if TransportAddress is specified">isUnspecified</a>()) {
        <a class="code" href="classQuon.html#aeaf445313feedba17bc0a724e86e7a22">changeState</a>(<a class="code" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1a22a0702a9f5ac0bad9f415323647cd18">QREADY</a>);
        <a class="code" href="classQuon.html#a58914d072978b36b252a96a7df1fadae">aloneInOverlay</a> = <span class="keyword">true</span>;
    }
    <span class="keywordflow">else</span> {
        <a class="code" href="classQuonMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonMessage</a>* quonMsg = <span class="keyword">new</span> <a class="code" href="classQuonMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonMessage</a>(<span class="stringliteral">&quot;JOIN_REQUEST&quot;</span>);
        quonMsg-&gt;<a class="code" href="classQuonMessage.html#a4f026a3ccf06de3e2aeb7489ad0d2a8a">setCommand</a>(<a class="code" href="GiaMessage__m_8h.html#ac712f468e66678ffb5df03be6d6a8157a71fec090ff88ece51771bbbf434064ec">JOIN_REQUEST</a>);
        quonMsg-&gt;<a class="code" href="classQuonMessage.html#a557098f081490610d5a5d33086a0a8dc">setSender</a>(<a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#aa317c162070862f2278a9d532d6d2215">address</a>);
        quonMsg-&gt;<a class="code" href="classQuonMessage.html#a2ebec6085680c1d0060b05773354f101">setPosition</a>(<a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#ab53cc9364d2f89e2c792f77383866c6c">position</a>);
        quonMsg-&gt;<a class="code" href="classQuonMessage.html#aa9d1f5666cd9489ba0f70f4e049b481d">setAOIsize</a>(<a class="code" href="classQuon.html#aa08a19de1f063d2e75effc3cde6eeee1">AOIWidth</a>);
        quonMsg-&gt;setBitLength(<a class="code" href="Quon__m_8h.html#a587b735bc9858abdd2351e73fd2081ed">QUON_L</a>(quonMsg));
        <a class="code" href="classQuon.html#a804dcb69b3560421c1c9ae17a5ada43e">sendMessage</a>(quonMsg, joinNode);
    }
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3e899c593816aa1d9b0b37bc710c87f2"></a><!-- doxytag: member="Quon::handleJoinAcknowledge" ref="a3e899c593816aa1d9b0b37bc710c87f2" args="(QuonListMessage *quonListMsg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::handleJoinAcknowledge </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQuonListMessage.html">QuonListMessage</a> *&nbsp;</td>
          <td class="paramname"> <em>quonListMsg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l00793">793</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00245">handleUDPMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="comment">// add acceptor node</span>
    <a class="code" href="classQuon.html#aeaf445313feedba17bc0a724e86e7a22">changeState</a>(<a class="code" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1a22a0702a9f5ac0bad9f415323647cd18">QREADY</a>);
    <a class="code" href="classQuon.html#a75404768e34b6b3bab8fd3ff5e211322">addSite</a>(quonListMsg-&gt;<a class="code" href="classQuonMessage.html#af41132dfec6ec4055a13e9bcb7293cdf">getPosition</a>(), quonListMsg-&gt;<a class="code" href="classQuonMessage.html#ab4d2d2ad254bb5816219b93df827aece">getSender</a>(), quonListMsg-&gt;<a class="code" href="classQuonMessage.html#a721236d0ec1f7d87635dc9009b566599">getAOIsize</a>(), <span class="keyword">false</span>, QDIRECT);
    <span class="comment">// add new neighbors</span>
    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#aede022556c3ccd0fe1b36691ac25a3c8">getNeighborHandleArraySize</a>(); i++) {
        <a class="code" href="classQuon.html#a75404768e34b6b3bab8fd3ff5e211322">addSite</a>(quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#aaaf7776b06eeff20e3fc768ca5d77e53">getNeighborPosition</a>(i), quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#abc67afb0f579372dc26e5c1b482f188f">getNeighborHandle</a>(i), quonListMsg-&gt;<a class="code" href="classQuonMessage.html#a721236d0ec1f7d87635dc9009b566599">getAOIsize</a>());
    }
    <a class="code" href="classQuon.html#a12ba4a2250699c84c776014c9b856b9d">classifySites</a>();
    <span class="comment">// update simple client</span>
    <a class="code" href="classQuon.html#a4d364e805fecf9a14eb60b1280bc7a17">synchronizeAppNeighbors</a>();
    <a class="code" href="classQuon.html#a3e94920f59c3f66959cfca7118f5706a">purgeSites</a>();
    <span class="comment">// contact new neighbors</span>
    <span class="keywordflow">for</span>(QuonSiteMap::iterator itSites = <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.begin(); itSites != <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.end(); ++itSites) {
        <a class="code" href="classQuonMoveMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonMoveMessage</a>* quonMoveMsg = <span class="keyword">new</span> <a class="code" href="classQuonMoveMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonMoveMessage</a>(<span class="stringliteral">&quot;NODE_MOVE&quot;</span>);
        quonMoveMsg-&gt;<a class="code" href="classQuonMessage.html#a4f026a3ccf06de3e2aeb7489ad0d2a8a">setCommand</a>(<a class="code" href="Quon__m_8h.html#af6ba389f08ae3248fdcdcbcf600ea41fad9745223990da14f545a02e12e727b63">NODE_MOVE</a>);
        quonMoveMsg-&gt;<a class="code" href="classQuonMessage.html#a557098f081490610d5a5d33086a0a8dc">setSender</a>(<a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#aa317c162070862f2278a9d532d6d2215">address</a>);
        quonMoveMsg-&gt;<a class="code" href="classQuonMessage.html#a2ebec6085680c1d0060b05773354f101">setPosition</a>(quonListMsg-&gt;<a class="code" href="classQuonMessage.html#af41132dfec6ec4055a13e9bcb7293cdf">getPosition</a>());
        quonMoveMsg-&gt;<a class="code" href="classQuonMessage.html#aa9d1f5666cd9489ba0f70f4e049b481d">setAOIsize</a>(<a class="code" href="classQuon.html#aa08a19de1f063d2e75effc3cde6eeee1">AOIWidth</a>);
        quonMoveMsg-&gt;<a class="code" href="classQuonMoveMessage.html#a4fd40a3fdd73b15dc94b37475e4ed509">setNewPosition</a>(<a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#ab53cc9364d2f89e2c792f77383866c6c">position</a>);
        <span class="keywordflow">if</span>(itSites-&gt;second-&gt;type == <a class="code" href="QuonDefs_8h.html#a65910f3553787356a3dc0bcea3b0c663ade742dc8734ee1f2b8944e338a7992fa">QBINDING</a>) {
            quonMoveMsg-&gt;<a class="code" href="classQuonMoveMessage.html#a3b089ea2756eef044a86529ad77713fa">setIsBinding</a>(<span class="keyword">true</span>);
        }
        quonMoveMsg-&gt;setBitLength(<a class="code" href="Quon__m_8h.html#a3da2a269dbae8ed952a6b0a237710162">QUONMOVE_L</a>(quonMoveMsg));
        <a class="code" href="classQuon.html#a804dcb69b3560421c1c9ae17a5ada43e">sendMessage</a>(quonMoveMsg, itSites-&gt;second-&gt;address);
    }
    <a class="code" href="classQuon.html#ac371d756bd985b8a8dd4227f48c2e9fa">bytesPerSecond</a> = 0.0;
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad08218dae9b27080131790ebaf6f4b54"></a><!-- doxytag: member="Quon::handleJoinRequest" ref="ad08218dae9b27080131790ebaf6f4b54" args="(QuonMessage *quonMsg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::handleJoinRequest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQuonMessage.html">QuonMessage</a> *&nbsp;</td>
          <td class="paramname"> <em>quonMsg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l00748">748</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00245">handleUDPMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <a class="code" href="classVector2D.html">Vector2D</a> joinPosition = quonMsg-&gt;<a class="code" href="classQuonMessage.html#af41132dfec6ec4055a13e9bcb7293cdf">getPosition</a>();
    <span class="comment">// start with this node</span>
    <span class="keywordtype">double</span> min_dist = <a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#ab53cc9364d2f89e2c792f77383866c6c">position</a>.<a class="code" href="classVector2D.html#ae01a1f04ce4ee6f09f3fbc72893412cb">distanceSqr</a>(joinPosition);
    <a class="code" href="classQuonSite.html">QuonSite</a>* forwardSite = <a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>;
    <span class="comment">// iterate through all neighbors</span>
    <span class="keywordflow">for</span>(QuonSiteMap::iterator itSites = <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.begin(); itSites != <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.end(); ++itSites) {
        <span class="keywordflow">if</span>(itSites-&gt;second-&gt;position.distanceSqr(joinPosition) &lt; min_dist) { <span class="comment">//FIXME: use xy metric if desired?</span>
            min_dist = itSites-&gt;second-&gt;<a class="code" href="classQuonSite.html#ab53cc9364d2f89e2c792f77383866c6c">position</a>.<a class="code" href="classVector2D.html#ae01a1f04ce4ee6f09f3fbc72893412cb">distanceSqr</a>(joinPosition);
            forwardSite = itSites-&gt;second;
        }
    }

    <span class="comment">// do nothing and let node retry with new position if current position is illegal</span>
    <span class="keywordflow">if</span>(min_dist == 0.0) {
        <span class="keyword">delete</span> quonMsg;
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(forwardSite-&gt;<a class="code" href="classQuonSite.html#afa6fe24c5adadabe18529bb5736d321b">type</a> == <a class="code" href="QuonDefs_8h.html#a65910f3553787356a3dc0bcea3b0c663a5f0c262d908147d33dd7235bd5cd5515">QTHIS</a>) {
        <a class="code" href="classQuonListMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonListMessage</a>* quonListMsg = <span class="keyword">new</span> <a class="code" href="classQuonListMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonListMessage</a>(<span class="stringliteral">&quot;JOIN_ACKNOWLEDGE&quot;</span>);
        quonListMsg-&gt;<a class="code" href="classQuonMessage.html#a4f026a3ccf06de3e2aeb7489ad0d2a8a">setCommand</a>(<a class="code" href="Quon__m_8h.html#af6ba389f08ae3248fdcdcbcf600ea41fad2045a15ed8b82d3db379cc54ba0b7d4">JOIN_ACKNOWLEDGE</a>);
        quonListMsg-&gt;<a class="code" href="classQuonMessage.html#a557098f081490610d5a5d33086a0a8dc">setSender</a>(<a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#aa317c162070862f2278a9d532d6d2215">address</a>);
        quonListMsg-&gt;<a class="code" href="classQuonMessage.html#a2ebec6085680c1d0060b05773354f101">setPosition</a>(<a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#ab53cc9364d2f89e2c792f77383866c6c">position</a>);
        quonListMsg-&gt;<a class="code" href="classQuonMessage.html#aa9d1f5666cd9489ba0f70f4e049b481d">setAOIsize</a>(<a class="code" href="classQuon.html#aa08a19de1f063d2e75effc3cde6eeee1">AOIWidth</a>);
        <span class="comment">// fill neighbors list</span>
        quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#ac15bd0c23408399a6416c0fb97a98424">setNeighborHandleArraySize</a>(<a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.size());
        quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#ae7545f2d6ee308d89c783d1d799495fd">setNeighborPositionArraySize</a>(<a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.size());
        <span class="keywordtype">int</span> i = 0;
        <span class="keywordflow">for</span>(QuonSiteMap::iterator itSites = <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.begin(); itSites != <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.end(); ++itSites) {
            quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#aca91d6fb871ee44ba0682624deec13db">setNeighborHandle</a>(i, itSites-&gt;second-&gt;address);
            quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#a31f80f64c0c30ef8f3564542e40c1a5a">setNeighborPosition</a>(i, itSites-&gt;second-&gt;position);
            ++i;
        }
        quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#ac15bd0c23408399a6416c0fb97a98424">setNeighborHandleArraySize</a>(i);
        quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#ae7545f2d6ee308d89c783d1d799495fd">setNeighborPositionArraySize</a>(i);

        quonListMsg-&gt;setBitLength(<a class="code" href="Quon__m_8h.html#acf84b923bf8e068d7e35df6078f252ba">QUONLIST_L</a>(quonListMsg));
        <a class="code" href="classQuon.html#a804dcb69b3560421c1c9ae17a5ada43e">sendMessage</a>(quonListMsg, quonMsg-&gt;<a class="code" href="classQuonMessage.html#ab4d2d2ad254bb5816219b93df827aece">getSender</a>());
        <span class="keyword">delete</span> quonMsg;
    }
    <span class="keywordflow">else</span> {
        <a class="code" href="classQuon.html#a804dcb69b3560421c1c9ae17a5ada43e">sendMessage</a>(quonMsg, forwardSite-&gt;<a class="code" href="classQuonSite.html#aa317c162070862f2278a9d532d6d2215">address</a>);
    }
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac605f9c70749dc1ff7a4c45450ccfc60"></a><!-- doxytag: member="Quon::handleMove" ref="ac605f9c70749dc1ff7a4c45450ccfc60" args="(GameAPIPositionMessage *gameMsg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::handleMove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classGameAPIPositionMessage.html">GameAPIPositionMessage</a> *&nbsp;</td>
          <td class="paramname"> <em>gameMsg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l00671">671</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00214">handleAppMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="comment">// adapt aoi</span>
    <span class="keywordflow">if</span>(<a class="code" href="classQuon.html#a82f95ed825de6241bcf407bcb6732686">useDynamicAOI</a>) {
        <a class="code" href="classQuon.html#a2c4fc441250953f22bba4e4398901154">adaptAoI</a>();
        <a class="code" href="classQuon.html#a12ba4a2250699c84c776014c9b856b9d">classifySites</a>();
    }

    <a class="code" href="classVector2D.html">Vector2D</a> position = gameMsg-&gt;<a class="code" href="classGameAPIPositionMessage.html#a62cb5e229193a2e0118e240de2494d53">getPosition</a>();
    <span class="comment">// send position update to neighbors</span>
    <a class="code" href="classQuonMoveMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonMoveMessage</a>* quonMoveMsg = <span class="keyword">new</span> <a class="code" href="classQuonMoveMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonMoveMessage</a>(<span class="stringliteral">&quot;NODE_MOVE&quot;</span>);
    quonMoveMsg-&gt;<a class="code" href="classQuonMessage.html#a4f026a3ccf06de3e2aeb7489ad0d2a8a">setCommand</a>(<a class="code" href="Quon__m_8h.html#af6ba389f08ae3248fdcdcbcf600ea41fad9745223990da14f545a02e12e727b63">NODE_MOVE</a>);
    quonMoveMsg-&gt;<a class="code" href="classQuonMessage.html#a557098f081490610d5a5d33086a0a8dc">setSender</a>(<a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#aa317c162070862f2278a9d532d6d2215">address</a>);
    quonMoveMsg-&gt;<a class="code" href="classQuonMessage.html#a2ebec6085680c1d0060b05773354f101">setPosition</a>(<a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#ab53cc9364d2f89e2c792f77383866c6c">position</a>);
    quonMoveMsg-&gt;<a class="code" href="classQuonMessage.html#aa9d1f5666cd9489ba0f70f4e049b481d">setAOIsize</a>(<a class="code" href="classQuon.html#aa08a19de1f063d2e75effc3cde6eeee1">AOIWidth</a>);
    quonMoveMsg-&gt;<a class="code" href="classQuonMoveMessage.html#a4fd40a3fdd73b15dc94b37475e4ed509">setNewPosition</a>(position);
    quonMoveMsg-&gt;setBitLength(<a class="code" href="Quon__m_8h.html#a3da2a269dbae8ed952a6b0a237710162">QUONMOVE_L</a>(quonMoveMsg));

    <a class="code" href="classQuonMoveMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonMoveMessage</a>* quonMoveBindingMsg = <span class="keyword">new</span> <a class="code" href="classQuonMoveMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonMoveMessage</a>(*quonMoveMsg);
    quonMoveBindingMsg-&gt;<a class="code" href="classQuonListMessage.html#ac15bd0c23408399a6416c0fb97a98424">setNeighborHandleArraySize</a>(<a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.size());
    quonMoveBindingMsg-&gt;<a class="code" href="classQuonListMessage.html#ae7545f2d6ee308d89c783d1d799495fd">setNeighborPositionArraySize</a>(<a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.size());
    <span class="keywordtype">int</span> i = 0;
    <span class="keywordflow">for</span>(QuonSiteMap::iterator itSites = <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.begin(); itSites != <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.end(); ++itSites) {
      <span class="keywordflow">if</span>(itSites-&gt;second-&gt;type == <a class="code" href="QuonDefs_8h.html#a65910f3553787356a3dc0bcea3b0c663ade742dc8734ee1f2b8944e338a7992fa">QBINDING</a> || itSites-&gt;second-&gt;softNeighbor ) {
        quonMoveBindingMsg-&gt;<a class="code" href="classQuonListMessage.html#aca91d6fb871ee44ba0682624deec13db">setNeighborHandle</a>(i, itSites-&gt;second-&gt;address);
        quonMoveBindingMsg-&gt;<a class="code" href="classQuonListMessage.html#a31f80f64c0c30ef8f3564542e40c1a5a">setNeighborPosition</a>(i, itSites-&gt;second-&gt;position);
        ++i;
      }
    }
    quonMoveBindingMsg-&gt;<a class="code" href="classQuonListMessage.html#ac15bd0c23408399a6416c0fb97a98424">setNeighborHandleArraySize</a>(i);
    quonMoveBindingMsg-&gt;<a class="code" href="classQuonListMessage.html#ae7545f2d6ee308d89c783d1d799495fd">setNeighborPositionArraySize</a>(i);
    <span class="keywordflow">if</span>(i &gt; 0) {
      <span class="comment">// speedhack:</span>
      <span class="comment">// instead of building individual MoveMessages for every binding and softstate neighbor,</span>
      <span class="comment">// we just send all binding/soft to every other binding/soft neighbor and pretend we did not send  neighbors their own neighborslistentry</span>
      quonMoveBindingMsg-&gt;setBitLength(<a class="code" href="Quon__m_8h.html#a3da2a269dbae8ed952a6b0a237710162">QUONMOVE_L</a>(quonMoveBindingMsg) - <a class="code" href="Quon__m_8h.html#a5fd7ebee6c8022277e3eb99e51c233e3">QUONENTRY_L</a>);
    }

    <span class="keywordflow">for</span>(QuonSiteMap::iterator itSites = <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.begin(); itSites != <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.end(); ++itSites) {
      <a class="code" href="classQuonMoveMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonMoveMessage</a>* copyMsg;
      <span class="keywordflow">if</span>(itSites-&gt;second-&gt;type == <a class="code" href="QuonDefs_8h.html#a65910f3553787356a3dc0bcea3b0c663ade742dc8734ee1f2b8944e338a7992fa">QBINDING</a> || itSites-&gt;second-&gt;softNeighbor ) {
        copyMsg = <span class="keyword">new</span> <a class="code" href="classQuonMoveMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonMoveMessage</a>(*quonMoveBindingMsg);
        <span class="keywordflow">if</span>(itSites-&gt;second-&gt;type == <a class="code" href="QuonDefs_8h.html#a65910f3553787356a3dc0bcea3b0c663ade742dc8734ee1f2b8944e338a7992fa">QBINDING</a>) {
          copyMsg-&gt;<a class="code" href="classQuonMoveMessage.html#a3b089ea2756eef044a86529ad77713fa">setIsBinding</a>(<span class="keyword">true</span>);
        }
        <span class="keywordflow">else</span> {
          ++<a class="code" href="classQuon.html#ad842d00209159d0d47c0abe7aec573c2">softConnections</a>;
        }
      }
      <span class="keywordflow">else</span> {
        copyMsg = <span class="keyword">new</span> <a class="code" href="classQuonMoveMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonMoveMessage</a>(*quonMoveMsg);
      }
      <a class="code" href="classQuon.html#a804dcb69b3560421c1c9ae17a5ada43e">sendMessage</a>(copyMsg, itSites-&gt;second-&gt;address);
    }
    <span class="keyword">delete</span> quonMoveMsg;
    <span class="keyword">delete</span> quonMoveBindingMsg;

    <span class="comment">// update position</span>
    <a class="code" href="classQuon.html#aff5a4bfcea27a7ebfa42f38c3497a744">updateThisSite</a>(position);
    <a class="code" href="classQuon.html#a12ba4a2250699c84c776014c9b856b9d">classifySites</a>();
    <span class="comment">// update simple client</span>
    <a class="code" href="classQuon.html#a4d364e805fecf9a14eb60b1280bc7a17">synchronizeAppNeighbors</a>(<a class="code" href="QuonDefs_8h.html#adc5a48b199e542d36b27075cdb579b26a01f818ce2945704d0a5df32f2301885c">QPURGESOFT</a>);
    <a class="code" href="classQuon.html#a3e94920f59c3f66959cfca7118f5706a">purgeSites</a>(<a class="code" href="QuonDefs_8h.html#adc5a48b199e542d36b27075cdb579b26a01f818ce2945704d0a5df32f2301885c">QPURGESOFT</a>);
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a74d83ab66d75e28a11a0356510a6eccb"></a><!-- doxytag: member="Quon::handleNewNeighbors" ref="a74d83ab66d75e28a11a0356510a6eccb" args="(QuonListMessage *quonListMsg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::handleNewNeighbors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQuonListMessage.html">QuonListMessage</a> *&nbsp;</td>
          <td class="paramname"> <em>quonListMsg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l00891">891</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00245">handleUDPMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <a class="code" href="classQuon.html#a75404768e34b6b3bab8fd3ff5e211322">addSite</a>(quonListMsg-&gt;<a class="code" href="classQuonMessage.html#af41132dfec6ec4055a13e9bcb7293cdf">getPosition</a>(), quonListMsg-&gt;<a class="code" href="classQuonMessage.html#ab4d2d2ad254bb5816219b93df827aece">getSender</a>(), quonListMsg-&gt;<a class="code" href="classQuonMessage.html#a721236d0ec1f7d87635dc9009b566599">getAOIsize</a>(), <span class="keyword">false</span>, QDIRECT);

    <span class="comment">// add new neighbors</span>
    <a class="code" href="classQuon.html#aacf333436374e811e7b2d74b5e9f7e9f">handleInvalidNode</a>(quonListMsg);
    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#aede022556c3ccd0fe1b36691ac25a3c8">getNeighborHandleArraySize</a>(); i++) {
        <a class="code" href="classQuon.html#a75404768e34b6b3bab8fd3ff5e211322">addSite</a>(quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#aaaf7776b06eeff20e3fc768ca5d77e53">getNeighborPosition</a>(i), quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#abc67afb0f579372dc26e5c1b482f188f">getNeighborHandle</a>(i), quonListMsg-&gt;<a class="code" href="classQuonMessage.html#a721236d0ec1f7d87635dc9009b566599">getAOIsize</a>());
    }
    <a class="code" href="classQuon.html#a12ba4a2250699c84c776014c9b856b9d">classifySites</a>();
    <span class="comment">// update simple client</span>
    <a class="code" href="classQuon.html#a4d364e805fecf9a14eb60b1280bc7a17">synchronizeAppNeighbors</a>();
    <a class="code" href="classQuon.html#a3e94920f59c3f66959cfca7118f5706a">purgeSites</a>();
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a54937c5eea5f1a673ddce36e3f34c9ba"></a><!-- doxytag: member="Quon::handleNodeGracefulLeaveNotification" ref="a54937c5eea5f1a673ddce36e3f34c9ba" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::handleNodeGracefulLeaveNotification </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This method gets call **.gracefulLeaveDelay seconds before it is killed if this node is among the gracefulLeaveProbability nodes. </p>

<p>Reimplemented from <a class="el" href="classBaseOverlay.html#aa2d70984acd164839ca92694a02e7a91">BaseOverlay</a>.</p>

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l00515">515</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span>(<a class="code" href="classQuon.html#a50b8cb447b1d179dd9977161ca5724fe">qstate</a> == <a class="code" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1a22a0702a9f5ac0bad9f415323647cd18">QREADY</a>) {
        <a class="code" href="classCompReadyMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">CompReadyMessage</a>* readyMsg = <span class="keyword">new</span> <a class="code" href="classCompReadyMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">CompReadyMessage</a>(<span class="stringliteral">&quot;OVERLAY_FINISHED&quot;</span>);
        readyMsg-&gt;<a class="code" href="classCompReadyMessage.html#ac5158504d6b97a32974f14c9b1a7a662">setReady</a>(<span class="keyword">false</span>);
        readyMsg-&gt;<a class="code" href="classCompReadyMessage.html#ad9a52c5f788e0c11a75bbb5df3855ac0">setComp</a>(<a class="code" href="classBaseOverlay.html#a92e0d3f96a5716245465e05da60ef487">getThisCompType</a>());
        <span class="comment">// TODO/FIXME: use overlay-&gt;sendMessageToAllComp(msg, getThisCompType())?</span>
        <a class="code" href="classQuon.html#adfd1a6c88f3487ae4b57aadd4f0ac9e1">sendToApp</a>(readyMsg);
        <span class="keywordflow">if</span>(<a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.size() &gt; 0) {
            <span class="comment">// generate node leave messages</span>
            <a class="code" href="classQuonListMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonListMessage</a>* quonListMsg = <span class="keyword">new</span> <a class="code" href="classQuonListMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonListMessage</a>(<span class="stringliteral">&quot;NODE_LEAVE&quot;</span>);
            quonListMsg-&gt;<a class="code" href="classQuonMessage.html#a4f026a3ccf06de3e2aeb7489ad0d2a8a">setCommand</a>(<a class="code" href="Quon__m_8h.html#af6ba389f08ae3248fdcdcbcf600ea41fac2f6b0a84b96ac134911c0d532a4a91c">NODE_LEAVE</a>);
            quonListMsg-&gt;<a class="code" href="classQuonMessage.html#a557098f081490610d5a5d33086a0a8dc">setSender</a>(<a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#aa317c162070862f2278a9d532d6d2215">address</a>);
            quonListMsg-&gt;<a class="code" href="classQuonMessage.html#a2ebec6085680c1d0060b05773354f101">setPosition</a>(<a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#ab53cc9364d2f89e2c792f77383866c6c">position</a>);
            quonListMsg-&gt;<a class="code" href="classQuonMessage.html#aa9d1f5666cd9489ba0f70f4e049b481d">setAOIsize</a>(<a class="code" href="classQuon.html#aa08a19de1f063d2e75effc3cde6eeee1">AOIWidth</a>);
            <span class="comment">// fill neighbors list</span>
            quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#ac15bd0c23408399a6416c0fb97a98424">setNeighborHandleArraySize</a>(<a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.size());
            quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#ae7545f2d6ee308d89c783d1d799495fd">setNeighborPositionArraySize</a>(<a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.size());
            <span class="keywordtype">int</span> i = 0;
            <span class="keywordflow">for</span>(QuonSiteMap::iterator itSites = <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.begin(); itSites != <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.end(); ++itSites) {
                quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#aca91d6fb871ee44ba0682624deec13db">setNeighborHandle</a>(i, itSites-&gt;second-&gt;address);
                quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#a31f80f64c0c30ef8f3564542e40c1a5a">setNeighborPosition</a>(i, itSites-&gt;second-&gt;position);
                ++i;
            }
            quonListMsg-&gt;setBitLength(<a class="code" href="Quon__m_8h.html#acf84b923bf8e068d7e35df6078f252ba">QUONLIST_L</a>(quonListMsg));

            <span class="keywordflow">for</span>(QuonSiteMap::iterator itSites = <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.begin(); itSites != <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.end(); ++itSites) {
                <a class="code" href="classQuonListMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonListMessage</a>* quonCopyMsg = <span class="keyword">new</span> <a class="code" href="classQuonListMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonListMessage</a>(*quonListMsg);
                <a class="code" href="classQuon.html#a804dcb69b3560421c1c9ae17a5ada43e">sendMessage</a>(quonCopyMsg, itSites-&gt;second-&gt;address);
            }
            <span class="keyword">delete</span> quonListMsg;
        }
        <a class="code" href="classQuon.html#aeaf445313feedba17bc0a724e86e7a22">changeState</a>(<a class="code" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1af0bde5b6e5ef90c75111f6b79fa4fe42">QUNINITIALIZED</a>);
    }
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae4a338b42bb5ff3afdb34c2c8548c1a7"></a><!-- doxytag: member="Quon::handleNodeLeave" ref="ae4a338b42bb5ff3afdb34c2c8548c1a7" args="(QuonListMessage *quonListMsg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::handleNodeLeave </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQuonListMessage.html">QuonListMessage</a> *&nbsp;</td>
          <td class="paramname"> <em>quonListMsg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l00906">906</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00245">handleUDPMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <a class="code" href="classQuon.html#acd349191dbc70d9e4e6801e16a6d3724">deleteSite</a>(quonListMsg-&gt;<a class="code" href="classQuonMessage.html#ab4d2d2ad254bb5816219b93df827aece">getSender</a>());
    <span class="comment">// update simple client</span>
    <a class="code" href="classQuon.html#a1e7c49275495ea83e41988fe3748788c">deleteAppNeighbor</a>(quonListMsg-&gt;<a class="code" href="classQuonMessage.html#ab4d2d2ad254bb5816219b93df827aece">getSender</a>());

    <span class="comment">// insert into delete list</span>
    <a class="code" href="classQuonSelfMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonSelfMessage</a>* msg = <span class="keyword">new</span> <a class="code" href="classQuonSelfMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonSelfMessage</a>(<span class="stringliteral">&quot;delete_timer&quot;</span>);
    msg-&gt;setKey(quonListMsg-&gt;<a class="code" href="classQuonMessage.html#ab4d2d2ad254bb5816219b93df827aece">getSender</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>());
    scheduleAt(simTime() + <a class="code" href="classQuon.html#a29afd14267371b2fdccb31e8d5bcebee">deleteTimeout</a>, msg);
    <a class="code" href="classQuon.html#a8101efc814ad37db2f2c15c8863634ea">deletedSites</a>.insert(std::make_pair(quonListMsg-&gt;<a class="code" href="classQuonMessage.html#ab4d2d2ad254bb5816219b93df827aece">getSender</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>(), <a class="code" href="classVector2D.html">Vector2D</a>(0,0)));

    <span class="comment">// add possible new neighbors</span>
    <a class="code" href="classQuon.html#aacf333436374e811e7b2d74b5e9f7e9f">handleInvalidNode</a>(quonListMsg);
    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#aede022556c3ccd0fe1b36691ac25a3c8">getNeighborHandleArraySize</a>(); i++) {
        <a class="code" href="classQuon.html#a75404768e34b6b3bab8fd3ff5e211322">addSite</a>(quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#aaaf7776b06eeff20e3fc768ca5d77e53">getNeighborPosition</a>(i), quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#abc67afb0f579372dc26e5c1b482f188f">getNeighborHandle</a>(i), quonListMsg-&gt;<a class="code" href="classQuonMessage.html#a721236d0ec1f7d87635dc9009b566599">getAOIsize</a>(), <span class="keyword">true</span>);
    }
    <a class="code" href="classQuon.html#a12ba4a2250699c84c776014c9b856b9d">classifySites</a>();
    <span class="comment">// update simple client</span>
    <a class="code" href="classQuon.html#a4d364e805fecf9a14eb60b1280bc7a17">synchronizeAppNeighbors</a>();
    <a class="code" href="classQuon.html#a3e94920f59c3f66959cfca7118f5706a">purgeSites</a>();
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="adee71dee47991a9f5fffafc9b75b037a"></a><!-- doxytag: member="Quon::handleNodeMove" ref="adee71dee47991a9f5fffafc9b75b037a" args="(QuonMoveMessage *quonMoveMsg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::handleNodeMove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQuonMoveMessage.html">QuonMoveMessage</a> *&nbsp;</td>
          <td class="paramname"> <em>quonMoveMsg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l00823">823</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00245">handleUDPMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(
            <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(
                <span class="stringliteral">&quot;QuON: MoveDelay&quot;</span>,
                SIMTIME_DBL(simTime()) - SIMTIME_DBL(quonMoveMsg-&gt;getCreationTime())
                );
            );

    <span class="comment">// IF node was marked for deletetion, remove it from the delete list</span>
    QDeleteMap::iterator delIt = <a class="code" href="classQuon.html#a8101efc814ad37db2f2c15c8863634ea">deletedSites</a>.find(quonMoveMsg-&gt;<a class="code" href="classQuonMessage.html#ab4d2d2ad254bb5816219b93df827aece">getSender</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>());
    <span class="keywordflow">if</span>( delIt != <a class="code" href="classQuon.html#a8101efc814ad37db2f2c15c8863634ea">deletedSites</a>.end() ){
        <a class="code" href="classQuon.html#a8101efc814ad37db2f2c15c8863634ea">deletedSites</a>.erase( delIt );
    }

    <span class="comment">// Compute old and new AOI of moving node</span>
    <a class="code" href="classQuonAOI.html" title="QuonP Definitions.">QuonAOI</a> oldAOI(quonMoveMsg-&gt;<a class="code" href="classQuonMessage.html#af41132dfec6ec4055a13e9bcb7293cdf">getPosition</a>(), quonMoveMsg-&gt;<a class="code" href="classQuonMessage.html#a721236d0ec1f7d87635dc9009b566599">getAOIsize</a>(), <a class="code" href="classQuon.html#ad1c9991e5c1094281e552c88ea4f0612">useSquareMetric</a>);
    <a class="code" href="classQuonAOI.html" title="QuonP Definitions.">QuonAOI</a> newAOI(quonMoveMsg-&gt;<a class="code" href="classQuonMoveMessage.html#af2e7107f8b4dc5cfb757358acd206279">getNewPosition</a>(), quonMoveMsg-&gt;<a class="code" href="classQuonMessage.html#a721236d0ec1f7d87635dc9009b566599">getAOIsize</a>(), <a class="code" href="classQuon.html#ad1c9991e5c1094281e552c88ea4f0612">useSquareMetric</a>);
    <span class="keywordflow">if</span>(<a class="code" href="classQuon.html#a82f95ed825de6241bcf407bcb6732686">useDynamicAOI</a>) {
        QuonSiteMap::iterator itSites = <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.find(quonMoveMsg-&gt;<a class="code" href="classQuonMessage.html#ab4d2d2ad254bb5816219b93df827aece">getSender</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>());
        <span class="keywordflow">if</span>(itSites != <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.end() &amp;&amp; itSites-&gt;second-&gt;AOIwidth &lt; quonMoveMsg-&gt;<a class="code" href="classQuonMessage.html#a721236d0ec1f7d87635dc9009b566599">getAOIsize</a>()) {
            oldAOI.resize(itSites-&gt;second-&gt;AOIwidth);
        }
    }

    <a class="code" href="classQuon.html#a75404768e34b6b3bab8fd3ff5e211322">addSite</a>(quonMoveMsg-&gt;<a class="code" href="classQuonMoveMessage.html#af2e7107f8b4dc5cfb757358acd206279">getNewPosition</a>(), quonMoveMsg-&gt;<a class="code" href="classQuonMessage.html#ab4d2d2ad254bb5816219b93df827aece">getSender</a>(), quonMoveMsg-&gt;<a class="code" href="classQuonMessage.html#a721236d0ec1f7d87635dc9009b566599">getAOIsize</a>(), quonMoveMsg-&gt;<a class="code" href="classQuonMoveMessage.html#a044fc1a90a3ca7a9575fb9ef8b03bfec">getIsBinding</a>(), QDIRECT);
    <span class="comment">// add new neighbors</span>
    <a class="code" href="classQuon.html#aacf333436374e811e7b2d74b5e9f7e9f">handleInvalidNode</a>(quonMoveMsg);
    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;quonMoveMsg-&gt;<a class="code" href="classQuonListMessage.html#aede022556c3ccd0fe1b36691ac25a3c8">getNeighborHandleArraySize</a>(); i++) {
        <a class="code" href="classQuon.html#a75404768e34b6b3bab8fd3ff5e211322">addSite</a>(quonMoveMsg-&gt;<a class="code" href="classQuonListMessage.html#aaaf7776b06eeff20e3fc768ca5d77e53">getNeighborPosition</a>(i), quonMoveMsg-&gt;<a class="code" href="classQuonListMessage.html#abc67afb0f579372dc26e5c1b482f188f">getNeighborHandle</a>(i), quonMoveMsg-&gt;<a class="code" href="classQuonMessage.html#a721236d0ec1f7d87635dc9009b566599">getAOIsize</a>());
    }
    <a class="code" href="classQuon.html#a12ba4a2250699c84c776014c9b856b9d">classifySites</a>();
    <span class="comment">// update simple client</span>
    <a class="code" href="classQuon.html#a4d364e805fecf9a14eb60b1280bc7a17">synchronizeAppNeighbors</a>();
    <a class="code" href="classQuon.html#a3e94920f59c3f66959cfca7118f5706a">purgeSites</a>();

    <span class="comment">// send new neighbors</span>
    <a class="code" href="classQuonListMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonListMessage</a>* quonListMsg = <span class="keyword">new</span> <a class="code" href="classQuonListMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonListMessage</a>(<span class="stringliteral">&quot;NEW_NEIGHBORS&quot;</span>);
    quonListMsg-&gt;<a class="code" href="classQuonMessage.html#a4f026a3ccf06de3e2aeb7489ad0d2a8a">setCommand</a>(<a class="code" href="Quon__m_8h.html#af6ba389f08ae3248fdcdcbcf600ea41fa3aafac4a63883acb0402e9a5dcae8110">NEW_NEIGHBORS</a>);
    quonListMsg-&gt;<a class="code" href="classQuonMessage.html#a557098f081490610d5a5d33086a0a8dc">setSender</a>(<a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#aa317c162070862f2278a9d532d6d2215">address</a>);
    quonListMsg-&gt;<a class="code" href="classQuonMessage.html#a2ebec6085680c1d0060b05773354f101">setPosition</a>(<a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#ab53cc9364d2f89e2c792f77383866c6c">position</a>);
    quonListMsg-&gt;<a class="code" href="classQuonMessage.html#aa9d1f5666cd9489ba0f70f4e049b481d">setAOIsize</a>(<a class="code" href="classQuon.html#aa08a19de1f063d2e75effc3cde6eeee1">AOIWidth</a>);

    quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#ac15bd0c23408399a6416c0fb97a98424">setNeighborHandleArraySize</a>(<a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.size());
    quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#ae7545f2d6ee308d89c783d1d799495fd">setNeighborPositionArraySize</a>(<a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.size());

    <span class="keywordtype">int</span> i = 0;
    <span class="keywordflow">for</span>(QuonSiteMap::iterator itSites = <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.begin(); itSites != <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.end(); ++itSites) {
        <span class="keywordflow">if</span>(quonMoveMsg-&gt;<a class="code" href="classQuonMessage.html#ab4d2d2ad254bb5816219b93df827aece">getSender</a>() != itSites-&gt;second-&gt;address &amp;&amp;
           !oldAOI.collide(itSites-&gt;second-&gt;position) &amp;&amp;
           newAOI.collide(itSites-&gt;second-&gt;position)) {
            quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#aca91d6fb871ee44ba0682624deec13db">setNeighborHandle</a>(i, itSites-&gt;second-&gt;address);
            quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#a31f80f64c0c30ef8f3564542e40c1a5a">setNeighborPosition</a>(i, itSites-&gt;second-&gt;position);
            ++i;
        }
    }

    <span class="keywordflow">if</span>(i &gt; 0) {
        quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#ac15bd0c23408399a6416c0fb97a98424">setNeighborHandleArraySize</a>(i);
        quonListMsg-&gt;<a class="code" href="classQuonListMessage.html#ae7545f2d6ee308d89c783d1d799495fd">setNeighborPositionArraySize</a>(i);
        quonListMsg-&gt;setBitLength(<a class="code" href="Quon__m_8h.html#acf84b923bf8e068d7e35df6078f252ba">QUONLIST_L</a>(quonListMsg));
        <a class="code" href="classQuon.html#a804dcb69b3560421c1c9ae17a5ada43e">sendMessage</a>(quonListMsg, quonMoveMsg-&gt;<a class="code" href="classQuonMessage.html#ab4d2d2ad254bb5816219b93df827aece">getSender</a>());
    }
    <span class="keywordflow">else</span> {
        <span class="keyword">delete</span> quonListMsg;
    }
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a77a76cd536634a9d90b208cb3f662bd4"></a><!-- doxytag: member="Quon::handleTimerEvent" ref="a77a76cd536634a9d90b208cb3f662bd4" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::handleTimerEvent </td>
          <td>(</td>
          <td class="paramtype">cMessage *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l00176">176</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span>(msg-&gt;isName(<span class="stringliteral">&quot;join_timer&quot;</span>)) {
        <span class="comment">//reset timer</span>
        cancelEvent(<a class="code" href="classQuon.html#a50bdccb83a076a567533790cef1a7c84">join_timer</a>);
        <span class="keywordflow">if</span>(<a class="code" href="classQuon.html#a50b8cb447b1d179dd9977161ca5724fe">qstate</a> != <a class="code" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1a22a0702a9f5ac0bad9f415323647cd18">QREADY</a>) {
            scheduleAt(simTime() + <a class="code" href="classQuon.html#a8f89d751256d37ac702a2820130755ad">joinTimeout</a>, msg);
            <span class="comment">// handle event</span>
            <a class="code" href="classQuon.html#ac29ea34a956954a1fa1386eaf8cb02be">processJoinTimer</a>();
        }
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(msg-&gt;isName(<span class="stringliteral">&quot;sec_timer&quot;</span>)) {
        <span class="comment">//reset timer</span>
        cancelEvent(<a class="code" href="classQuon.html#a90247744dc8738653a4830170ac600e4">sec_timer</a>);
        scheduleAt(simTime() + 1, msg);
        <span class="comment">// handle event</span>
        <a class="code" href="classQuon.html#a5d098a9b74d485d8e68f7a8d5325ddd1">processSecTimer</a>();
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(msg-&gt;isName(<span class="stringliteral">&quot;delete_timer&quot;</span>)) {
        <span class="comment">// handle event</span>
        <a class="code" href="classQuon.html#a430d10cb5e1b77a630ed4657e34f1695">processDeleteTimer</a>(msg);
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(msg-&gt;isName(<span class="stringliteral">&quot;alive_timer&quot;</span>)) {
        <span class="comment">//reset timer</span>
        cancelEvent(<a class="code" href="classQuon.html#a77a68e7de92d342999c42495e23691c1">alive_timer</a>);
        scheduleAt(simTime() + <a class="code" href="classQuon.html#a6657a1bdcf332a5a383a5e380cbc16c0">aliveTimeout</a>, msg);
        <span class="comment">// handle event</span>
        <a class="code" href="classQuon.html#a86dbfd8cb030da488a06f4322a0d9f54">processAliveTimer</a>();
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(msg-&gt;isName(<span class="stringliteral">&quot;backup_timer&quot;</span>)) {
        <span class="comment">//reset timer</span>
        cancelEvent(<a class="code" href="classQuon.html#a41c411546eafb1dd79c0640a3937090e">backup_timer</a>);
        scheduleAt(simTime() + <a class="code" href="classQuon.html#a45b886170e957fd9326a4c34abe4839b">backupIntervall</a>, msg);
        <span class="comment">// handle event</span>
        <a class="code" href="classQuon.html#af1ff297b237f314e3dd96f8999e0ccb0">processBackupTimer</a>();
    }
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a298fcf2d2e493783099f6d0b07cf04d1"></a><!-- doxytag: member="Quon::handleUDPMessage" ref="a298fcf2d2e493783099f6d0b07cf04d1" args="(BaseOverlayMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::handleUDPMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseOverlayMessage.html">BaseOverlayMessage</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Processes messages from underlay. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td>Message from UDP </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classBaseOverlay.html#a31d7dd39ddc9e62ad92f69f6d7210344">BaseOverlay</a>.</p>

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l00245">245</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span>(<a class="code" href="classQuon.html#a50b8cb447b1d179dd9977161ca5724fe">qstate</a> == <a class="code" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1af0bde5b6e5ef90c75111f6b79fa4fe42">QUNINITIALIZED</a>) {
        <span class="keyword">delete</span> msg;
        <span class="keywordflow">return</span>;
    }
    <a class="code" href="classQuonMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonMessage</a>* quonMsg = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classQuonMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonMessage</a>*<span class="keyword">&gt;</span>(msg);
    <span class="keywordflow">if</span>(quonMsg != NULL) {
        <span class="comment">// debug output</span>
        <span class="keywordflow">if</span>(<a class="code" href="classBaseOverlay.html#a49ff0fb8c25792a1339d54a60c36f2cd" title="debug output ?">debugOutput</a>) {
            EV &lt;&lt; <span class="stringliteral">&quot;[Quon::handleUDPMessage() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
               &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
               &lt;&lt; <span class="stringliteral">&quot;    Node &quot;</span> &lt;&lt; <a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#aa317c162070862f2278a9d532d6d2215">address</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>() &lt;&lt; <span class="stringliteral">&quot; received &quot;</span> &lt;&lt; quonMsg-&gt;getName() &lt;&lt; <span class="stringliteral">&quot; from &quot;</span> &lt;&lt; quonMsg-&gt;<a class="code" href="classQuonMessage.html#ab4d2d2ad254bb5816219b93df827aece">getSender</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>() &lt;&lt; <span class="stringliteral">&quot;.&quot;</span>
               &lt;&lt; endl;
        }
        <span class="keywordflow">if</span>(<a class="code" href="classQuon.html#a50b8cb447b1d179dd9977161ca5724fe">qstate</a> == <a class="code" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1a22a0702a9f5ac0bad9f415323647cd18">QREADY</a>) {
            <span class="keywordflow">switch</span>(quonMsg-&gt;<a class="code" href="classQuonMessage.html#a006f8426093f22f07de8b82d8cf0c5be">getCommand</a>()) {
                <span class="keywordflow">case</span> <a class="code" href="GiaMessage__m_8h.html#ac712f468e66678ffb5df03be6d6a8157a71fec090ff88ece51771bbbf434064ec">JOIN_REQUEST</a>: {
                    <a class="code" href="classQuon.html#ad08218dae9b27080131790ebaf6f4b54">handleJoinRequest</a>(quonMsg);
                } <span class="keywordflow">break</span>;
                <span class="keywordflow">case</span> <a class="code" href="Quon__m_8h.html#af6ba389f08ae3248fdcdcbcf600ea41fad9745223990da14f545a02e12e727b63">NODE_MOVE</a>: {
                    <a class="code" href="classQuonMoveMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonMoveMessage</a>* quonMoveMsg = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classQuonMoveMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonMoveMessage</a>*<span class="keyword">&gt;</span>(msg);
                    <a class="code" href="classQuon.html#adee71dee47991a9f5fffafc9b75b037a">handleNodeMove</a>(quonMoveMsg);
                    <span class="keyword">delete</span> msg;
                } <span class="keywordflow">break</span>;
                <span class="keywordflow">case</span> <a class="code" href="Quon__m_8h.html#af6ba389f08ae3248fdcdcbcf600ea41fa3aafac4a63883acb0402e9a5dcae8110">NEW_NEIGHBORS</a>: {
                    <a class="code" href="classQuonListMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonListMessage</a>* quonListMsg = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classQuonListMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonListMessage</a>*<span class="keyword">&gt;</span>(msg);
                    <a class="code" href="classQuon.html#a74d83ab66d75e28a11a0356510a6eccb">handleNewNeighbors</a>(quonListMsg);
                    <span class="keyword">delete</span> msg;
                } <span class="keywordflow">break</span>;
                <span class="keywordflow">case</span> <a class="code" href="Quon__m_8h.html#af6ba389f08ae3248fdcdcbcf600ea41fac2f6b0a84b96ac134911c0d532a4a91c">NODE_LEAVE</a>: {
                    <a class="code" href="classQuonListMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonListMessage</a>* quonListMsg = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classQuonListMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonListMessage</a>*<span class="keyword">&gt;</span>(msg);
                    <a class="code" href="classQuon.html#ae4a338b42bb5ff3afdb34c2c8548c1a7">handleNodeLeave</a>(quonListMsg);
                    <span class="keyword">delete</span> msg;
                } <span class="keywordflow">break</span>;
                <span class="keywordflow">case</span> <a class="code" href="Quon__m_8h.html#af6ba389f08ae3248fdcdcbcf600ea41fa41da4915ade740f2d44932bedc63b858">QUON_EVENT</a>: {
                    <a class="code" href="classQuon.html#adfd1a6c88f3487ae4b57aadd4f0ac9e1">sendToApp</a>(quonMsg-&gt;decapsulate());
                    <span class="keyword">delete</span> quonMsg;
                } <span class="keywordflow">break</span>;
            }
        }
        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="classQuon.html#a50b8cb447b1d179dd9977161ca5724fe">qstate</a> == <a class="code" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1a6159e3ad96e5cc7ce4cc87a9ac499213">QJOINING</a> &amp;&amp; quonMsg-&gt;<a class="code" href="classQuonMessage.html#a006f8426093f22f07de8b82d8cf0c5be">getCommand</a>() == JOIN_ACKNOWLEDGE) {
            <a class="code" href="classQuonListMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonListMessage</a>* quonListMsg = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classQuonListMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonListMessage</a>*<span class="keyword">&gt;</span>(msg);
            <a class="code" href="classQuon.html#a3e899c593816aa1d9b0b37bc710c87f2">handleJoinAcknowledge</a>(quonListMsg);
            <span class="keyword">delete</span> msg;
        }
        <span class="keywordflow">else</span> {
            <span class="keyword">delete</span> msg;
        }
    }
    <span class="keywordflow">else</span> {
        <span class="keyword">delete</span> msg;
    }
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae17dfb6ef0492454b6b1b4e455e0f403"></a><!-- doxytag: member="Quon::initializeOverlay" ref="ae17dfb6ef0492454b6b1b4e455e0f403" args="(int stage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::initializeOverlay </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stage</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes derived-class-attributes. </p>
<p><br/>
</p>
<p>Initializes derived-class-attributes, called by <a class="el" href="classBaseOverlay.html#a9738ba6065b0f699f1921bbe82ab97be" title="initializes base-class-attributes">BaseOverlay::initialize()</a>. By default this method is called once. If more stages are needed one can overload <a class="el" href="classBaseOverlay.html#a3234dfcf81463984e88a42432734a615" title="Sets init stage.">numInitStages()</a> and add more stages.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>stage</em>&nbsp;</td><td>the init stage </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classBaseOverlay.html#a41f88dfbea856a2b38319ff52c758c96">BaseOverlay</a>.</p>

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l00031">31</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="comment">// because of IPAddressResolver, we need to wait until interfaces are registered,</span>
    <span class="comment">// address auto-assignment takes place etc.</span>
    <span class="keywordflow">if</span>(stage != <a class="code" href="InitStages_8h.html#a42fde1aa1e14a1c45d29061d6e87e532a58e83c497c7c8495e9c592ff3148b6b9" title="first stage for overlay modules (Tier 0 / KBR)">MIN_STAGE_OVERLAY</a>) {
        <span class="keywordflow">return</span>;
    }

    <span class="comment">// fetch parameters</span>
    <a class="code" href="classQuon.html#a5321c54300684011b310874cb504cc3b">minAOI</a> = (double)par(<span class="stringliteral">&quot;minAOIWidth&quot;</span>) + (double)par(<span class="stringliteral">&quot;AOIBuffer&quot;</span>); <span class="comment">// FIXME: use buffer only where required</span>
    <a class="code" href="classQuon.html#a4031fe13e201230e6822a0b6d312b9c0">maxAOI</a> = (double)par(<span class="stringliteral">&quot;AOIWidth&quot;</span>) + (double)par(<span class="stringliteral">&quot;AOIBuffer&quot;</span>); <span class="comment">// FIXME: use buffer only where required</span>
    <a class="code" href="classQuon.html#aa08a19de1f063d2e75effc3cde6eeee1">AOIWidth</a> = <a class="code" href="classQuon.html#a4031fe13e201230e6822a0b6d312b9c0">maxAOI</a>;
    <a class="code" href="classQuon.html#aed45985bf8ae12aa4a05e3c74f0a03ed">connectionLimit</a> = par(<span class="stringliteral">&quot;connectionLimit&quot;</span>);
    <a class="code" href="classQuon.html#ac0c61c44ee942bcb8f71ffa069a681fc">areaDimension</a> = par(<span class="stringliteral">&quot;areaDimension&quot;</span>);
    <a class="code" href="classQuon.html#a8f89d751256d37ac702a2820130755ad">joinTimeout</a> = par(<span class="stringliteral">&quot;joinTimeout&quot;</span>);
    <a class="code" href="classQuon.html#a29afd14267371b2fdccb31e8d5bcebee">deleteTimeout</a> = par(<span class="stringliteral">&quot;deleteTimeout&quot;</span>);
    <a class="code" href="classQuon.html#a6657a1bdcf332a5a383a5e380cbc16c0">aliveTimeout</a> = (double)par(<span class="stringliteral">&quot;aliveTimeout&quot;</span>) / 2.0;
    <a class="code" href="classQuon.html#a45b886170e957fd9326a4c34abe4839b">backupIntervall</a> = par(<span class="stringliteral">&quot;contactBackupIntervall&quot;</span>);
    <a class="code" href="classQuon.html#ac8eb2eb8fff5eb75bdd6448882d046b7">numBackups</a> = par(<span class="stringliteral">&quot;numBackups&quot;</span>);
    <a class="code" href="classQuon.html#a369f0916dfd5f306a4a31a9bac648be6">linearAdaption</a> = par(<span class="stringliteral">&quot;AOIAdaptLinear&quot;</span>);
    <a class="code" href="classQuon.html#ae44950a7619cd0e9bcb65071f9871302">adaptionSensitivity</a> = par(<span class="stringliteral">&quot;AOIAdaptionSensitivity&quot;</span>);
    <a class="code" href="classQuon.html#acfff4768dab96f6a068f05385c806da9">gossipSensitivity</a> = par(<span class="stringliteral">&quot;AOIGossipSensitivity&quot;</span>);
    <a class="code" href="classQuon.html#ad1c9991e5c1094281e552c88ea4f0612">useSquareMetric</a> = par(<span class="stringliteral">&quot;useSquareMetric&quot;</span>);

    <a class="code" href="classQuon.html#a560b63c7e1d4ad9c34bc4ac9f70311e9">bindingBackup</a> = <span class="keyword">new</span> <a class="code" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a>[<a class="code" href="classQuon.html#ac8eb2eb8fff5eb75bdd6448882d046b7">numBackups</a>][4];

    <span class="comment">// determine wether we want dynamic AOI or not</span>
    <a class="code" href="classQuon.html#a82f95ed825de6241bcf407bcb6732686">useDynamicAOI</a> = <a class="code" href="classQuon.html#aed45985bf8ae12aa4a05e3c74f0a03ed">connectionLimit</a> &gt; 0 &amp;&amp; <a class="code" href="classQuon.html#a5321c54300684011b310874cb504cc3b">minAOI</a> &lt; <a class="code" href="classQuon.html#a4031fe13e201230e6822a0b6d312b9c0">maxAOI</a>;

    <span class="comment">// set node key and thisSite pointer</span>
    <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#af3992f1fda9ea42dc10bf4739e47700a" title="saves given key to NodeHandle::key">setKey</a>(<a class="code" href="classOverlayKey.html#a1983e1b47e32783f8ccd5e59fe725290" title="Returns a random key.">OverlayKey::random</a>());
    <a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a> = <span class="keyword">new</span> <a class="code" href="classQuonSite.html">QuonSite</a>();
    <a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#aa317c162070862f2278a9d532d6d2215">address</a> = <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>;
    <a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#afa6fe24c5adadabe18529bb5736d321b">type</a> = QTHIS;

    <span class="comment">// initialize self-messages</span>
    <a class="code" href="classQuon.html#a50bdccb83a076a567533790cef1a7c84">join_timer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;join_timer&quot;</span>);
    <a class="code" href="classQuon.html#a90247744dc8738653a4830170ac600e4">sec_timer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;sec_timer&quot;</span>);
    <a class="code" href="classQuon.html#a77a68e7de92d342999c42495e23691c1">alive_timer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;alive_timer&quot;</span>);
    <a class="code" href="classQuon.html#a41c411546eafb1dd79c0640a3937090e">backup_timer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;backup_timer&quot;</span>);

    <span class="comment">// statistics</span>
    <a class="code" href="classQuon.html#acd2d26c06a998552d4d57d7d54a9203c">joinRequestBytesSend</a> = 0.0;
    <a class="code" href="classQuon.html#a877edb5c60f4374580611db5e87f9b03">joinAcknowledgeBytesSend</a> = 0.0;
    <a class="code" href="classQuon.html#ac662039da04c611b551ca0b5b0989242">nodeMoveBytesSend</a> = 0.0;
    <a class="code" href="classQuon.html#a60b6442582b349621a5b916b5f63bfdb">newNeighborsBytesSend</a> = 0.0;
    <a class="code" href="classQuon.html#ac2d00865bf9e11a6f768434266fc6634">nodeLeaveBytesSend</a> = 0.0;
    <a class="code" href="classQuon.html#a479502f99f21bf405210eb0c7c00a9b6">maxBytesPerSecondSend</a> = 0.0;
    <a class="code" href="classQuon.html#ab43ea338aa35a082c379716a3fcd02c1">averageBytesPerSecondSend</a> = 0.0;
    <a class="code" href="classQuon.html#ac371d756bd985b8a8dd4227f48c2e9fa">bytesPerSecond</a> = 0.0;
    <a class="code" href="classQuon.html#ad842d00209159d0d47c0abe7aec573c2">softConnections</a> = 0;
    <a class="code" href="classQuon.html#a5450bc23ca2b380316b38903536cad1c">softNeighborCount</a> = 0;
    <a class="code" href="classQuon.html#ac8e1a28cfc559f56cfa51ee757a5b44d">bindingNeighborCount</a> = 0;
    <a class="code" href="classQuon.html#a98466c67a6d900869219e4c8acf1dd7c">directNeighborCount</a> = 0;
    <a class="code" href="classQuon.html#acdba7ca61befddc0377f74b502f24a1c">secTimerCount</a> = 0;
    <span class="comment">//rejoinCount = 0;</span>
    <a class="code" href="classQuon.html#a2412db36457ab9bae180b8dd1c3cec47">avgAOI</a>= 0 ;

    <span class="comment">// watch some variables</span>
    WATCH(<a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#aa317c162070862f2278a9d532d6d2215">address</a>);
    WATCH(<a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#ab53cc9364d2f89e2c792f77383866c6c">position</a>);
    WATCH(<a class="code" href="classQuon.html#aa08a19de1f063d2e75effc3cde6eeee1">AOIWidth</a>);
    <span class="comment">//WATCH_POINTER_MAP(Sites);</span>
    <span class="comment">//WATCH_POINTER_MAP(deletedSites);</span>
    <span class="comment">//WATCH_SET(Positions);</span>
    WATCH(<a class="code" href="classQuon.html#acd2d26c06a998552d4d57d7d54a9203c">joinRequestBytesSend</a>);
    WATCH(<a class="code" href="classQuon.html#a877edb5c60f4374580611db5e87f9b03">joinAcknowledgeBytesSend</a>);
    WATCH(<a class="code" href="classQuon.html#ac662039da04c611b551ca0b5b0989242">nodeMoveBytesSend</a>);
    WATCH(<a class="code" href="classQuon.html#a60b6442582b349621a5b916b5f63bfdb">newNeighborsBytesSend</a>);
    WATCH(<a class="code" href="classQuon.html#ac2d00865bf9e11a6f768434266fc6634">nodeLeaveBytesSend</a>);
    WATCH(<a class="code" href="classQuon.html#a479502f99f21bf405210eb0c7c00a9b6">maxBytesPerSecondSend</a>);
    WATCH(<a class="code" href="classQuon.html#ac371d756bd985b8a8dd4227f48c2e9fa">bytesPerSecond</a>);
    WATCH(<a class="code" href="classQuon.html#ad842d00209159d0d47c0abe7aec573c2">softConnections</a>);
    WATCH(<a class="code" href="classQuon.html#a5450bc23ca2b380316b38903536cad1c">softNeighborCount</a>);
    WATCH(<a class="code" href="classQuon.html#ac8e1a28cfc559f56cfa51ee757a5b44d">bindingNeighborCount</a>);
    WATCH(<a class="code" href="classQuon.html#a98466c67a6d900869219e4c8acf1dd7c">directNeighborCount</a>);
    <span class="comment">//WATCH(rejoinCount);</span>

    <span class="comment">// set initial state</span>
    <a class="code" href="classQuon.html#a58914d072978b36b252a96a7df1fadae">aloneInOverlay</a> = <span class="keyword">false</span>;
    <a class="code" href="classQuon.html#aeaf445313feedba17bc0a724e86e7a22">changeState</a>(<a class="code" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1af0bde5b6e5ef90c75111f6b79fa4fe42">QUNINITIALIZED</a>);
    <a class="code" href="classQuon.html#aeaf445313feedba17bc0a724e86e7a22">changeState</a>(<a class="code" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1a6159e3ad96e5cc7ce4cc87a9ac499213">QJOINING</a>);
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a86dbfd8cb030da488a06f4322a0d9f54"></a><!-- doxytag: member="Quon::processAliveTimer" ref="a86dbfd8cb030da488a06f4322a0d9f54" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::processAliveTimer </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l00598">598</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00176">handleTimerEvent()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="keywordtype">bool</span> rebuild = <span class="keyword">false</span>;
    QuonSiteMap::iterator itSites = <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.begin();
    <span class="keywordflow">while</span>(itSites != <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.end()) {
        <span class="keywordflow">if</span>(itSites-&gt;second-&gt;alive) {
            itSites-&gt;second-&gt;alive = <span class="keyword">false</span>;
            ++itSites;
        }
        <span class="keywordflow">else</span> {
            <a class="code" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a> node = itSites-&gt;second-&gt;address;
            <a class="code" href="classQuonSelfMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonSelfMessage</a>* msg = <span class="keyword">new</span> <a class="code" href="classQuonSelfMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonSelfMessage</a>(<span class="stringliteral">&quot;delete_timer&quot;</span>);
            msg-&gt;<a class="code" href="classQuonSelfMessage.html#a65bdbc575cc7f5ff15d57eeadd4a5e4e">setKey</a>(node.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>());
            scheduleAt(simTime() + <a class="code" href="classQuon.html#a29afd14267371b2fdccb31e8d5bcebee">deleteTimeout</a>, msg);
            <a class="code" href="classQuon.html#a8101efc814ad37db2f2c15c8863634ea">deletedSites</a>.insert(std::make_pair(node.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>(), itSites-&gt;second-&gt;position));
            ++itSites;
            <a class="code" href="classQuon.html#acd349191dbc70d9e4e6801e16a6d3724">deleteSite</a>(node);
            <span class="comment">// update simple client</span>
            <a class="code" href="classQuon.html#a1e7c49275495ea83e41988fe3748788c">deleteAppNeighbor</a>(node);
            <span class="keywordflow">if</span>(!rebuild) {
                rebuild = <span class="keyword">true</span>;
            }
        }
    }
    <span class="keywordflow">if</span>(rebuild) {
        <a class="code" href="classQuon.html#a12ba4a2250699c84c776014c9b856b9d">classifySites</a>();
        <span class="comment">// update simple client</span>
        <a class="code" href="classQuon.html#a4d364e805fecf9a14eb60b1280bc7a17">synchronizeAppNeighbors</a>();
        <a class="code" href="classQuon.html#a3e94920f59c3f66959cfca7118f5706a">purgeSites</a>();
    }
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="af1ff297b237f314e3dd96f8999e0ccb0"></a><!-- doxytag: member="Quon::processBackupTimer" ref="af1ff297b237f314e3dd96f8999e0ccb0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::processBackupTimer </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l00630">630</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00176">handleTimerEvent()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <a class="code" href="classQuonMoveMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonMoveMessage</a>* quonMoveMsg = <span class="keyword">new</span> <a class="code" href="classQuonMoveMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonMoveMessage</a>(<span class="stringliteral">&quot;NODE_MOVE&quot;</span>);
    quonMoveMsg-&gt;<a class="code" href="classQuonMessage.html#a4f026a3ccf06de3e2aeb7489ad0d2a8a">setCommand</a>(<a class="code" href="Quon__m_8h.html#af6ba389f08ae3248fdcdcbcf600ea41fad9745223990da14f545a02e12e727b63">NODE_MOVE</a>);
    quonMoveMsg-&gt;<a class="code" href="classQuonMessage.html#a557098f081490610d5a5d33086a0a8dc">setSender</a>(<a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#aa317c162070862f2278a9d532d6d2215">address</a>);
    quonMoveMsg-&gt;<a class="code" href="classQuonMessage.html#a2ebec6085680c1d0060b05773354f101">setPosition</a>(<a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#ab53cc9364d2f89e2c792f77383866c6c">position</a>);
    quonMoveMsg-&gt;<a class="code" href="classQuonMessage.html#aa9d1f5666cd9489ba0f70f4e049b481d">setAOIsize</a>(<a class="code" href="classQuon.html#aa08a19de1f063d2e75effc3cde6eeee1">AOIWidth</a>);
    quonMoveMsg-&gt;<a class="code" href="classQuonMoveMessage.html#a4fd40a3fdd73b15dc94b37475e4ed509">setNewPosition</a>(<a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#ab53cc9364d2f89e2c792f77383866c6c">position</a>);
    quonMoveMsg-&gt;<a class="code" href="classQuonMoveMessage.html#a3b089ea2756eef044a86529ad77713fa">setIsBinding</a>(<span class="keyword">true</span>);
    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;4; i++) {
        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> ii = 0; ii &lt; <a class="code" href="classQuon.html#ac8eb2eb8fff5eb75bdd6448882d046b7">numBackups</a>; ++ii ){
            <span class="keywordflow">if</span>(!<a class="code" href="classQuon.html#a560b63c7e1d4ad9c34bc4ac9f70311e9">bindingBackup</a>[ii][i].isUnspecified()) {
                <a class="code" href="classQuonMoveMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonMoveMessage</a>* copyMsg = <span class="keyword">new</span> <a class="code" href="classQuonMoveMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonMoveMessage</a>(*quonMoveMsg);
                copyMsg-&gt;setBitLength(<a class="code" href="Quon__m_8h.html#a3da2a269dbae8ed952a6b0a237710162">QUONMOVE_L</a>(copyMsg));
                <a class="code" href="classQuon.html#a804dcb69b3560421c1c9ae17a5ada43e">sendMessage</a>(copyMsg, <a class="code" href="classQuon.html#a560b63c7e1d4ad9c34bc4ac9f70311e9">bindingBackup</a>[ii][i]);
            }
        }
    }
    <span class="keyword">delete</span> quonMoveMsg;
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a430d10cb5e1b77a630ed4657e34f1695"></a><!-- doxytag: member="Quon::processDeleteTimer" ref="a430d10cb5e1b77a630ed4657e34f1695" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::processDeleteTimer </td>
          <td>(</td>
          <td class="paramtype">cMessage *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l00588">588</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00176">handleTimerEvent()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <a class="code" href="classQuonSelfMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonSelfMessage</a>* quonMsg = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classQuonSelfMessage.html" title="Class generated from overlay/quon/Quon.msg by opp_msgc.">QuonSelfMessage</a>*<span class="keyword">&gt;</span>(msg);
    QDeleteMap::iterator itSite = <a class="code" href="classQuon.html#a8101efc814ad37db2f2c15c8863634ea">deletedSites</a>.find(quonMsg-&gt;<a class="code" href="classQuonSelfMessage.html#ab4e908561238298802392ac070bb71b5">getKey</a>());
    <span class="keywordflow">if</span>(itSite != <a class="code" href="classQuon.html#a8101efc814ad37db2f2c15c8863634ea">deletedSites</a>.end()) {
        <a class="code" href="classQuon.html#a8101efc814ad37db2f2c15c8863634ea">deletedSites</a>.erase(itSite);
    }
    cancelAndDelete(quonMsg);
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac29ea34a956954a1fa1386eaf8cb02be"></a><!-- doxytag: member="Quon::processJoinTimer" ref="ac29ea34a956954a1fa1386eaf8cb02be" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::processJoinTimer </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l00551">551</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00176">handleTimerEvent()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <a class="code" href="classGameAPIMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">GameAPIMessage</a>* gameMsg = <span class="keyword">new</span> <a class="code" href="classGameAPIMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">GameAPIMessage</a>(<span class="stringliteral">&quot;MOVEMENT_REQUEST&quot;</span>);
    gameMsg-&gt;<a class="code" href="classGameAPIMessage.html#a3c12a88e720037a70248b0db6a46fc99">setCommand</a>(<a class="code" href="CommonMessages__m_8h.html#ac76e82bc37e4b2b364247c7cff8f7b6baebd21087dd4fccf5bea6d56c351f76d1">MOVEMENT_REQUEST</a>);
    <a class="code" href="classQuon.html#adfd1a6c88f3487ae4b57aadd4f0ac9e1">sendToApp</a>(gameMsg);
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5d098a9b74d485d8e68f7a8d5325ddd1"></a><!-- doxytag: member="Quon::processSecTimer" ref="a5d098a9b74d485d8e68f7a8d5325ddd1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::processSecTimer </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l00558">558</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00176">handleTimerEvent()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(
        <span class="keywordflow">if</span>(<a class="code" href="classQuon.html#ac371d756bd985b8a8dd4227f48c2e9fa">bytesPerSecond</a> &gt; <a class="code" href="classQuon.html#a479502f99f21bf405210eb0c7c00a9b6">maxBytesPerSecondSend</a>) {
            <a class="code" href="classQuon.html#a479502f99f21bf405210eb0c7c00a9b6">maxBytesPerSecondSend</a> = <a class="code" href="classQuon.html#ac371d756bd985b8a8dd4227f48c2e9fa">bytesPerSecond</a>;
        }
        <a class="code" href="classQuon.html#a2412db36457ab9bae180b8dd1c3cec47">avgAOI</a> += <a class="code" href="classQuon.html#aa08a19de1f063d2e75effc3cde6eeee1">AOIWidth</a>;
        <a class="code" href="classQuon.html#ab43ea338aa35a082c379716a3fcd02c1">averageBytesPerSecondSend</a> += <a class="code" href="classQuon.html#ac371d756bd985b8a8dd4227f48c2e9fa">bytesPerSecond</a>;
        <span class="keywordflow">for</span>(QuonSiteMap::iterator itSites = <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.begin(); itSites != <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.end(); ++itSites) {
            <span class="keywordflow">switch</span>(itSites-&gt;second-&gt;type) {
                <span class="keywordflow">case</span> <a class="code" href="QuonDefs_8h.html#a65910f3553787356a3dc0bcea3b0c663a9a4ea8f06501f7d26d66e134e0e1b015">QNEIGHBOR</a>:
                    <a class="code" href="classQuon.html#a98466c67a6d900869219e4c8acf1dd7c">directNeighborCount</a>++;
                    <span class="keywordflow">break</span>;
                <span class="keywordflow">case</span> <a class="code" href="QuonDefs_8h.html#a65910f3553787356a3dc0bcea3b0c663ade742dc8734ee1f2b8944e338a7992fa">QBINDING</a>:
                    <a class="code" href="classQuon.html#ac8e1a28cfc559f56cfa51ee757a5b44d">bindingNeighborCount</a>++;
                    <span class="keywordflow">break</span>;
                <span class="keywordflow">case</span> <a class="code" href="QuonDefs_8h.html#a65910f3553787356a3dc0bcea3b0c663a02657096ca1b200aae91c6f4c8f1fb5f">QUNDEFINED</a>:
                    <span class="keywordflow">if</span>( itSites-&gt;second-&gt;softNeighbor ){
                        <a class="code" href="classQuon.html#a5450bc23ca2b380316b38903536cad1c">softNeighborCount</a>++;
                    }
                    <span class="keywordflow">break</span>;
                <span class="keywordflow">case</span> <a class="code" href="QuonDefs_8h.html#a65910f3553787356a3dc0bcea3b0c663a5f0c262d908147d33dd7235bd5cd5515">QTHIS</a>:
                    <span class="keywordflow">break</span>;
            }
        }
        ++<a class="code" href="classQuon.html#acdba7ca61befddc0377f74b502f24a1c">secTimerCount</a>;
    );
    <a class="code" href="classQuon.html#ac371d756bd985b8a8dd4227f48c2e9fa">bytesPerSecond</a> = 0.0;
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3e94920f59c3f66959cfca7118f5706a"></a><!-- doxytag: member="Quon::purgeSites" ref="a3e94920f59c3f66959cfca7118f5706a" args="(QPurgeType purgeSoftSites=QKEEPSOFT)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Quon::purgeSites </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="QuonDefs_8h.html#adc5a48b199e542d36b27075cdb579b26">QPurgeType</a>&nbsp;</td>
          <td class="paramname"> <em>purgeSoftSites</em> = <code>QKEEPSOFT</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l00458">458</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00793">handleJoinAcknowledge()</a>, <a class="el" href="Quon_8cc_source.html#l00671">handleMove()</a>, <a class="el" href="Quon_8cc_source.html#l00891">handleNewNeighbors()</a>, <a class="el" href="Quon_8cc_source.html#l00906">handleNodeLeave()</a>, <a class="el" href="Quon_8cc_source.html#l00823">handleNodeMove()</a>, and <a class="el" href="Quon_8cc_source.html#l00598">processAliveTimer()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="keywordtype">int</span> purged = 0;
    QuonSiteMap::iterator itSites = <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.begin();
    <span class="keywordflow">while</span>(itSites != <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.end()) {
        <span class="comment">// Purge softNeighbors only if QPURGESOFT is set</span>
        <span class="keywordflow">if</span>(itSites-&gt;second-&gt;type == <a class="code" href="QuonDefs_8h.html#a65910f3553787356a3dc0bcea3b0c663a02657096ca1b200aae91c6f4c8f1fb5f">QUNDEFINED</a> &amp;&amp; ( purgeSoftSites == <a class="code" href="QuonDefs_8h.html#adc5a48b199e542d36b27075cdb579b26a01f818ce2945704d0a5df32f2301885c">QPURGESOFT</a> || !itSites-&gt;second-&gt;softNeighbor) ) {
            <span class="keywordflow">if</span>(<a class="code" href="classBaseOverlay.html#a49ff0fb8c25792a1339d54a60c36f2cd" title="debug output ?">debugOutput</a>) {
                EV &lt;&lt; <span class="stringliteral">&quot;[Quon::purgeSites() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
                   &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
                   &lt;&lt; <span class="stringliteral">&quot;    Site &quot;</span> &lt;&lt; itSites-&gt;second-&gt;address.getIp() &lt;&lt; <span class="stringliteral">&quot; at &quot;</span> &lt;&lt; itSites-&gt;second-&gt;position &lt;&lt; <span class="stringliteral">&quot; has been removed from the list.\n&quot;</span>
                   &lt;&lt; <span class="stringliteral">&quot;    Status: &quot;</span> &lt;&lt; ((itSites-&gt;second-&gt;type == QUNDEFINED) ? <span class="stringliteral">&quot;QUNDEFINED&quot;</span> : <span class="stringliteral">&quot;QSOFT&quot;</span>)
                   &lt;&lt; endl;
            }
            <span class="keyword">delete</span> itSites-&gt;second;
            <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.erase(itSites++);
            ++purged;
        }
        <span class="keywordflow">else</span> {
            ++itSites;
        }
    }
    <span class="keywordflow">return</span> purged;
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a804dcb69b3560421c1c9ae17a5ada43e"></a><!-- doxytag: member="Quon::sendMessage" ref="a804dcb69b3560421c1c9ae17a5ada43e" args="(QuonMessage *quonMsg, NodeHandle destination)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::sendMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQuonMessage.html">QuonMessage</a> *&nbsp;</td>
          <td class="paramname"> <em>quonMsg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classNodeHandle.html">NodeHandle</a>&nbsp;</td>
          <td class="paramname"> <em>destination</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l01016">1016</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00736">handleEvent()</a>, <a class="el" href="Quon_8cc_source.html#l00930">handleInvalidNode()</a>, <a class="el" href="Quon_8cc_source.html#l00651">handleJoin()</a>, <a class="el" href="Quon_8cc_source.html#l00793">handleJoinAcknowledge()</a>, <a class="el" href="Quon_8cc_source.html#l00748">handleJoinRequest()</a>, <a class="el" href="Quon_8cc_source.html#l00671">handleMove()</a>, <a class="el" href="Quon_8cc_source.html#l00515">handleNodeGracefulLeaveNotification()</a>, <a class="el" href="Quon_8cc_source.html#l00823">handleNodeMove()</a>, and <a class="el" href="Quon_8cc_source.html#l00630">processBackupTimer()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="comment">// collect statistics</span>
    <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(
        <span class="keywordflow">switch</span>(quonMsg-&gt;<a class="code" href="classQuonMessage.html#a006f8426093f22f07de8b82d8cf0c5be">getCommand</a>()) {
            <span class="keywordflow">case</span> <a class="code" href="GiaMessage__m_8h.html#ac712f468e66678ffb5df03be6d6a8157a71fec090ff88ece51771bbbf434064ec">JOIN_REQUEST</a>:
                <a class="code" href="classQuon.html#acd2d26c06a998552d4d57d7d54a9203c">joinRequestBytesSend</a> += quonMsg-&gt;getByteLength();
            <span class="keywordflow">break</span>;
            <span class="keywordflow">case</span> <a class="code" href="Quon__m_8h.html#af6ba389f08ae3248fdcdcbcf600ea41fad2045a15ed8b82d3db379cc54ba0b7d4">JOIN_ACKNOWLEDGE</a>:
                <a class="code" href="classQuon.html#a877edb5c60f4374580611db5e87f9b03">joinAcknowledgeBytesSend</a> += quonMsg-&gt;getByteLength();
            <span class="keywordflow">break</span>;
            <span class="keywordflow">case</span> <a class="code" href="Quon__m_8h.html#af6ba389f08ae3248fdcdcbcf600ea41fad9745223990da14f545a02e12e727b63">NODE_MOVE</a>:
                <a class="code" href="classQuon.html#ac662039da04c611b551ca0b5b0989242">nodeMoveBytesSend</a> += quonMsg-&gt;getByteLength();
            <span class="keywordflow">break</span>;
            <span class="keywordflow">case</span> <a class="code" href="Quon__m_8h.html#af6ba389f08ae3248fdcdcbcf600ea41fa3aafac4a63883acb0402e9a5dcae8110">NEW_NEIGHBORS</a>:
                <a class="code" href="classQuon.html#a60b6442582b349621a5b916b5f63bfdb">newNeighborsBytesSend</a> += quonMsg-&gt;getByteLength();
            <span class="keywordflow">break</span>;
            <span class="keywordflow">case</span> <a class="code" href="Quon__m_8h.html#af6ba389f08ae3248fdcdcbcf600ea41fac2f6b0a84b96ac134911c0d532a4a91c">NODE_LEAVE</a>:
                <a class="code" href="classQuon.html#ac2d00865bf9e11a6f768434266fc6634">nodeLeaveBytesSend</a> += quonMsg-&gt;getByteLength();
            <span class="keywordflow">break</span>;
        }
        <span class="keywordflow">if</span>(<a class="code" href="classQuon.html#a50b8cb447b1d179dd9977161ca5724fe">qstate</a> == <a class="code" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1a22a0702a9f5ac0bad9f415323647cd18">QREADY</a>) {
            <a class="code" href="classQuon.html#ac371d756bd985b8a8dd4227f48c2e9fa">bytesPerSecond</a> += quonMsg-&gt;getByteLength();
        }
    );

    <span class="comment">// debug output</span>
    <span class="keywordflow">if</span>(<a class="code" href="classBaseOverlay.html#a49ff0fb8c25792a1339d54a60c36f2cd" title="debug output ?">debugOutput</a>) {
        EV &lt;&lt; <span class="stringliteral">&quot;[Quon::sendMessage() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
           &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;    Node &quot;</span> &lt;&lt; <a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#aa317c162070862f2278a9d532d6d2215">address</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>() &lt;&lt; <span class="stringliteral">&quot; sending &quot;</span> &lt;&lt; quonMsg-&gt;getName() &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; destination.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>() &lt;&lt; <span class="stringliteral">&quot;.&quot;</span>
           &lt;&lt; endl;
    }
    <a class="code" href="classBaseOverlay.html#a124850e5bc8d81b3eb4f3aec75868449" title="Sends message to underlay.">sendMessageToUDP</a>(destination, quonMsg);
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="adfd1a6c88f3487ae4b57aadd4f0ac9e1"></a><!-- doxytag: member="Quon::sendToApp" ref="adfd1a6c88f3487ae4b57aadd4f0ac9e1" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::sendToApp </td>
          <td>(</td>
          <td class="paramtype">cMessage *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l01004">1004</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00483">adaptAoI()</a>, <a class="el" href="Quon_8cc_source.html#l00115">changeState()</a>, <a class="el" href="Quon_8cc_source.html#l00993">deleteAppNeighbor()</a>, <a class="el" href="Quon_8cc_source.html#l00515">handleNodeGracefulLeaveNotification()</a>, <a class="el" href="Quon_8cc_source.html#l00245">handleUDPMessage()</a>, <a class="el" href="Quon_8cc_source.html#l00551">processJoinTimer()</a>, and <a class="el" href="Quon_8cc_source.html#l00958">synchronizeAppNeighbors()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="comment">// debug output</span>
    <span class="keywordflow">if</span>(<a class="code" href="classBaseOverlay.html#a49ff0fb8c25792a1339d54a60c36f2cd" title="debug output ?">debugOutput</a>) {
        EV &lt;&lt; <span class="stringliteral">&quot;[Quon::sendToApp() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
           &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;    Node &quot;</span> &lt;&lt; <a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#aa317c162070862f2278a9d532d6d2215">address</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>() &lt;&lt; <span class="stringliteral">&quot; sending &quot;</span> &lt;&lt; msg-&gt;getName() &lt;&lt; <span class="stringliteral">&quot; to application.&quot;</span>
           &lt;&lt; endl;
    }
    send(msg, <span class="stringliteral">&quot;appOut&quot;</span>);
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a21e2a16a7d0c8eb408c6f936fecf9df4"></a><!-- doxytag: member="Quon::setBootstrapedIcon" ref="a21e2a16a7d0c8eb408c6f936fecf9df4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::setBootstrapedIcon </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l01052">1052</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00115">changeState()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span>(ev.isGUI()) {
        <span class="keywordflow">switch</span>(<a class="code" href="classQuon.html#a50b8cb447b1d179dd9977161ca5724fe">qstate</a>) {
            <span class="keywordflow">case</span> <a class="code" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1af0bde5b6e5ef90c75111f6b79fa4fe42">QUNINITIALIZED</a>:
                getParentModule()-&gt;getParentModule()-&gt;getDisplayString().setTagArg(<span class="stringliteral">&quot;i2&quot;</span>, 1, <span class="stringliteral">&quot;red&quot;</span>);
                getDisplayString().setTagArg(<span class="stringliteral">&quot;i&quot;</span>, 1, <span class="stringliteral">&quot;red&quot;</span>);
                <span class="keywordflow">break</span>;
            <span class="keywordflow">case</span> <a class="code" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1a6159e3ad96e5cc7ce4cc87a9ac499213">QJOINING</a>:
                getParentModule()-&gt;getParentModule()-&gt;getDisplayString().setTagArg(<span class="stringliteral">&quot;i2&quot;</span>, 1, <span class="stringliteral">&quot;yellow&quot;</span>);
                getDisplayString().setTagArg(<span class="stringliteral">&quot;i&quot;</span>, 1, <span class="stringliteral">&quot;yellow&quot;</span>);
                <span class="keywordflow">break</span>;
            <span class="keywordflow">case</span> <a class="code" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1a22a0702a9f5ac0bad9f415323647cd18">QREADY</a>:
                getParentModule()-&gt;getParentModule()-&gt;getDisplayString().setTagArg(<span class="stringliteral">&quot;i2&quot;</span>, 1, <span class="stringliteral">&quot;green&quot;</span>);
                getDisplayString().setTagArg(<span class="stringliteral">&quot;i&quot;</span>, 1, <span class="stringliteral">&quot;green&quot;</span>);
                <span class="keywordflow">break</span>;
        }
    }
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4d364e805fecf9a14eb60b1280bc7a17"></a><!-- doxytag: member="Quon::synchronizeAppNeighbors" ref="a4d364e805fecf9a14eb60b1280bc7a17" args="(QPurgeType purgeSoftSites=QKEEPSOFT)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::synchronizeAppNeighbors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="QuonDefs_8h.html#adc5a48b199e542d36b27075cdb579b26">QPurgeType</a>&nbsp;</td>
          <td class="paramname"> <em>purgeSoftSites</em> = <code>QKEEPSOFT</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l00958">958</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00793">handleJoinAcknowledge()</a>, <a class="el" href="Quon_8cc_source.html#l00671">handleMove()</a>, <a class="el" href="Quon_8cc_source.html#l00891">handleNewNeighbors()</a>, <a class="el" href="Quon_8cc_source.html#l00906">handleNodeLeave()</a>, <a class="el" href="Quon_8cc_source.html#l00823">handleNodeMove()</a>, and <a class="el" href="Quon_8cc_source.html#l00598">processAliveTimer()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <a class="code" href="classGameAPIListMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">GameAPIListMessage</a>* gameMsg = <span class="keyword">new</span> <a class="code" href="classGameAPIListMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">GameAPIListMessage</a>(<span class="stringliteral">&quot;NEIGHBOR_UPDATE&quot;</span>);
    gameMsg-&gt;<a class="code" href="classGameAPIMessage.html#a3c12a88e720037a70248b0db6a46fc99">setCommand</a>(<a class="code" href="CommonMessages__m_8h.html#ac76e82bc37e4b2b364247c7cff8f7b6ba360dbdf5c7f61a4d26263e2a010057d7">NEIGHBOR_UPDATE</a>);

    gameMsg-&gt;<a class="code" href="classGameAPIListMessage.html#a6cc71a3065a72e5636753f4e0904ad38">setRemoveNeighborArraySize</a>(<a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.size());
    gameMsg-&gt;<a class="code" href="classGameAPIListMessage.html#a6bac1604abbdf9c0ec959343b7b64834">setAddNeighborArraySize</a>(<a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.size());
    gameMsg-&gt;<a class="code" href="classGameAPIListMessage.html#a81292ede7c0903f5982efcc7625024f1">setNeighborPositionArraySize</a>(<a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.size());

    <span class="keywordtype">int</span> remSize, addSize;
    remSize = addSize = 0;
    <span class="keywordflow">for</span>(QuonSiteMap::iterator itSites = <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.begin(); itSites != <a class="code" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Sites</a>.end(); ++itSites) {
        <span class="keywordflow">if</span>(itSites-&gt;second-&gt;type == <a class="code" href="QuonDefs_8h.html#a65910f3553787356a3dc0bcea3b0c663a02657096ca1b200aae91c6f4c8f1fb5f">QUNDEFINED</a> &amp;&amp; (purgeSoftSites == <a class="code" href="QuonDefs_8h.html#adc5a48b199e542d36b27075cdb579b26a01f818ce2945704d0a5df32f2301885c">QPURGESOFT</a> || !itSites-&gt;second-&gt;softNeighbor) &amp;&amp; itSites-&gt;second-&gt;dirty) {
            gameMsg-&gt;<a class="code" href="classGameAPIListMessage.html#a1a1ada09672c98b3a21eff0a6021d42c">setRemoveNeighbor</a>(remSize, itSites-&gt;second-&gt;address);
            ++remSize;
        }
        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(itSites-&gt;second-&gt;dirty) {
            gameMsg-&gt;<a class="code" href="classGameAPIListMessage.html#ad0a32a6a2f89f49e1824578e0b7a640a">setAddNeighbor</a>(addSize, itSites-&gt;second-&gt;address);
            gameMsg-&gt;<a class="code" href="classGameAPIListMessage.html#a32b3e775c8f0f5b850bf3047f7ddc30f">setNeighborPosition</a>(addSize, itSites-&gt;second-&gt;position);
            itSites-&gt;second-&gt;dirty = <span class="keyword">false</span>;
            ++addSize;
        }
    }

    <span class="keywordflow">if</span>(remSize &gt; 0 || addSize &gt; 0) {
        gameMsg-&gt;<a class="code" href="classGameAPIListMessage.html#a6cc71a3065a72e5636753f4e0904ad38">setRemoveNeighborArraySize</a>(remSize);
        gameMsg-&gt;<a class="code" href="classGameAPIListMessage.html#a6bac1604abbdf9c0ec959343b7b64834">setAddNeighborArraySize</a>(addSize);
        gameMsg-&gt;<a class="code" href="classGameAPIListMessage.html#a81292ede7c0903f5982efcc7625024f1">setNeighborPositionArraySize</a>(addSize);
        <a class="code" href="classQuon.html#adfd1a6c88f3487ae4b57aadd4f0ac9e1">sendToApp</a>(gameMsg);
    }
    <span class="keywordflow">else</span> {
        <span class="keyword">delete</span> gameMsg;
    }
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="aff5a4bfcea27a7ebfa42f38c3497a744"></a><!-- doxytag: member="Quon::updateThisSite" ref="aff5a4bfcea27a7ebfa42f38c3497a744" args="(Vector2D p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Quon::updateThisSite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVector2D.html">Vector2D</a>&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8cc_source.html#l00349">349</a> of file <a class="el" href="Quon_8cc_source.html">Quon.cc</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00671">handleMove()</a>.</p>

<p><div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span>(<a class="code" href="classBaseOverlay.html#a49ff0fb8c25792a1339d54a60c36f2cd" title="debug output ?">debugOutput</a>) {
        EV &lt;&lt; <span class="stringliteral">&quot;[Quon::updateThisSite() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
           &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;    This Site position has been updated to &quot;</span> &lt;&lt; p &lt;&lt; <span class="stringliteral">&quot;.&quot;</span>
           &lt;&lt; endl;
    }
    <a class="code" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">thisSite</a>-&gt;<a class="code" href="classQuonSite.html#ab53cc9364d2f89e2c792f77383866c6c">position</a> = p;
}
</pre></div></p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="ae44950a7619cd0e9bcb65071f9871302"></a><!-- doxytag: member="Quon::adaptionSensitivity" ref="ae44950a7619cd0e9bcb65071f9871302" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classQuon.html#ae44950a7619cd0e9bcb65071f9871302">Quon::adaptionSensitivity</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00077">77</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00483">adaptAoI()</a>, and <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>.</p>

</div>
</div>
<a class="anchor" id="a77a68e7de92d342999c42495e23691c1"></a><!-- doxytag: member="Quon::alive_timer" ref="a77a68e7de92d342999c42495e23691c1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="classQuon.html#a77a68e7de92d342999c42495e23691c1">Quon::alive_timer</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00083">83</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00115">changeState()</a>, <a class="el" href="Quon_8cc_source.html#l00176">handleTimerEvent()</a>, <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>, and <a class="el" href="Quon_8cc_source.html#l01142">~Quon()</a>.</p>

</div>
</div>
<a class="anchor" id="a6657a1bdcf332a5a383a5e380cbc16c0"></a><!-- doxytag: member="Quon::aliveTimeout" ref="a6657a1bdcf332a5a383a5e380cbc16c0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t <a class="el" href="classQuon.html#a6657a1bdcf332a5a383a5e380cbc16c0">Quon::aliveTimeout</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00066">66</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00115">changeState()</a>, <a class="el" href="Quon_8cc_source.html#l00176">handleTimerEvent()</a>, and <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>.</p>

</div>
</div>
<a class="anchor" id="a58914d072978b36b252a96a7df1fadae"></a><!-- doxytag: member="Quon::aloneInOverlay" ref="a58914d072978b36b252a96a7df1fadae" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classQuon.html#a58914d072978b36b252a96a7df1fadae">Quon::aloneInOverlay</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00148">148</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00300">addSite()</a>, <a class="el" href="Quon_8cc_source.html#l00360">classifySites()</a>, <a class="el" href="Quon_8cc_source.html#l00651">handleJoin()</a>, and <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>.</p>

</div>
</div>
<a class="anchor" id="aa08a19de1f063d2e75effc3cde6eeee1"></a><!-- doxytag: member="Quon::AOIWidth" ref="aa08a19de1f063d2e75effc3cde6eeee1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classQuon.html#aa08a19de1f063d2e75effc3cde6eeee1">Quon::AOIWidth</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00067">67</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00483">adaptAoI()</a>, <a class="el" href="Quon_8cc_source.html#l00115">changeState()</a>, <a class="el" href="Quon_8cc_source.html#l00360">classifySites()</a>, <a class="el" href="Quon_8cc_source.html#l01110">getAOI()</a>, <a class="el" href="Quon_8cc_source.html#l00930">handleInvalidNode()</a>, <a class="el" href="Quon_8cc_source.html#l00651">handleJoin()</a>, <a class="el" href="Quon_8cc_source.html#l00793">handleJoinAcknowledge()</a>, <a class="el" href="Quon_8cc_source.html#l00748">handleJoinRequest()</a>, <a class="el" href="Quon_8cc_source.html#l00671">handleMove()</a>, <a class="el" href="Quon_8cc_source.html#l00515">handleNodeGracefulLeaveNotification()</a>, <a class="el" href="Quon_8cc_source.html#l00823">handleNodeMove()</a>, <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>, <a class="el" href="Quon_8cc_source.html#l00630">processBackupTimer()</a>, and <a class="el" href="Quon_8cc_source.html#l00558">processSecTimer()</a>.</p>

</div>
</div>
<a class="anchor" id="ac0c61c44ee942bcb8f71ffa069a681fc"></a><!-- doxytag: member="Quon::areaDimension" ref="ac0c61c44ee942bcb8f71ffa069a681fc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classQuon.html#ac0c61c44ee942bcb8f71ffa069a681fc">Quon::areaDimension</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00071">71</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l01122">getAreaDimension()</a>, and <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>.</p>

</div>
</div>
<a class="anchor" id="ab43ea338aa35a082c379716a3fcd02c1"></a><!-- doxytag: member="Quon::averageBytesPerSecondSend" ref="ab43ea338aa35a082c379716a3fcd02c1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classQuon.html#ab43ea338aa35a082c379716a3fcd02c1">Quon::averageBytesPerSecondSend</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00122">122</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l01072">finishOverlay()</a>, <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>, and <a class="el" href="Quon_8cc_source.html#l00558">processSecTimer()</a>.</p>

</div>
</div>
<a class="anchor" id="a2412db36457ab9bae180b8dd1c3cec47"></a><!-- doxytag: member="Quon::avgAOI" ref="a2412db36457ab9bae180b8dd1c3cec47" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long <a class="el" href="classQuon.html#a2412db36457ab9bae180b8dd1c3cec47">Quon::avgAOI</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00130">130</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l01072">finishOverlay()</a>, <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>, and <a class="el" href="Quon_8cc_source.html#l00558">processSecTimer()</a>.</p>

</div>
</div>
<a class="anchor" id="a41c411546eafb1dd79c0640a3937090e"></a><!-- doxytag: member="Quon::backup_timer" ref="a41c411546eafb1dd79c0640a3937090e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="classQuon.html#a41c411546eafb1dd79c0640a3937090e">Quon::backup_timer</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00084">84</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00115">changeState()</a>, <a class="el" href="Quon_8cc_source.html#l00176">handleTimerEvent()</a>, <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>, and <a class="el" href="Quon_8cc_source.html#l01142">~Quon()</a>.</p>

</div>
</div>
<a class="anchor" id="a45b886170e957fd9326a4c34abe4839b"></a><!-- doxytag: member="Quon::backupIntervall" ref="a45b886170e957fd9326a4c34abe4839b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t <a class="el" href="classQuon.html#a45b886170e957fd9326a4c34abe4839b">Quon::backupIntervall</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00072">72</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00115">changeState()</a>, <a class="el" href="Quon_8cc_source.html#l00176">handleTimerEvent()</a>, and <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>.</p>

</div>
</div>
<a class="anchor" id="a560b63c7e1d4ad9c34bc4ac9f70311e9"></a><!-- doxytag: member="Quon::bindingBackup" ref="a560b63c7e1d4ad9c34bc4ac9f70311e9" args=")[4]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classNodeHandle.html">NodeHandle</a>(* <a class="el" href="classQuon.html#a560b63c7e1d4ad9c34bc4ac9f70311e9">Quon::bindingBackup</a>)[4]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00143">143</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00360">classifySites()</a>, <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>, and <a class="el" href="Quon_8cc_source.html#l00630">processBackupTimer()</a>.</p>

</div>
</div>
<a class="anchor" id="ac8e1a28cfc559f56cfa51ee757a5b44d"></a><!-- doxytag: member="Quon::bindingNeighborCount" ref="ac8e1a28cfc559f56cfa51ee757a5b44d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long <a class="el" href="classQuon.html#ac8e1a28cfc559f56cfa51ee757a5b44d">Quon::bindingNeighborCount</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00126">126</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l01072">finishOverlay()</a>, <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>, and <a class="el" href="Quon_8cc_source.html#l00558">processSecTimer()</a>.</p>

</div>
</div>
<a class="anchor" id="ac371d756bd985b8a8dd4227f48c2e9fa"></a><!-- doxytag: member="Quon::bytesPerSecond" ref="ac371d756bd985b8a8dd4227f48c2e9fa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classQuon.html#ac371d756bd985b8a8dd4227f48c2e9fa">Quon::bytesPerSecond</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00123">123</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00793">handleJoinAcknowledge()</a>, <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>, <a class="el" href="Quon_8cc_source.html#l00558">processSecTimer()</a>, and <a class="el" href="Quon_8cc_source.html#l01016">sendMessage()</a>.</p>

</div>
</div>
<a class="anchor" id="aed45985bf8ae12aa4a05e3c74f0a03ed"></a><!-- doxytag: member="Quon::connectionLimit" ref="aed45985bf8ae12aa4a05e3c74f0a03ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="classQuon.html#aed45985bf8ae12aa4a05e3c74f0a03ed">Quon::connectionLimit</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00070">70</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00483">adaptAoI()</a>, and <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>.</p>

</div>
</div>
<a class="anchor" id="a8101efc814ad37db2f2c15c8863634ea"></a><!-- doxytag: member="Quon::deletedSites" ref="a8101efc814ad37db2f2c15c8863634ea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="QuonDefs_8h.html#a380c00788c20b96cde0eb65c87bbdf27">QDeleteMap</a> <a class="el" href="classQuon.html#a8101efc814ad37db2f2c15c8863634ea">Quon::deletedSites</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00142">142</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00300">addSite()</a>, <a class="el" href="Quon_8cc_source.html#l00930">handleInvalidNode()</a>, <a class="el" href="Quon_8cc_source.html#l00906">handleNodeLeave()</a>, <a class="el" href="Quon_8cc_source.html#l00823">handleNodeMove()</a>, <a class="el" href="Quon_8cc_source.html#l00598">processAliveTimer()</a>, and <a class="el" href="Quon_8cc_source.html#l00588">processDeleteTimer()</a>.</p>

</div>
</div>
<a class="anchor" id="a29afd14267371b2fdccb31e8d5bcebee"></a><!-- doxytag: member="Quon::deleteTimeout" ref="a29afd14267371b2fdccb31e8d5bcebee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t <a class="el" href="classQuon.html#a29afd14267371b2fdccb31e8d5bcebee">Quon::deleteTimeout</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00065">65</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00906">handleNodeLeave()</a>, <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>, and <a class="el" href="Quon_8cc_source.html#l00598">processAliveTimer()</a>.</p>

</div>
</div>
<a class="anchor" id="a98466c67a6d900869219e4c8acf1dd7c"></a><!-- doxytag: member="Quon::directNeighborCount" ref="a98466c67a6d900869219e4c8acf1dd7c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long <a class="el" href="classQuon.html#a98466c67a6d900869219e4c8acf1dd7c">Quon::directNeighborCount</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00127">127</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l01072">finishOverlay()</a>, <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>, and <a class="el" href="Quon_8cc_source.html#l00558">processSecTimer()</a>.</p>

</div>
</div>
<a class="anchor" id="acfff4768dab96f6a068f05385c806da9"></a><!-- doxytag: member="Quon::gossipSensitivity" ref="acfff4768dab96f6a068f05385c806da9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classQuon.html#acfff4768dab96f6a068f05385c806da9">Quon::gossipSensitivity</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00078">78</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00483">adaptAoI()</a>, and <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>.</p>

</div>
</div>
<a class="anchor" id="a50bdccb83a076a567533790cef1a7c84"></a><!-- doxytag: member="Quon::join_timer" ref="a50bdccb83a076a567533790cef1a7c84" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="classQuon.html#a50bdccb83a076a567533790cef1a7c84">Quon::join_timer</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00081">81</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00115">changeState()</a>, <a class="el" href="Quon_8cc_source.html#l00176">handleTimerEvent()</a>, <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>, and <a class="el" href="Quon_8cc_source.html#l01142">~Quon()</a>.</p>

</div>
</div>
<a class="anchor" id="a877edb5c60f4374580611db5e87f9b03"></a><!-- doxytag: member="Quon::joinAcknowledgeBytesSend" ref="a877edb5c60f4374580611db5e87f9b03" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classQuon.html#a877edb5c60f4374580611db5e87f9b03">Quon::joinAcknowledgeBytesSend</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00117">117</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l01072">finishOverlay()</a>, <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>, and <a class="el" href="Quon_8cc_source.html#l01016">sendMessage()</a>.</p>

</div>
</div>
<a class="anchor" id="acd2d26c06a998552d4d57d7d54a9203c"></a><!-- doxytag: member="Quon::joinRequestBytesSend" ref="acd2d26c06a998552d4d57d7d54a9203c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classQuon.html#acd2d26c06a998552d4d57d7d54a9203c">Quon::joinRequestBytesSend</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00116">116</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l01072">finishOverlay()</a>, <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>, and <a class="el" href="Quon_8cc_source.html#l01016">sendMessage()</a>.</p>

</div>
</div>
<a class="anchor" id="a8f89d751256d37ac702a2820130755ad"></a><!-- doxytag: member="Quon::joinTimeout" ref="a8f89d751256d37ac702a2820130755ad" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t <a class="el" href="classQuon.html#a8f89d751256d37ac702a2820130755ad">Quon::joinTimeout</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00064">64</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00176">handleTimerEvent()</a>, and <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>.</p>

</div>
</div>
<a class="anchor" id="a369f0916dfd5f306a4a31a9bac648be6"></a><!-- doxytag: member="Quon::linearAdaption" ref="a369f0916dfd5f306a4a31a9bac648be6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classQuon.html#a369f0916dfd5f306a4a31a9bac648be6">Quon::linearAdaption</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00076">76</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00483">adaptAoI()</a>, and <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>.</p>

</div>
</div>
<a class="anchor" id="a4031fe13e201230e6822a0b6d312b9c0"></a><!-- doxytag: member="Quon::maxAOI" ref="a4031fe13e201230e6822a0b6d312b9c0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classQuon.html#a4031fe13e201230e6822a0b6d312b9c0">Quon::maxAOI</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00069">69</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00483">adaptAoI()</a>, <a class="el" href="Quon_8cc_source.html#l00115">changeState()</a>, and <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>.</p>

</div>
</div>
<a class="anchor" id="a479502f99f21bf405210eb0c7c00a9b6"></a><!-- doxytag: member="Quon::maxBytesPerSecondSend" ref="a479502f99f21bf405210eb0c7c00a9b6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classQuon.html#a479502f99f21bf405210eb0c7c00a9b6">Quon::maxBytesPerSecondSend</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00121">121</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l01072">finishOverlay()</a>, <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>, and <a class="el" href="Quon_8cc_source.html#l00558">processSecTimer()</a>.</p>

</div>
</div>
<a class="anchor" id="a5321c54300684011b310874cb504cc3b"></a><!-- doxytag: member="Quon::minAOI" ref="a5321c54300684011b310874cb504cc3b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classQuon.html#a5321c54300684011b310874cb504cc3b">Quon::minAOI</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00068">68</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00483">adaptAoI()</a>, and <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>.</p>

</div>
</div>
<a class="anchor" id="a60b6442582b349621a5b916b5f63bfdb"></a><!-- doxytag: member="Quon::newNeighborsBytesSend" ref="a60b6442582b349621a5b916b5f63bfdb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classQuon.html#a60b6442582b349621a5b916b5f63bfdb">Quon::newNeighborsBytesSend</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00119">119</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l01072">finishOverlay()</a>, <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>, and <a class="el" href="Quon_8cc_source.html#l01016">sendMessage()</a>.</p>

</div>
</div>
<a class="anchor" id="ac2d00865bf9e11a6f768434266fc6634"></a><!-- doxytag: member="Quon::nodeLeaveBytesSend" ref="ac2d00865bf9e11a6f768434266fc6634" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classQuon.html#ac2d00865bf9e11a6f768434266fc6634">Quon::nodeLeaveBytesSend</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00120">120</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l01072">finishOverlay()</a>, <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>, and <a class="el" href="Quon_8cc_source.html#l01016">sendMessage()</a>.</p>

</div>
</div>
<a class="anchor" id="ac662039da04c611b551ca0b5b0989242"></a><!-- doxytag: member="Quon::nodeMoveBytesSend" ref="ac662039da04c611b551ca0b5b0989242" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classQuon.html#ac662039da04c611b551ca0b5b0989242">Quon::nodeMoveBytesSend</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00118">118</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l01072">finishOverlay()</a>, <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>, and <a class="el" href="Quon_8cc_source.html#l01016">sendMessage()</a>.</p>

</div>
</div>
<a class="anchor" id="ac8eb2eb8fff5eb75bdd6448882d046b7"></a><!-- doxytag: member="Quon::numBackups" ref="ac8eb2eb8fff5eb75bdd6448882d046b7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classQuon.html#ac8eb2eb8fff5eb75bdd6448882d046b7">Quon::numBackups</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00144">144</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00360">classifySites()</a>, <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>, and <a class="el" href="Quon_8cc_source.html#l00630">processBackupTimer()</a>.</p>

</div>
</div>
<a class="anchor" id="a50b8cb447b1d179dd9977161ca5724fe"></a><!-- doxytag: member="Quon::qstate" ref="a50b8cb447b1d179dd9977161ca5724fe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="QuonDefs_8h.html#aca8402343f1e6379e68bc32d471c3ff1">QState</a> <a class="el" href="classQuon.html#a50b8cb447b1d179dd9977161ca5724fe">Quon::qstate</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00147">147</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l01104">getState()</a>, <a class="el" href="Quon_8cc_source.html#l00214">handleAppMessage()</a>, <a class="el" href="Quon_8cc_source.html#l00515">handleNodeGracefulLeaveNotification()</a>, <a class="el" href="Quon_8cc_source.html#l00176">handleTimerEvent()</a>, <a class="el" href="Quon_8cc_source.html#l00245">handleUDPMessage()</a>, <a class="el" href="Quon_8cc_source.html#l01016">sendMessage()</a>, and <a class="el" href="Quon_8cc_source.html#l01052">setBootstrapedIcon()</a>.</p>

</div>
</div>
<a class="anchor" id="acbe0e10f8dc812606f89e799b21f0c5b"></a><!-- doxytag: member="Quon::rejoinCount" ref="acbe0e10f8dc812606f89e799b21f0c5b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long <a class="el" href="classQuon.html#acbe0e10f8dc812606f89e799b21f0c5b">Quon::rejoinCount</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00129">129</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00360">classifySites()</a>.</p>

</div>
</div>
<a class="anchor" id="a90247744dc8738653a4830170ac600e4"></a><!-- doxytag: member="Quon::sec_timer" ref="a90247744dc8738653a4830170ac600e4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="classQuon.html#a90247744dc8738653a4830170ac600e4">Quon::sec_timer</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00082">82</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00115">changeState()</a>, <a class="el" href="Quon_8cc_source.html#l00176">handleTimerEvent()</a>, <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>, and <a class="el" href="Quon_8cc_source.html#l01142">~Quon()</a>.</p>

</div>
</div>
<a class="anchor" id="acdba7ca61befddc0377f74b502f24a1c"></a><!-- doxytag: member="Quon::secTimerCount" ref="acdba7ca61befddc0377f74b502f24a1c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="classQuon.html#acdba7ca61befddc0377f74b502f24a1c">Quon::secTimerCount</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00128">128</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l01072">finishOverlay()</a>, <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>, and <a class="el" href="Quon_8cc_source.html#l00558">processSecTimer()</a>.</p>

</div>
</div>
<a class="anchor" id="a2538460ed4a813703ab98d2b3901c5d3"></a><!-- doxytag: member="Quon::Sites" ref="a2538460ed4a813703ab98d2b3901c5d3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="QuonHelper_8h.html#a2b5708283cf10ec2111ad58f7e75af82">QuonSiteMap</a> <a class="el" href="classQuon.html#a2538460ed4a813703ab98d2b3901c5d3">Quon::Sites</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00060">60</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00483">adaptAoI()</a>, <a class="el" href="Quon_8cc_source.html#l00300">addSite()</a>, <a class="el" href="Quon_8cc_source.html#l00360">classifySites()</a>, <a class="el" href="Quon_8cc_source.html#l00441">deleteSite()</a>, <a class="el" href="ConnectivityProbeQuon_8cc_source.html#l00286">ConnectivityProbeQuon::getComponentSize()</a>, <a class="el" href="Quon_8cc_source.html#l00736">handleEvent()</a>, <a class="el" href="Quon_8cc_source.html#l00930">handleInvalidNode()</a>, <a class="el" href="Quon_8cc_source.html#l00793">handleJoinAcknowledge()</a>, <a class="el" href="Quon_8cc_source.html#l00748">handleJoinRequest()</a>, <a class="el" href="Quon_8cc_source.html#l00671">handleMove()</a>, <a class="el" href="Quon_8cc_source.html#l00515">handleNodeGracefulLeaveNotification()</a>, <a class="el" href="Quon_8cc_source.html#l00823">handleNodeMove()</a>, <a class="el" href="Quon_8cc_source.html#l00598">processAliveTimer()</a>, <a class="el" href="Quon_8cc_source.html#l00558">processSecTimer()</a>, <a class="el" href="Quon_8cc_source.html#l00458">purgeSites()</a>, <a class="el" href="Quon_8cc_source.html#l00958">synchronizeAppNeighbors()</a>, and <a class="el" href="Quon_8cc_source.html#l01142">~Quon()</a>.</p>

</div>
</div>
<a class="anchor" id="ad842d00209159d0d47c0abe7aec573c2"></a><!-- doxytag: member="Quon::softConnections" ref="ad842d00209159d0d47c0abe7aec573c2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long <a class="el" href="classQuon.html#ad842d00209159d0d47c0abe7aec573c2">Quon::softConnections</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00124">124</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l01134">getSoftNeighborCount()</a>, <a class="el" href="Quon_8cc_source.html#l00671">handleMove()</a>, and <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>.</p>

</div>
</div>
<a class="anchor" id="a5450bc23ca2b380316b38903536cad1c"></a><!-- doxytag: member="Quon::softNeighborCount" ref="a5450bc23ca2b380316b38903536cad1c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long <a class="el" href="classQuon.html#a5450bc23ca2b380316b38903536cad1c">Quon::softNeighborCount</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00125">125</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l01072">finishOverlay()</a>, <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>, and <a class="el" href="Quon_8cc_source.html#l00558">processSecTimer()</a>.</p>

</div>
</div>
<a class="anchor" id="a5a21971a54b787e60309efd58b93636b"></a><!-- doxytag: member="Quon::thisSite" ref="a5a21971a54b787e60309efd58b93636b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQuonSite.html">QuonSite</a>* <a class="el" href="classQuon.html#a5a21971a54b787e60309efd58b93636b">Quon::thisSite</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00141">141</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00300">addSite()</a>, <a class="el" href="Quon_8cc_source.html#l00115">changeState()</a>, <a class="el" href="Quon_8cc_source.html#l00360">classifySites()</a>, <a class="el" href="Quon_8cc_source.html#l01128">getKey()</a>, <a class="el" href="Quon_8cc_source.html#l01116">getPosition()</a>, <a class="el" href="Quon_8cc_source.html#l00214">handleAppMessage()</a>, <a class="el" href="Quon_8cc_source.html#l00651">handleJoin()</a>, <a class="el" href="Quon_8cc_source.html#l00793">handleJoinAcknowledge()</a>, <a class="el" href="Quon_8cc_source.html#l00748">handleJoinRequest()</a>, <a class="el" href="Quon_8cc_source.html#l00671">handleMove()</a>, <a class="el" href="Quon_8cc_source.html#l00515">handleNodeGracefulLeaveNotification()</a>, <a class="el" href="Quon_8cc_source.html#l00823">handleNodeMove()</a>, <a class="el" href="Quon_8cc_source.html#l00245">handleUDPMessage()</a>, <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>, <a class="el" href="Quon_8cc_source.html#l00630">processBackupTimer()</a>, <a class="el" href="Quon_8cc_source.html#l01016">sendMessage()</a>, <a class="el" href="Quon_8cc_source.html#l01004">sendToApp()</a>, <a class="el" href="Quon_8cc_source.html#l00349">updateThisSite()</a>, and <a class="el" href="Quon_8cc_source.html#l01142">~Quon()</a>.</p>

</div>
</div>
<a class="anchor" id="a82f95ed825de6241bcf407bcb6732686"></a><!-- doxytag: member="Quon::useDynamicAOI" ref="a82f95ed825de6241bcf407bcb6732686" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classQuon.html#a82f95ed825de6241bcf407bcb6732686">Quon::useDynamicAOI</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00073">73</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00671">handleMove()</a>, <a class="el" href="Quon_8cc_source.html#l00823">handleNodeMove()</a>, and <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>.</p>

</div>
</div>
<a class="anchor" id="ad1c9991e5c1094281e552c88ea4f0612"></a><!-- doxytag: member="Quon::useSquareMetric" ref="ad1c9991e5c1094281e552c88ea4f0612" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classQuon.html#ad1c9991e5c1094281e552c88ea4f0612">Quon::useSquareMetric</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Quon_8h_source.html#l00074">74</a> of file <a class="el" href="Quon_8h_source.html">Quon.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00360">classifySites()</a>, <a class="el" href="Quon_8cc_source.html#l00823">handleNodeMove()</a>, and <a class="el" href="Quon_8cc_source.html#l00031">initializeOverlay()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Quon_8h_source.html">Quon.h</a></li>
<li><a class="el" href="Quon_8cc_source.html">Quon.cc</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Nov 3 2010 14:40:54 for OverSim by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
