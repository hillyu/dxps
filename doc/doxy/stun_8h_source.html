<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OverSim: stun.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="dir_668dee661430860db5868c2621a9c372.html">src</a>      </li>
      <li><a class="el" href="dir_12590045ec6dcd64f3c4ad499444ef83.html">underlay</a>      </li>
      <li><a class="el" href="dir_e7abd501ef2699b72177966ee598d65b.html">singlehostunderlay</a>      </li>
      <li><a class="el" href="dir_e172c4d23ca9cdab66e1c382ceb2ddaa.html">stun</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>stun.h</h1>  </div>
</div>
<div class="contents">
<a href="stun_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef STUN_H</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define STUN_H</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &lt;time.h&gt;</span>
<a name="l00006"></a>00006 
<a name="l00007"></a>00007 <span class="comment">// if you change this version, change in makefile too </span>
<a name="l00008"></a><a class="code" href="stun_8h.html#a86988c6804b5f1822cba20215bc4c5b4">00008</a> <span class="preprocessor">#define STUN_VERSION &quot;0.96&quot;</span>
<a name="l00009"></a>00009 <span class="preprocessor"></span>
<a name="l00010"></a><a class="code" href="stun_8h.html#ac4d86797b42c1696b7acbd715481c0b1">00010</a> <span class="preprocessor">#define STUN_MAX_STRING 256</span>
<a name="l00011"></a><a class="code" href="stun_8h.html#a4489609011ca5975a75b730c4efde8a4">00011</a> <span class="preprocessor"></span><span class="preprocessor">#define STUN_MAX_UNKNOWN_ATTRIBUTES 8</span>
<a name="l00012"></a><a class="code" href="stun_8h.html#a843bd5ac20b667ca26f5ac31162f2122">00012</a> <span class="preprocessor"></span><span class="preprocessor">#define STUN_MAX_MESSAGE_SIZE 2048</span>
<a name="l00013"></a>00013 <span class="preprocessor"></span>
<a name="l00014"></a><a class="code" href="stun_8h.html#a81e4fdb2a08afd19ef501855bb9fbeec">00014</a> <span class="preprocessor">#define STUN_PORT 3478</span>
<a name="l00015"></a>00015 <span class="preprocessor"></span>
<a name="l00016"></a>00016 <span class="comment">// define some basic types</span>
<a name="l00017"></a><a class="code" href="stun_8h.html#a9b66271558bfa5abc5095791246b540d">00017</a> <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>  UInt8;
<a name="l00018"></a><a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">00018</a> <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> UInt16;
<a name="l00019"></a><a class="code" href="stun_8h.html#a4cd0dc7d33ac7a69204e8429ecea0f86">00019</a> <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>   UInt32;
<a name="l00020"></a>00020 <span class="preprocessor">#if defined( WIN32 )</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> __int64 UInt64;
<a name="l00022"></a>00022 <span class="preprocessor">#else</span>
<a name="l00023"></a><a class="code" href="stun_8h.html#aa1d7d331b6d522d6d9840fece27108d8">00023</a> <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> UInt64;
<a name="l00024"></a>00024 <span class="preprocessor">#endif</span>
<a name="l00025"></a><a class="code" href="structUInt128.html#ad6062a8c4f066ea23ad6f42608eee6ea">00025</a> <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keyword">struct </span>{ <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> octet[16]; }  <a class="code" href="structUInt128.html">UInt128</a>;
<a name="l00026"></a>00026 
<a name="l00028"></a><a class="code" href="stun_8h.html#ac2c7bc41e1b918c98583006fd7025bc5">00028</a> <span class="keyword">const</span> <a class="code" href="stun_8h.html#a9b66271558bfa5abc5095791246b540d">UInt8</a>  <a class="code" href="stun_8h.html#ac2c7bc41e1b918c98583006fd7025bc5" title="define a structure to hold a stun address">IPv4Family</a> = 0x01;
<a name="l00029"></a><a class="code" href="stun_8h.html#a5da56f5efebd69e84bf5fdb74a02bf8a">00029</a> <span class="keyword">const</span> <a class="code" href="stun_8h.html#a9b66271558bfa5abc5095791246b540d">UInt8</a>  <a class="code" href="stun_8h.html#a5da56f5efebd69e84bf5fdb74a02bf8a">IPv6Family</a> = 0x02;
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 <span class="comment">// define  flags  </span>
<a name="l00032"></a><a class="code" href="stun_8h.html#ad0235d173b2af6e92be9843aaa585eef">00032</a> <span class="keyword">const</span> <a class="code" href="stun_8h.html#a4cd0dc7d33ac7a69204e8429ecea0f86">UInt32</a> <a class="code" href="stun_8h.html#ad0235d173b2af6e92be9843aaa585eef">ChangeIpFlag</a>   = 0x04;
<a name="l00033"></a><a class="code" href="stun_8h.html#a2f247c137dd06ef8971319b9a6078ef4">00033</a> <span class="keyword">const</span> <a class="code" href="stun_8h.html#a4cd0dc7d33ac7a69204e8429ecea0f86">UInt32</a> <a class="code" href="stun_8h.html#a2f247c137dd06ef8971319b9a6078ef4">ChangePortFlag</a> = 0x02;
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 <span class="comment">// define  stun attribute</span>
<a name="l00036"></a><a class="code" href="stun_8h.html#a2479ede510923cc5e8a0c2da5558acc3">00036</a> <span class="keyword">const</span> <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> <a class="code" href="stun_8h.html#a2479ede510923cc5e8a0c2da5558acc3">MappedAddress</a>    = 0x0001;
<a name="l00037"></a><a class="code" href="stun_8h.html#a91ab7c5c3d71a86a77679d0d2786fae8">00037</a> <span class="keyword">const</span> <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> <a class="code" href="stun_8h.html#a91ab7c5c3d71a86a77679d0d2786fae8">ResponseAddress</a>  = 0x0002;
<a name="l00038"></a><a class="code" href="stun_8h.html#a6183c3f6e20ddc5bf9acd531d37c4b08">00038</a> <span class="keyword">const</span> <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> <a class="code" href="stun_8h.html#a6183c3f6e20ddc5bf9acd531d37c4b08">ChangeRequest</a>    = 0x0003;
<a name="l00039"></a><a class="code" href="stun_8h.html#ab2b81c4c09625b39c5a1d57ee2b460a4">00039</a> <span class="keyword">const</span> <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> <a class="code" href="stun_8h.html#ab2b81c4c09625b39c5a1d57ee2b460a4">SourceAddress</a>    = 0x0004;
<a name="l00040"></a><a class="code" href="stun_8h.html#a930a1eeda1f0620132bfdea315e711f7">00040</a> <span class="keyword">const</span> <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> <a class="code" href="stun_8h.html#a930a1eeda1f0620132bfdea315e711f7">ChangedAddress</a>   = 0x0005;
<a name="l00041"></a><a class="code" href="stun_8h.html#a0845232ed07b469d1262348e1618b962">00041</a> <span class="keyword">const</span> <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> <a class="code" href="stun_8h.html#a0845232ed07b469d1262348e1618b962">Username</a>         = 0x0006;
<a name="l00042"></a><a class="code" href="stun_8h.html#a1741d36983135a1f2eefa1b1473956a2">00042</a> <span class="keyword">const</span> <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> <a class="code" href="stun_8h.html#a1741d36983135a1f2eefa1b1473956a2">Password</a>         = 0x0007;
<a name="l00043"></a><a class="code" href="stun_8h.html#a0371caac677f72f19ea073dd152197f0">00043</a> <span class="keyword">const</span> <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> <a class="code" href="stun_8h.html#a0371caac677f72f19ea073dd152197f0">MessageIntegrity</a> = 0x0008;
<a name="l00044"></a><a class="code" href="stun_8h.html#a750ec1534b2aebc05c90b9e6fe9532c7">00044</a> <span class="keyword">const</span> <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> <a class="code" href="stun_8h.html#a750ec1534b2aebc05c90b9e6fe9532c7">ErrorCode</a>        = 0x0009;
<a name="l00045"></a><a class="code" href="stun_8h.html#ac5d0f4ecd6bc741747a3ff79b6e5a96c">00045</a> <span class="keyword">const</span> <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> <a class="code" href="stun_8h.html#ac5d0f4ecd6bc741747a3ff79b6e5a96c">UnknownAttribute</a> = 0x000A;
<a name="l00046"></a><a class="code" href="stun_8h.html#a11d1c4b717d340b20582ac7dead1cd49">00046</a> <span class="keyword">const</span> <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> <a class="code" href="stun_8h.html#a11d1c4b717d340b20582ac7dead1cd49">ReflectedFrom</a>    = 0x000B;
<a name="l00047"></a><a class="code" href="stun_8h.html#afd742381f8d8131e21dac399b8a26c3a">00047</a> <span class="keyword">const</span> <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> <a class="code" href="stun_8h.html#afd742381f8d8131e21dac399b8a26c3a">XorMappedAddress</a> = 0x8020;
<a name="l00048"></a><a class="code" href="stun_8h.html#a615f23f67cf9c716c91fa445e272da3c">00048</a> <span class="keyword">const</span> <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> <a class="code" href="stun_8h.html#a615f23f67cf9c716c91fa445e272da3c">XorOnly</a>          = 0x0021;
<a name="l00049"></a><a class="code" href="stun_8h.html#a53f47b517798fa3e1b64313d04168ea2">00049</a> <span class="keyword">const</span> <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> <a class="code" href="stun_8h.html#a53f47b517798fa3e1b64313d04168ea2">ServerName</a>       = 0x8022;
<a name="l00050"></a><a class="code" href="stun_8h.html#a4d77a59e0dc2c3c06deb3730baa78f80">00050</a> <span class="keyword">const</span> <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> <a class="code" href="stun_8h.html#a4d77a59e0dc2c3c06deb3730baa78f80">SecondaryAddress</a> = 0x8050; <span class="comment">// Non standard extention</span>
<a name="l00051"></a>00051 
<a name="l00052"></a>00052 <span class="comment">// define types for a stun message </span>
<a name="l00053"></a><a class="code" href="stun_8h.html#a4dfa49ebae731be7b582f0fc7b57d429">00053</a> <span class="keyword">const</span> <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> <a class="code" href="stun_8h.html#a4dfa49ebae731be7b582f0fc7b57d429">BindRequestMsg</a>               = 0x0001;
<a name="l00054"></a><a class="code" href="stun_8h.html#af0396ed8e86ae295115e3c2d42a7f1ad">00054</a> <span class="keyword">const</span> <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> <a class="code" href="stun_8h.html#af0396ed8e86ae295115e3c2d42a7f1ad">BindResponseMsg</a>              = 0x0101;
<a name="l00055"></a><a class="code" href="stun_8h.html#ae440f0f666689240a0aa0f450d1783ab">00055</a> <span class="keyword">const</span> <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> <a class="code" href="stun_8h.html#ae440f0f666689240a0aa0f450d1783ab">BindErrorResponseMsg</a>         = 0x0111;
<a name="l00056"></a><a class="code" href="stun_8h.html#a03609184bf06df206ab09c4102428a33">00056</a> <span class="keyword">const</span> <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> <a class="code" href="stun_8h.html#a03609184bf06df206ab09c4102428a33">SharedSecretRequestMsg</a>       = 0x0002;
<a name="l00057"></a><a class="code" href="stun_8h.html#af179b3b160dd9d71db8bcff29500504c">00057</a> <span class="keyword">const</span> <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> <a class="code" href="stun_8h.html#af179b3b160dd9d71db8bcff29500504c">SharedSecretResponseMsg</a>      = 0x0102;
<a name="l00058"></a><a class="code" href="stun_8h.html#aaaa9b37f28fbe5021e650eaccd372d4d">00058</a> <span class="keyword">const</span> <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> <a class="code" href="stun_8h.html#aaaa9b37f28fbe5021e650eaccd372d4d">SharedSecretErrorResponseMsg</a> = 0x0112;
<a name="l00059"></a>00059 
<a name="l00060"></a><a class="code" href="structStunMsgHdr.html">00060</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>
<a name="l00061"></a>00061 {
<a name="l00062"></a><a class="code" href="structStunMsgHdr.html#a7cc96e6cbb87582e56f298eb891c43e2">00062</a>       <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> msgType;
<a name="l00063"></a><a class="code" href="structStunMsgHdr.html#a619e2158af7fd1b3de12b88899a7c5dd">00063</a>       <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> msgLength;
<a name="l00064"></a><a class="code" href="structStunMsgHdr.html#a97a1d0da450500ddc5a6fad924e50c87">00064</a>       <a class="code" href="structUInt128.html">UInt128</a> id;
<a name="l00065"></a>00065 } <a class="code" href="structStunMsgHdr.html">StunMsgHdr</a>;
<a name="l00066"></a>00066 
<a name="l00067"></a>00067 
<a name="l00068"></a><a class="code" href="structStunAtrHdr.html">00068</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00069"></a>00069 {
<a name="l00070"></a><a class="code" href="structStunAtrHdr.html#a303835ac7916984e097587ad499b568e">00070</a>       <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> type;
<a name="l00071"></a><a class="code" href="structStunAtrHdr.html#a979c6bd5a4c93128cc316bef605191f5">00071</a>       <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> length;
<a name="l00072"></a>00072 } <a class="code" href="structStunAtrHdr.html">StunAtrHdr</a>;
<a name="l00073"></a>00073 
<a name="l00074"></a><a class="code" href="structStunAddress4.html">00074</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00075"></a>00075 {
<a name="l00076"></a><a class="code" href="structStunAddress4.html#a182b25091f39b6f1d9904a02bcbeb43b">00076</a>       <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> port;
<a name="l00077"></a><a class="code" href="structStunAddress4.html#a870846bf1b2de80c031948f0795e24c6">00077</a>       <a class="code" href="stun_8h.html#a4cd0dc7d33ac7a69204e8429ecea0f86">UInt32</a> addr;
<a name="l00078"></a>00078 } <a class="code" href="structStunAddress4.html">StunAddress4</a>;
<a name="l00079"></a>00079 
<a name="l00080"></a><a class="code" href="structStunAtrAddress4.html">00080</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00081"></a>00081 {
<a name="l00082"></a><a class="code" href="structStunAtrAddress4.html#afe6ed0534166b0fd194b23b01ddad7b4">00082</a>       <a class="code" href="stun_8h.html#a9b66271558bfa5abc5095791246b540d">UInt8</a> pad;
<a name="l00083"></a><a class="code" href="structStunAtrAddress4.html#ab31f05e3cba900d7613bc9f226f171d0">00083</a>       <a class="code" href="stun_8h.html#a9b66271558bfa5abc5095791246b540d">UInt8</a> family;
<a name="l00084"></a><a class="code" href="structStunAtrAddress4.html#a80b81fdc81e96531c1fecd5b9b5125c4">00084</a>       <a class="code" href="structStunAddress4.html">StunAddress4</a> ipv4;
<a name="l00085"></a>00085 } <a class="code" href="structStunAtrAddress4.html">StunAtrAddress4</a>;
<a name="l00086"></a>00086 
<a name="l00087"></a><a class="code" href="structStunAtrChangeRequest.html">00087</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00088"></a>00088 {
<a name="l00089"></a><a class="code" href="structStunAtrChangeRequest.html#adbb006a8e7cc0637d01959c8ba985c0c">00089</a>       <a class="code" href="stun_8h.html#a4cd0dc7d33ac7a69204e8429ecea0f86">UInt32</a> value;
<a name="l00090"></a>00090 } <a class="code" href="structStunAtrChangeRequest.html">StunAtrChangeRequest</a>;
<a name="l00091"></a>00091 
<a name="l00092"></a><a class="code" href="structStunAtrError.html">00092</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00093"></a>00093 {
<a name="l00094"></a><a class="code" href="structStunAtrError.html#ae2d32994bcf7387452902e139f2b652f">00094</a>       <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> pad; <span class="comment">// all 0</span>
<a name="l00095"></a><a class="code" href="structStunAtrError.html#aef65890aa74d342d326ea74000064be5">00095</a>       <a class="code" href="stun_8h.html#a9b66271558bfa5abc5095791246b540d">UInt8</a> errorClass;
<a name="l00096"></a><a class="code" href="structStunAtrError.html#abdee224c138f23ad06aeb97ed9d6e0fe">00096</a>       <a class="code" href="stun_8h.html#a9b66271558bfa5abc5095791246b540d">UInt8</a> number;
<a name="l00097"></a><a class="code" href="structStunAtrError.html#a3bb11d3802d0bfe65a153d8a6bccd472">00097</a>       <span class="keywordtype">char</span> reason[STUN_MAX_STRING];
<a name="l00098"></a><a class="code" href="structStunAtrError.html#adcac61cdac715d64ebaa78e6847e1108">00098</a>       <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> sizeReason;
<a name="l00099"></a>00099 } <a class="code" href="structStunAtrError.html">StunAtrError</a>;
<a name="l00100"></a>00100 
<a name="l00101"></a><a class="code" href="structStunAtrUnknown.html">00101</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00102"></a>00102 {
<a name="l00103"></a><a class="code" href="structStunAtrUnknown.html#a2a9ac6afb38e1f951bc7cb8ec0b2a888">00103</a>       <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> attrType[STUN_MAX_UNKNOWN_ATTRIBUTES];
<a name="l00104"></a><a class="code" href="structStunAtrUnknown.html#a39f2cca60b76d9476cd2a61a349e72d6">00104</a>       <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> numAttributes;
<a name="l00105"></a>00105 } <a class="code" href="structStunAtrUnknown.html">StunAtrUnknown</a>;
<a name="l00106"></a>00106 
<a name="l00107"></a><a class="code" href="structStunAtrString.html">00107</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00108"></a>00108 {
<a name="l00109"></a><a class="code" href="structStunAtrString.html#a609965b0f07f831423bda6aaa1b852dc">00109</a>       <span class="keywordtype">char</span> value[STUN_MAX_STRING];      
<a name="l00110"></a><a class="code" href="structStunAtrString.html#aa1e288247a4ae07b170ecf956bdd48c9">00110</a>       <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> sizeValue;
<a name="l00111"></a>00111 } <a class="code" href="structStunAtrString.html">StunAtrString</a>;
<a name="l00112"></a>00112 
<a name="l00113"></a><a class="code" href="structStunAtrIntegrity.html">00113</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00114"></a>00114 {
<a name="l00115"></a><a class="code" href="structStunAtrIntegrity.html#a584fa6b758583be87dfad5c10da9fd44">00115</a>       <span class="keywordtype">char</span> hash[20];
<a name="l00116"></a>00116 } <a class="code" href="structStunAtrIntegrity.html">StunAtrIntegrity</a>;
<a name="l00117"></a>00117 
<a name="l00118"></a><a class="code" href="stun_8h.html#a34b28b79962a644f2df54bfa8386c634">00118</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> 
<a name="l00119"></a>00119 {
<a name="l00120"></a><a class="code" href="stun_8h.html#a34b28b79962a644f2df54bfa8386c634a8884039082a87797e3274859c476933d">00120</a>    <a class="code" href="stun_8h.html#a34b28b79962a644f2df54bfa8386c634a8884039082a87797e3274859c476933d">HmacUnkown</a>=0,
<a name="l00121"></a><a class="code" href="stun_8h.html#a34b28b79962a644f2df54bfa8386c634ae30d219a67299e2de2de0f92ea271500">00121</a>    HmacOK,
<a name="l00122"></a><a class="code" href="stun_8h.html#a34b28b79962a644f2df54bfa8386c634a78a33c91a6ba7b1b26a52b049d505d9a">00122</a>    HmacBadUserName,
<a name="l00123"></a><a class="code" href="stun_8h.html#a34b28b79962a644f2df54bfa8386c634a837bdc7282cb4582526324d37a307c0c">00123</a>    HmacUnkownUserName,
<a name="l00124"></a><a class="code" href="stun_8h.html#a34b28b79962a644f2df54bfa8386c634aebbbf675be80e2fbaa87c800065572f9">00124</a>    HmacFailed,
<a name="l00125"></a>00125 } StunHmacStatus;
<a name="l00126"></a>00126 
<a name="l00127"></a><a class="code" href="structStunMessage.html">00127</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00128"></a>00128 {
<a name="l00129"></a><a class="code" href="structStunMessage.html#a4928bac8dd595927e7ebab4610f316f6">00129</a>       <a class="code" href="structStunMsgHdr.html">StunMsgHdr</a> msgHdr;
<a name="l00130"></a>00130         
<a name="l00131"></a><a class="code" href="structStunMessage.html#a605889708c9696c60f1284b3c486ca18">00131</a>       <span class="keywordtype">bool</span> hasMappedAddress;
<a name="l00132"></a><a class="code" href="structStunMessage.html#a7c354e1ca2aae9d180c98e6b12ba879c">00132</a>       <a class="code" href="structStunAtrAddress4.html">StunAtrAddress4</a>  mappedAddress;
<a name="l00133"></a>00133         
<a name="l00134"></a><a class="code" href="structStunMessage.html#ab7926e7d5ceb2d9c3337439ec89ec87d">00134</a>       <span class="keywordtype">bool</span> hasResponseAddress;
<a name="l00135"></a><a class="code" href="structStunMessage.html#adb06537683f153438687995e8d1783c6">00135</a>       <a class="code" href="structStunAtrAddress4.html">StunAtrAddress4</a>  responseAddress;
<a name="l00136"></a>00136         
<a name="l00137"></a><a class="code" href="structStunMessage.html#a0fe2488f060fe65507c9a58bbb66899f">00137</a>       <span class="keywordtype">bool</span> hasChangeRequest;
<a name="l00138"></a><a class="code" href="structStunMessage.html#a65e5de40376764ea12d96f5b5ebe2c29">00138</a>       <a class="code" href="structStunAtrChangeRequest.html">StunAtrChangeRequest</a> changeRequest;
<a name="l00139"></a>00139         
<a name="l00140"></a><a class="code" href="structStunMessage.html#a5feb7431931118218d78642c4a7c83db">00140</a>       <span class="keywordtype">bool</span> hasSourceAddress;
<a name="l00141"></a><a class="code" href="structStunMessage.html#ab7203fc2e5a8b1248c9e14ce6e6ec313">00141</a>       <a class="code" href="structStunAtrAddress4.html">StunAtrAddress4</a> sourceAddress;
<a name="l00142"></a>00142         
<a name="l00143"></a><a class="code" href="structStunMessage.html#a4d3036e012cce04e6be670898f4e24eb">00143</a>       <span class="keywordtype">bool</span> hasChangedAddress;
<a name="l00144"></a><a class="code" href="structStunMessage.html#ac240bd9424c010b74411679f1813a705">00144</a>       <a class="code" href="structStunAtrAddress4.html">StunAtrAddress4</a> changedAddress;
<a name="l00145"></a>00145         
<a name="l00146"></a><a class="code" href="structStunMessage.html#a2a22a4f1560b25fcf5247647885bab3c">00146</a>       <span class="keywordtype">bool</span> hasUsername;
<a name="l00147"></a><a class="code" href="structStunMessage.html#ab5c364c8f9339a6d4f314ce3819ed1fd">00147</a>       <a class="code" href="structStunAtrString.html">StunAtrString</a> username;
<a name="l00148"></a>00148         
<a name="l00149"></a><a class="code" href="structStunMessage.html#ac09b6e5f081db9f5ec2c1a4532676366">00149</a>       <span class="keywordtype">bool</span> hasPassword;
<a name="l00150"></a><a class="code" href="structStunMessage.html#aa15cab0d5b2a9a044895e81d527c1b68">00150</a>       <a class="code" href="structStunAtrString.html">StunAtrString</a> password;
<a name="l00151"></a>00151         
<a name="l00152"></a><a class="code" href="structStunMessage.html#a2a47413181e29d0de7063d4bfa6609ff">00152</a>       <span class="keywordtype">bool</span> hasMessageIntegrity;
<a name="l00153"></a><a class="code" href="structStunMessage.html#a1b2c965443dc78688973c049713072d0">00153</a>       <a class="code" href="structStunAtrIntegrity.html">StunAtrIntegrity</a> messageIntegrity;
<a name="l00154"></a>00154         
<a name="l00155"></a><a class="code" href="structStunMessage.html#afe66349979726d392fa4f0c9c84ebedf">00155</a>       <span class="keywordtype">bool</span> hasErrorCode;
<a name="l00156"></a><a class="code" href="structStunMessage.html#a8e6a7183381efea4e4a92e2b4e8bba6a">00156</a>       <a class="code" href="structStunAtrError.html">StunAtrError</a> errorCode;
<a name="l00157"></a>00157         
<a name="l00158"></a><a class="code" href="structStunMessage.html#a29507d464e9900ced2ce92c75bb158a4">00158</a>       <span class="keywordtype">bool</span> hasUnknownAttributes;
<a name="l00159"></a><a class="code" href="structStunMessage.html#a40311e31449afb24c3e40db8c8fc6911">00159</a>       <a class="code" href="structStunAtrUnknown.html">StunAtrUnknown</a> unknownAttributes;
<a name="l00160"></a>00160         
<a name="l00161"></a><a class="code" href="structStunMessage.html#ab88124a21ca8562a44a696ed4b39fa4f">00161</a>       <span class="keywordtype">bool</span> hasReflectedFrom;
<a name="l00162"></a><a class="code" href="structStunMessage.html#ab80a59189b1b938698339f788417f32b">00162</a>       <a class="code" href="structStunAtrAddress4.html">StunAtrAddress4</a> reflectedFrom;
<a name="l00163"></a>00163 
<a name="l00164"></a><a class="code" href="structStunMessage.html#a8e149870681eebee0a55b0f630c89471">00164</a>       <span class="keywordtype">bool</span> hasXorMappedAddress;
<a name="l00165"></a><a class="code" href="structStunMessage.html#a2ef5db0ff5bd395800262b8b9d49b6bb">00165</a>       <a class="code" href="structStunAtrAddress4.html">StunAtrAddress4</a>  xorMappedAddress;
<a name="l00166"></a>00166         
<a name="l00167"></a><a class="code" href="structStunMessage.html#ad2d3b64955956272841f656fe354aa18">00167</a>       <span class="keywordtype">bool</span> xorOnly;
<a name="l00168"></a>00168 
<a name="l00169"></a><a class="code" href="structStunMessage.html#afcf544b5b0663edad215525b8bcd67df">00169</a>       <span class="keywordtype">bool</span> hasServerName;
<a name="l00170"></a><a class="code" href="structStunMessage.html#a1998c160a79020e146957c14ae1add11">00170</a>       <a class="code" href="structStunAtrString.html">StunAtrString</a> serverName;
<a name="l00171"></a>00171       
<a name="l00172"></a><a class="code" href="structStunMessage.html#ace894f36510487ec8151609513974eba">00172</a>       <span class="keywordtype">bool</span> hasSecondaryAddress;
<a name="l00173"></a><a class="code" href="structStunMessage.html#a8fc16bd394228aa6fa6e1f5f98c356c1">00173</a>       <a class="code" href="structStunAtrAddress4.html">StunAtrAddress4</a> secondaryAddress;
<a name="l00174"></a>00174 } <a class="code" href="structStunMessage.html">StunMessage</a>; 
<a name="l00175"></a>00175 
<a name="l00176"></a>00176 
<a name="l00177"></a>00177 <span class="comment">// Define enum with different types of NAT </span>
<a name="l00178"></a><a class="code" href="stun_8h.html#a73736c0f7526e31ef6a35dcc0ebd34ce">00178</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> 
<a name="l00179"></a>00179 {
<a name="l00180"></a><a class="code" href="stun_8h.html#a73736c0f7526e31ef6a35dcc0ebd34cea22d9f771676123aeb3cabcbdea95c926">00180</a>    <a class="code" href="stun_8h.html#a73736c0f7526e31ef6a35dcc0ebd34cea22d9f771676123aeb3cabcbdea95c926">StunTypeUnknown</a>=0,
<a name="l00181"></a><a class="code" href="stun_8h.html#a73736c0f7526e31ef6a35dcc0ebd34cea3ef48e691e03655d2d1822c10f7ffd13">00181</a>    StunTypeFailure,
<a name="l00182"></a><a class="code" href="stun_8h.html#a73736c0f7526e31ef6a35dcc0ebd34cea5f2fd642b25cc39e78472ec266efbf4e">00182</a>    StunTypeOpen,
<a name="l00183"></a><a class="code" href="stun_8h.html#a73736c0f7526e31ef6a35dcc0ebd34ceae373da39e99f592df2c2d4f3c1ff1ecf">00183</a>    StunTypeBlocked,
<a name="l00184"></a>00184 
<a name="l00185"></a><a class="code" href="stun_8h.html#a73736c0f7526e31ef6a35dcc0ebd34cea6dafa9c39c0d631d6f8f6cd267a3ff22">00185</a>    StunTypeIndependentFilter,
<a name="l00186"></a><a class="code" href="stun_8h.html#a73736c0f7526e31ef6a35dcc0ebd34cea95e89f62cc776f2748e6b7acab9ca21b">00186</a>    StunTypeDependentFilter,
<a name="l00187"></a><a class="code" href="stun_8h.html#a73736c0f7526e31ef6a35dcc0ebd34ceaa88866074d2d5647775372d25b3fce1c">00187</a>    StunTypePortDependedFilter,
<a name="l00188"></a><a class="code" href="stun_8h.html#a73736c0f7526e31ef6a35dcc0ebd34cea4c280e1f155fc93c334cc7ecbc604d53">00188</a>    StunTypeDependentMapping,
<a name="l00189"></a>00189 
<a name="l00190"></a>00190    <span class="comment">//StunTypeConeNat,</span>
<a name="l00191"></a>00191    <span class="comment">//StunTypeRestrictedNat,</span>
<a name="l00192"></a>00192    <span class="comment">//StunTypePortRestrictedNat,</span>
<a name="l00193"></a>00193    <span class="comment">//StunTypeSymNat,</span>
<a name="l00194"></a>00194    
<a name="l00195"></a><a class="code" href="stun_8h.html#a73736c0f7526e31ef6a35dcc0ebd34cea9261e686e3bb05ccc44ca40b467f0114">00195</a>    StunTypeFirewall,
<a name="l00196"></a>00196 } NatType;
<a name="l00197"></a>00197 
<a name="l00198"></a>00198 <span class="preprocessor">#ifdef WIN32</span>
<a name="l00199"></a>00199 <span class="preprocessor"></span><span class="keyword">typedef</span> SOCKET Socket;
<a name="l00200"></a>00200 <span class="preprocessor">#else</span>
<a name="l00201"></a><a class="code" href="stun_8h.html#af9381320a2640ea84038579d8f143c01">00201</a> <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keywordtype">int</span> Socket;
<a name="l00202"></a>00202 <span class="preprocessor">#endif</span>
<a name="l00203"></a>00203 <span class="preprocessor"></span>
<a name="l00204"></a><a class="code" href="stun_8h.html#ae3baa55fefdb49c61bf73f191fec0f59">00204</a> <span class="preprocessor">#define MAX_MEDIA_RELAYS 500</span>
<a name="l00205"></a><a class="code" href="stun_8h.html#a17610f040b1f2d5fbe9af5ab07884586">00205</a> <span class="preprocessor"></span><span class="preprocessor">#define MAX_RTP_MSG_SIZE 1500</span>
<a name="l00206"></a><a class="code" href="stun_8h.html#ac3b4f67bb4d04b4a158671e04b0a3352">00206</a> <span class="preprocessor"></span><span class="preprocessor">#define MEDIA_RELAY_TIMEOUT 3*60</span>
<a name="l00207"></a>00207 <span class="preprocessor"></span>
<a name="l00208"></a><a class="code" href="structStunMediaRelay.html">00208</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>
<a name="l00209"></a>00209 {
<a name="l00210"></a><a class="code" href="structStunMediaRelay.html#a18c86cb9d0058de5ab6b5adf449a275b">00210</a>       <span class="keywordtype">int</span> relayPort;       <span class="comment">// media relay port</span>
<a name="l00211"></a><a class="code" href="structStunMediaRelay.html#aebc07662e0b3728286c6da02d29806e8">00211</a>       <span class="keywordtype">int</span> fd;              <span class="comment">// media relay file descriptor</span>
<a name="l00212"></a><a class="code" href="structStunMediaRelay.html#a3adead8f4ff0c1b71bee2aecfa88f641">00212</a>       <a class="code" href="structStunAddress4.html">StunAddress4</a> destination; <span class="comment">// NAT IP:port</span>
<a name="l00213"></a><a class="code" href="structStunMediaRelay.html#a16873193e181c40809e3f3f91bfb78ff">00213</a>       time_t expireTime;      <span class="comment">// if no activity after time, close the socket </span>
<a name="l00214"></a>00214 } <a class="code" href="structStunMediaRelay.html">StunMediaRelay</a>;
<a name="l00215"></a>00215 
<a name="l00216"></a><a class="code" href="structStunServerInfo.html">00216</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00217"></a>00217 {
<a name="l00218"></a><a class="code" href="structStunServerInfo.html#a9abf6e6b89123dd6d7a71bba5a0b77d6">00218</a>       <a class="code" href="structStunAddress4.html">StunAddress4</a> myAddr;
<a name="l00219"></a><a class="code" href="structStunServerInfo.html#ac6295f141e0926994747bbc198a19d55">00219</a>       <a class="code" href="structStunAddress4.html">StunAddress4</a> altAddr;
<a name="l00220"></a><a class="code" href="structStunServerInfo.html#afa85d638d48bf0598161a7e9158aba3f">00220</a>       <a class="code" href="stun_8h.html#af9381320a2640ea84038579d8f143c01">Socket</a> myFd;
<a name="l00221"></a><a class="code" href="structStunServerInfo.html#a2da8a94e9a9867e7c5d3b3e3c317120c">00221</a>       <a class="code" href="stun_8h.html#af9381320a2640ea84038579d8f143c01">Socket</a> altPortFd;
<a name="l00222"></a><a class="code" href="structStunServerInfo.html#ac9e3ea9e1322857b20f4d21211d8ca99">00222</a>       <a class="code" href="stun_8h.html#af9381320a2640ea84038579d8f143c01">Socket</a> altIpFd;
<a name="l00223"></a><a class="code" href="structStunServerInfo.html#af14364029dec110da68c7ca855d91b2d">00223</a>       <a class="code" href="stun_8h.html#af9381320a2640ea84038579d8f143c01">Socket</a> altIpPortFd;
<a name="l00224"></a><a class="code" href="structStunServerInfo.html#a5dcc784d754928455caab60d6a34f73e">00224</a>       <span class="keywordtype">bool</span> relay; <span class="comment">// true if media relaying is to be done</span>
<a name="l00225"></a><a class="code" href="structStunServerInfo.html#aed8568086c549986f985f02a691da173">00225</a>       <a class="code" href="structStunMediaRelay.html">StunMediaRelay</a> relays[MAX_MEDIA_RELAYS];
<a name="l00226"></a>00226 } <a class="code" href="structStunServerInfo.html">StunServerInfo</a>;
<a name="l00227"></a>00227 
<a name="l00228"></a>00228 <span class="keywordtype">bool</span>
<a name="l00229"></a>00229 <a class="code" href="stun_8cc.html#af81c30137f26a4cb158b48aa21f4f681">stunParseMessage</a>( <span class="keywordtype">char</span>* buf, 
<a name="l00230"></a>00230                   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bufLen, 
<a name="l00231"></a>00231                   <a class="code" href="structStunMessage.html">StunMessage</a>&amp; message, 
<a name="l00232"></a>00232                   <span class="keywordtype">bool</span> verbose );
<a name="l00233"></a>00233 
<a name="l00234"></a>00234 <span class="keywordtype">void</span>
<a name="l00235"></a>00235 <a class="code" href="stun_8cc.html#a07bb6d28e9a67cc882184b04c227e82b">stunBuildReqSimple</a>( <a class="code" href="structStunMessage.html">StunMessage</a>* msg,
<a name="l00236"></a>00236                     <span class="keyword">const</span> <a class="code" href="structStunAtrString.html">StunAtrString</a>&amp; username,
<a name="l00237"></a>00237                     <span class="keywordtype">bool</span> changePort, <span class="keywordtype">bool</span> changeIp, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <span class="keywordtype">id</span>=0 );
<a name="l00238"></a>00238 
<a name="l00239"></a>00239 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l00240"></a>00240 <a class="code" href="stun_8cc.html#a4f9e869279d41bbf1785d321b4360f61">stunEncodeMessage</a>( <span class="keyword">const</span> <a class="code" href="structStunMessage.html">StunMessage</a>&amp; message, 
<a name="l00241"></a>00241                    <span class="keywordtype">char</span>* buf, 
<a name="l00242"></a>00242                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bufLen, 
<a name="l00243"></a>00243                    <span class="keyword">const</span> <a class="code" href="structStunAtrString.html">StunAtrString</a>&amp; password,
<a name="l00244"></a>00244                    <span class="keywordtype">bool</span> verbose);
<a name="l00245"></a>00245 
<a name="l00246"></a>00246 <span class="keywordtype">void</span>
<a name="l00247"></a>00247 <a class="code" href="stun_8cc.html#a5f442520a968eaa3f90caa8dcd40bd33">stunCreateUserName</a>(<span class="keyword">const</span> <a class="code" href="structStunAddress4.html">StunAddress4</a>&amp; addr, <a class="code" href="structStunAtrString.html">StunAtrString</a>* username);
<a name="l00248"></a>00248 
<a name="l00249"></a>00249 <span class="keywordtype">void</span> 
<a name="l00250"></a>00250 <a class="code" href="stun_8cc.html#ae9317a5a127d1281953d961bcfbd2496">stunGetUserNameAndPassword</a>(  <span class="keyword">const</span> <a class="code" href="structStunAddress4.html">StunAddress4</a>&amp; dest, 
<a name="l00251"></a>00251                              <a class="code" href="structStunAtrString.html">StunAtrString</a>* username,
<a name="l00252"></a>00252                              <a class="code" href="structStunAtrString.html">StunAtrString</a>* password);
<a name="l00253"></a>00253 
<a name="l00254"></a>00254 <span class="keywordtype">void</span>
<a name="l00255"></a>00255 <a class="code" href="stun_8cc.html#aa8926aedab40d08f5cff31d759415962">stunCreatePassword</a>(<span class="keyword">const</span> <a class="code" href="structStunAtrString.html">StunAtrString</a>&amp; username, <a class="code" href="structStunAtrString.html">StunAtrString</a>* password);
<a name="l00256"></a>00256 
<a name="l00257"></a>00257 <span class="keywordtype">int</span> 
<a name="l00258"></a>00258 <a class="code" href="stun_8cc.html#a67e399c9420f09178de194bee0bde87a">stunRand</a>();
<a name="l00259"></a>00259 
<a name="l00260"></a>00260 <a class="code" href="stun_8h.html#aa1d7d331b6d522d6d9840fece27108d8">UInt64</a>
<a name="l00261"></a>00261 <a class="code" href="stun_8cc.html#a43c07bd7f476e16ea3e48a1033e90ba0">stunGetSystemTimeSecs</a>();
<a name="l00262"></a>00262 
<a name="l00264"></a>00264 <span class="keywordtype">bool</span>  
<a name="l00265"></a>00265 <a class="code" href="stun_8cc.html#acc6ab05f9237a355919b963c6835ec9e" title="find the IP address of a the specified stun server - return false is fails parse">stunParseServerName</a>( <span class="keywordtype">char</span>* serverName, <a class="code" href="structStunAddress4.html">StunAddress4</a>&amp; stunServerAddr);
<a name="l00266"></a>00266 
<a name="l00267"></a>00267 <span class="keywordtype">bool</span> 
<a name="l00268"></a>00268 <a class="code" href="stun_8cc.html#af497f133b72e1dc4595d9d293d706351">stunParseHostName</a>( <span class="keywordtype">char</span>* peerName,
<a name="l00269"></a>00269                    <a class="code" href="stun_8h.html#a4cd0dc7d33ac7a69204e8429ecea0f86">UInt32</a>&amp; ip,
<a name="l00270"></a>00270                    <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a>&amp; portVal,
<a name="l00271"></a>00271                    <a class="code" href="stun_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> defaultPort );
<a name="l00272"></a>00272 
<a name="l00275"></a>00275 <span class="keywordtype">bool</span>
<a name="l00276"></a>00276 <a class="code" href="stun_8cc.html#a99639b68ee528c79e96973a2642184a4" title="return true if all is OK Create a media relay and do the STERN thing if startMediaPort is non-zero...">stunInitServer</a>(<a class="code" href="structStunServerInfo.html">StunServerInfo</a>&amp; info, 
<a name="l00277"></a>00277                <span class="keyword">const</span> <a class="code" href="structStunAddress4.html">StunAddress4</a>&amp; myAddr, 
<a name="l00278"></a>00278                <span class="keyword">const</span> <a class="code" href="structStunAddress4.html">StunAddress4</a>&amp; altAddr,
<a name="l00279"></a>00279                <span class="keywordtype">int</span> startMediaPort,
<a name="l00280"></a>00280                <span class="keywordtype">bool</span> verbose);
<a name="l00281"></a>00281 
<a name="l00282"></a>00282 <span class="keywordtype">void</span>
<a name="l00283"></a>00283 <a class="code" href="stun_8cc.html#a9ed82a9b4b17f3f4d9bf1fd4d5b8bfd2">stunStopServer</a>(<a class="code" href="structStunServerInfo.html">StunServerInfo</a>&amp; info);
<a name="l00284"></a>00284 
<a name="l00286"></a>00286 <span class="keywordtype">bool</span>
<a name="l00287"></a>00287 <a class="code" href="stun_8cc.html#a9c0e750bd19cdfcf4b2b36f9ddefc497" title="return true if all is OK">stunServerProcess</a>(<a class="code" href="structStunServerInfo.html">StunServerInfo</a>&amp; info, <span class="keywordtype">bool</span> verbose);
<a name="l00288"></a>00288 
<a name="l00290"></a>00290 <span class="keywordtype">int</span> 
<a name="l00291"></a>00291 <a class="code" href="stun_8cc.html#a7c8890aa737ed2b41734471121af77a2" title="returns number of address found - take array or addres">stunFindLocalInterfaces</a>(<a class="code" href="stun_8h.html#a4cd0dc7d33ac7a69204e8429ecea0f86">UInt32</a>* addresses, <span class="keywordtype">int</span> maxSize );
<a name="l00292"></a>00292 
<a name="l00293"></a>00293 <span class="keywordtype">void</span> 
<a name="l00294"></a>00294 <a class="code" href="stun_8cc.html#a3e28deadbde134f7d00a0f35e70267c6">stunTest</a>( <a class="code" href="structStunAddress4.html">StunAddress4</a>&amp; dest, <span class="keywordtype">int</span> testNum, <span class="keywordtype">bool</span> verbose, <a class="code" href="structStunAddress4.html">StunAddress4</a>* srcAddr=0 );
<a name="l00295"></a>00295 
<a name="l00296"></a>00296 <a class="code" href="stun_8h.html#a73736c0f7526e31ef6a35dcc0ebd34ce">NatType</a>
<a name="l00297"></a>00297 <a class="code" href="stun_8cc.html#a1bcb91a498bf5e73ba5b150c5a698c7d">stunNatType</a>( <a class="code" href="structStunAddress4.html">StunAddress4</a>&amp; dest, <span class="keywordtype">bool</span> verbose, 
<a name="l00298"></a>00298              <span class="keywordtype">bool</span>* preservePort=0, <span class="comment">// if set, is return for if NAT preservers ports or not</span>
<a name="l00299"></a>00299              <span class="keywordtype">bool</span>* hairpin=0 ,  <span class="comment">// if set, is the return for if NAT will hairpin packets</span>
<a name="l00300"></a>00300              <span class="keywordtype">int</span> port=0, <span class="comment">// port to use for the test, 0 to choose random port</span>
<a name="l00301"></a>00301              <a class="code" href="structStunAddress4.html">StunAddress4</a>* sAddr=0 <span class="comment">// NIC to use </span>
<a name="l00302"></a>00302    );
<a name="l00303"></a>00303 
<a name="l00305"></a>00305 std::ostream&amp; 
<a name="l00306"></a>00306 <a class="code" href="MessageObserver_8cc.html#a8f32b0caa624b1003f9f7a382c634798">operator&lt;&lt;</a>( std::ostream&amp; strm, <span class="keyword">const</span> <a class="code" href="structStunAddress4.html">StunAddress4</a>&amp; addr);
<a name="l00307"></a>00307 
<a name="l00308"></a>00308 std::ostream&amp; 
<a name="l00309"></a>00309 <a class="code" href="MessageObserver_8cc.html#a8f32b0caa624b1003f9f7a382c634798">operator&lt;&lt; </a>( std::ostream&amp; strm, <span class="keyword">const</span> <a class="code" href="structUInt128.html">UInt128</a>&amp; );
<a name="l00310"></a>00310 
<a name="l00311"></a>00311 
<a name="l00312"></a>00312 <span class="keywordtype">bool</span>
<a name="l00313"></a>00313 <a class="code" href="stun_8cc.html#a811b0bd40524a040d7ec6676e9635c22">stunServerProcessMsg</a>( <span class="keywordtype">char</span>* buf,
<a name="l00314"></a>00314                       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bufLen,
<a name="l00315"></a>00315                       <a class="code" href="structStunAddress4.html">StunAddress4</a>&amp; from, 
<a name="l00316"></a>00316                       <a class="code" href="structStunAddress4.html">StunAddress4</a>&amp; myAddr,
<a name="l00317"></a>00317                       <a class="code" href="structStunAddress4.html">StunAddress4</a>&amp; altAddr, 
<a name="l00318"></a>00318                       <a class="code" href="structStunMessage.html">StunMessage</a>* resp,
<a name="l00319"></a>00319                       <a class="code" href="structStunAddress4.html">StunAddress4</a>* destination,
<a name="l00320"></a>00320                       <a class="code" href="structStunAtrString.html">StunAtrString</a>* hmacPassword,
<a name="l00321"></a>00321                       <span class="keywordtype">bool</span>* changePort,
<a name="l00322"></a>00322                       <span class="keywordtype">bool</span>* changeIp,
<a name="l00323"></a>00323                       <span class="keywordtype">bool</span> verbose);
<a name="l00324"></a>00324 
<a name="l00325"></a>00325 <span class="keywordtype">int</span>
<a name="l00326"></a>00326 <a class="code" href="stun_8cc.html#aa31355ece8353da047608020106c0b60">stunOpenSocket</a>( <a class="code" href="structStunAddress4.html">StunAddress4</a>&amp; dest, 
<a name="l00327"></a>00327                 <a class="code" href="structStunAddress4.html">StunAddress4</a>* mappedAddr, 
<a name="l00328"></a>00328                 <span class="keywordtype">int</span> port=0, 
<a name="l00329"></a>00329                 <a class="code" href="structStunAddress4.html">StunAddress4</a>* srcAddr=0, 
<a name="l00330"></a>00330                 <span class="keywordtype">bool</span> verbose=<span class="keyword">false</span> );
<a name="l00331"></a>00331 
<a name="l00332"></a>00332 <span class="keywordtype">bool</span>
<a name="l00333"></a>00333 <a class="code" href="stun_8cc.html#ad45b49d1f841269cea994ca84e8d071b">stunOpenSocketPair</a>( <a class="code" href="structStunAddress4.html">StunAddress4</a>&amp; dest, <a class="code" href="structStunAddress4.html">StunAddress4</a>* mappedAddr, 
<a name="l00334"></a>00334                     <span class="keywordtype">int</span>* fd1, <span class="keywordtype">int</span>* fd2, 
<a name="l00335"></a>00335                     <span class="keywordtype">int</span> srcPort=0,  <a class="code" href="structStunAddress4.html">StunAddress4</a>* srcAddr=0,
<a name="l00336"></a>00336                     <span class="keywordtype">bool</span> verbose=<span class="keyword">false</span>);
<a name="l00337"></a>00337 
<a name="l00338"></a>00338 <span class="keywordtype">int</span>
<a name="l00339"></a>00339 <a class="code" href="stun_8cc.html#ad4a19c401bea76c471959a32a19b777e" title="return a random number to use as a port">stunRandomPort</a>();
<a name="l00340"></a>00340 
<a name="l00341"></a>00341 <span class="preprocessor">#endif</span>
<a name="l00342"></a>00342 <span class="preprocessor"></span>
<a name="l00343"></a>00343 
<a name="l00344"></a>00344 <span class="comment">/* ====================================================================</span>
<a name="l00345"></a>00345 <span class="comment"> * The Vovida Software License, Version 1.0  *  * Copyright (c) 2000 Vovida Networks, Inc.  All rights reserved. *  * Redistribution and use in source and binary forms, with or without * modification, are permitted provided that the following conditions * are met: *  * 1. Redistributions of source code must retain the above copyright *    notice, this list of conditions and the following disclaimer. *  * 2. Redistributions in binary form must reproduce the above copyright *    notice, this list of conditions and the following disclaimer in *    the documentation and/or other materials provided with the *    distribution. *  * 3. The names &quot;VOCAL&quot;, &quot;Vovida Open Communication Application Library&quot;, *    and &quot;Vovida Open Communication Application Library (VOCAL)&quot; must *    not be used to endorse or promote products derived from this *    software without prior written permission. For written *    permission, please contact vocal@vovida.org. * * 4. Products derived from this software may not be called &quot;VOCAL&quot;, nor *    may &quot;VOCAL&quot; appear in their name, without prior written *    permission of Vovida Networks, Inc. *  * THIS SOFTWARE IS PROVIDED &quot;AS IS&quot; AND ANY EXPRESSED OR IMPLIED * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE AND * NON-INFRINGEMENT ARE DISCLAIMED.  IN NO EVENT SHALL VOVIDA * NETWORKS, INC. OR ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT DAMAGES * IN EXCESS OF $1,000, NOR FOR ANY INDIRECT, INCIDENTAL, SPECIAL, * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE * USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH * DAMAGE. *  * ==================================================================== *  * This software consists of voluntary contributions made by Vovida * Networks, Inc. and many individuals on behalf of Vovida Networks, * Inc.  For more information on Vovida Networks, Inc., please see * &lt;http://www.vovida.org/&gt;.</span>
<a name="l00346"></a>00346 <span class="comment"> *</span>
<a name="l00347"></a>00347 <span class="comment"> */</span>
<a name="l00348"></a>00348 
<a name="l00349"></a>00349 <span class="comment">// Local Variables:</span>
<a name="l00350"></a>00350 <span class="comment">// mode:c++</span>
<a name="l00351"></a>00351 <span class="comment">// c-file-style:&quot;ellemtel&quot;</span>
<a name="l00352"></a>00352 <span class="comment">// c-file-offsets:((case-label . +))</span>
<a name="l00353"></a>00353 <span class="comment">// indent-tabs-mode:nil</span>
<a name="l00354"></a>00354 <span class="comment">// End:</span>
<a name="l00355"></a>00355 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Nov 3 2010 14:40:45 for OverSim by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
